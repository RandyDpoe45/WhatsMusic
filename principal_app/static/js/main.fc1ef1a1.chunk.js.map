{"version":3,"sources":["llar.js","player/player.jsx","timeline/pad-function.js","timeline/seconds-sizes.js","index.js","timeline/timeline-ruler-select-in.jsx","timeline/timeline-ruler-select-out.jsx","timeline/timeline-ruler.jsx","timeline/timeline-frame.jsx","timeline/timeline-frames.jsx","timeline/timeline-layer-header.jsx","timeline/timeline.jsx"],"names":["sound2","sound3","math","require","nj","toWav","audioCtx","window","AudioContext","webkitAudioContext","sign","input","allpass","x","g","d","res","Array","b","a","fill","y","filter","convolution","length","i","j","seriescoefficients","b1","a1","power1","Math","pow","divide","input_size","filter_order","max","push","zi","order","Float32Concat","first","second","firstLength","result","Float32Array","set","Llar","Object","classCallCheck","this","sounds","createClass","key","value","nombre","offset","au","searchAudio","datos","buffer","sampleRate","data","nombres","lenght","index","bool","splice","console","log","duration","ini","fin","inic","fi","tt","sound8","createBufferSource","createBuffer","numberOfChannels","z","getChannelData","zz","r","connect","destination","replace","trackIds","copyToChannel","au2","delete","min","Number","POSITIVE_INFINITY","p","String","soundF","buildGroup","start","pista","stop","time","inicio","veces","volume","appl","space","floor","sub","mody","slice","w","t","aux","o","ii","rr","delay","ping_pong_delay","limin","limsu","incremento","crescendo","abs","decrescendo","gain","mix","from","ss","negative","map","multiply","subtract","ones","size","exp","yy","add","selection","get","parseFloat","distortion","high","mid","low","overdrive","rate","amp","arange","PI","sin_ref","sin","cur_sin","cur_delay","jj","ceil","flanger","segments","initial_angle","final_angle","signal","l","angle_increment","lenseg","pointer","angle","cos","stereo","stereox","concat","z1","stereo_panner","minf","maxf","delta","trem","minimum","maximum","ringModulator","comp","h","compressor","nAll","gainA","k","random","round","res1","coef","mm","reverb","name","sound","decodeAudioData","e","err","names","duple","AudioPlayer","props","_this","possibleConstructorReturn","getPrototypeOf","call","state","llar","playing","position","leftDragDot","progressWidth","buttonClassName","progressBar","React","createRef","button","notloaded","endTime","draw","startTime","currentTime","pause","play","dragging","startX","pageX","startLeftDragDot","parseInt","width","current","offsetWidth","setState","seek","progress","updatePosition","requestAnimationFrame","bind","_this2","react_default","createElement","className","onMouseMove","onDrag","onMouseUp","ref","onClick","toggle","style","left","onMouseDown","Component","padNumber","number","s","nowPlaying","oReq","sourceAux","DEFAULT_SECONDS_RULER","RulerSelectorIn","dragEvent","seconds","handleMouseClick","id","RulerSelectorOut","TimelineRuler","secondsLength","secondsList","getSecondsList","barInit","secondsInit","barOut","secondsOut","draggable","val","clientX","identify","currentClientX","moveMouseX","initialSecs","updateRulerI","updateRulerO","handleRulerDragEnd","handleRulerDraggin","zIndex","timeline_ruler_select_in_RulerSelectorIn","handleRulerDragStart","timeline_ruler_select_out_RulerSelectorOut","list","addVal","currentMinute","currentSecond","TimelineFrame","layerKey","isChecked","groupNames","frameId","frame","trunc","backgroundColor","bgcolor","theKey","type","onChange","addToPlay","TimelineFrames","frames","layers","frameIndex","currentLayer","currentElementIndex","updateFrames","newBar","indexOf","exist","handleFrameDragEnd","timeline_ruler_TimelineRuler","layer","handleFrameDraggin","timeline_frame_TimelineFrame","handleFrameDragStart","black","playStop","btn_class","Timeline","framesUpdated","onUpdateFrames","playSound","timeline_layer_header_RulerSelectorIn","timeline_frames_TimelineFrames","envoy","trackNumber","changeOffset","generateColorStyle","stopCurrentSound","render","ReactDOM","display","accept","target","files","URL","createObjectURL","audio","Audio","addEventListener","track","src","XMLHttpRequest","open","responseType","onload","arrayBuffer","response","processConcatenatedFile","send","readURL","timeline_timeline","player_player","document","getElementById","$","text","parts","cookie","split","pop","shift","getCookie","on","click","FileReader","slideEvt","vol","feed","tim","showDelay","applyDelay","showPingPongDelay","applyPingPongDelay","showCrescendo","applyCrescendo","showDecrescendo","applyDecrescendo","showDistorion","applyDistortion","showOverdrive","applyOverdrive","cut","getOffset","getLength","swal","title","icon","cutTracks","duplicate","duplicateTracks","join","joinTracks","combine","minStart","maxEnd","composedName","substring","combineTracks","showFlanger","applyFlanger","n_segments","showStereoPanner","applyStereoPanner","showRingModulator","applyRingModulator","sim","showCompressor","applyCompressor","wavFile","exportToWav","blob","Blob","DataView","anchor","body","appendChild","url","href","download","revokeObjectURL","exportTracks","deleteTracks"],"mappings":"6MAIIA,EACAC,6DALEC,EAAOC,EAAQ,KACfC,EAAKD,EAAQ,KACfE,EAAQF,EAAQ,KAKhBG,EAAW,IAAKC,OAAOC,cAAgBD,OAAOE,oBAGlD,SAASC,EAAKC,GACV,OAAGA,EAAM,GACG,EACHA,EAAM,EACJ,EAEA,EAIf,SAASC,EAAQC,EAAEC,EAAEC,GACjB,IAAIC,EAAI,IAAIC,MAAM,GACdC,EAAG,IAAID,MAAMF,EAAE,GACfI,EAAG,IAAIF,MAAMF,EAAE,GACnBG,EAAE,GAAGJ,EAAEI,EAAEE,KAAK,EAAE,EAAEL,GAAGG,EAAEH,GAAG,EAC1BI,EAAE,GAAG,EAAEA,EAAEC,KAAK,EAAE,EAAEL,GAAGI,EAAEJ,GAAGD,EAC1B,IAAIO,EAAEC,EAAOJ,EAAEC,EAAEN,GAIjB,OAHAG,EAAI,GAAGK,EACPL,EAAI,GAAGE,EACPF,EAAI,GAAGG,EACAH,EAEX,SAASO,EAAYJ,EAAED,GACnB,IAAIG,EAAG,IAAIJ,MAAME,EAAEK,OAAON,EAAEM,OAAO,GACnCH,EAAED,KAAK,GACP,IAAI,IAAIK,EAAE,EAAEA,EAAEN,EAAEK,OAAOC,IACnB,IAAI,IAAIC,EAAE,EAAEA,EAAER,EAAEM,OAAOE,IACnBL,EAAEI,EAAEC,IAAIR,EAAEQ,GAAGP,EAAEM,GAGvB,OAAOJ,EAEX,SAASM,EAAmBC,EAAGC,EAAGX,EAAEC,GAChC,IAAIH,EAAK,IAAIC,MAAM,GAGnB,OAFAD,EAAI,GAAGO,EAAYK,EAAGV,GACtBF,EAAI,GAAGO,EAAYM,EAAGV,GACfH,EAEX,SAASc,EAAOX,EAAED,GAEd,IADA,IAAIG,EAAE,IAAIJ,MAAME,EAAEK,QACVC,EAAE,EAAEA,EAAEN,EAAEK,OAAOC,IACV,GAANN,EAAEM,GACDJ,EAAEI,GAAG,EAELJ,EAAEI,GAAGM,KAAKC,IAAIb,EAAEM,GAAGP,GAG3B,OAAOG,EAEX,SAASC,EAAOJ,EAAEC,EAAEN,GAEN,GAAPM,EAAE,KACDA,EAAEjB,EAAK+B,OAAOd,EAAEA,EAAE,IAClBD,EAAEhB,EAAK+B,OAAOf,EAAEC,EAAE,KAKtB,IAHA,IAAIE,EAAG,IAAIJ,MAAMJ,EAAEW,QACfU,EAAWrB,EAAEW,OACbW,EAAaJ,KAAKK,IAAIjB,EAAEK,OAAON,EAAEM,QAC7BC,EAAGU,EAAahB,EAAEK,OAAQC,EAAE,EAAEA,IAClCN,EAAEkB,KAAK,GAEX,IAAI,IAAIZ,EAAGU,EAAajB,EAAEM,OAAQC,EAAE,EAAEA,IAClCP,EAAEmB,KAAK,GAEX,IAAIC,EAAG,IAAIrB,MAAMkB,GACjBG,EAAGlB,KAAK,GAER,IAAI,IAAIK,EAAE,EAAEA,EAAES,EAAWT,IAAI,CAEzB,IADA,IAAIc,EAAMJ,EAAa,EACjBI,EAAM,GACLd,GAAGc,IACFD,EAAGC,EAAM,GAAIrB,EAAEqB,GAAO1B,EAAEY,EAAEc,GAAOpB,EAAEoB,GAAOlB,EAAEI,EAAEc,GAASD,EAAGC,IAE9DA,IAEJlB,EAAEI,GAAIP,EAAE,GAAGL,EAAEY,GAAKa,EAAG,GAGzB,OAAOjB,EAGX,SAASmB,EAAcC,EAAOC,GAE1B,IAAIC,EAAcF,EAAMjB,OACpBoB,EAAS,IAAIC,aAAaF,EAAcD,EAAOlB,QAKnD,OAHAoB,EAAOE,IAAIL,GACXG,EAAOE,IAAIJ,EAAQC,GAEZC,EAGJ,IAAMG,EAAb,WAEI,SAAAA,IAAgBC,OAAAC,EAAA,EAAAD,CAAAE,KAAAH,GACZG,KAAKC,OAAS,GAHtB,OAAAH,OAAAI,EAAA,EAAAJ,CAAAD,EAAA,EAAAM,IAAA,cAAAC,MAAA,SAMgBC,GACR,IAAI,IAAI9B,EAAE,EAAEA,EAAEyB,KAAKC,OAAO3B,OAAOC,IAC7B,GAAGyB,KAAKC,OAAO1B,GAAG8B,QAAQA,EACtB,OAAOL,KAAKC,OAAO1B,GAG3B,OAAO,OAZf,CAAA4B,IAAA,eAAAC,MAAA,SAeiBC,EAAOC,GAChB,IAAIC,EAAGP,KAAKQ,YAAYH,GACxBE,EAAGD,OAAOA,EAAOC,EAAGE,MAAMC,OAAOC,aAjBzC,CAAAR,IAAA,UAAAC,MAAA,SAoBYC,EAAOO,GACX,IAAI,IAAIrC,EAAE,EAAEA,EAAEyB,KAAKC,OAAO3B,OAAOC,IAC1ByB,KAAKC,OAAO1B,GAAG8B,QAAQA,IACtBL,KAAKC,OAAO1B,GAAGkC,MAAMG,KAvBrC,CAAAT,IAAA,SAAAC,MAAA,SA4BWS,GACH,IAAI,IAAIrC,EAAE,EAAEA,EAAEqC,EAAQC,OAAOtC,IAAK,CAG9B,IAFA,IAAIuC,OAAK,EACLC,GAAO,EACHzC,EAAE,EAAEA,EAAEyB,KAAKC,OAAO3B,OAAOC,IAC7B,GAAGyB,KAAKC,OAAO1B,GAAG8B,QAAQQ,EAAQrC,GAAG,CACjCuC,EAAMxC,EACNyC,GAAK,EACL,MAGLA,IACChB,KAAKC,OAAOgB,OAAOF,EAAM,GACzBG,QAAQC,IAAIN,EAAQrC,QAzCpC,CAAA2B,IAAA,YAAAC,MAAA,SA6CcS,GAGR,OAFOb,KAAKQ,YAAYK,EAAQ,IAAIJ,MAEzBC,OAAOU,WAhDxB,CAAAjB,IAAA,YAAAC,MAAA,SAkDcS,GACR,OAAOb,KAAKQ,YAAYK,EAAQ,IAAIP,SAnD1C,CAAAH,IAAA,MAAAC,MAAA,SAqDQS,EAAQQ,EAAIC,GAIZ,IAHA,IAAIf,EAAGP,KAAKQ,YAAYK,EAAQ,IAAIJ,MAChCc,EAAKF,EAAId,EAAGG,OAAOC,WACnBa,EAAGF,EAAIf,EAAGG,OAAOC,WACbpC,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IAAI,CAE7B,IAAIkD,GADJlB,EAAGP,KAAKQ,YAAYK,EAAQtC,KAClBkC,MACNiB,EAAQtE,EAASuE,qBACrBD,EAAOhB,OAAQtD,EAASwE,aAAaH,EAAGf,OAAOmB,iBAAiBJ,EAAGf,OAAOpC,QAAQkD,EAAGD,GAAME,EAAGf,OAAOC,YACrG,IAAK,IAAInC,EAAE,EAAEA,EAAEiD,EAAGf,OAAOmB,iBAAiBrD,IAGtC,IAFA,IAAIsD,EAAEL,EAAGf,OAAOqB,eAAevD,GAC3BwD,EAAGN,EAAOhB,OAAOqB,eAAevD,GAC3ByD,EAAE,EAAE9D,EAAE,EAAE8D,EAAEH,EAAExD,OAAO2D,IAAI9D,IACzB8D,GAAGV,IACFU,GAAIT,EAAGD,GAEXS,EAAG7D,GAAG2D,EAAEG,GAGhBP,EAAOQ,QAAQ9E,EAAS+E,aAExBnC,KAAKoC,QAAQ7B,EAAGF,OAAOqB,MA1EnC,CAAAvB,IAAA,YAAAC,MAAA,SA8EcS,EAAQwB,GACd,IAAI,IAAI9D,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IAAI,CAC7B,IAAIgC,EAAGP,KAAKQ,YAAYK,EAAQtC,IAC5BkD,EAAGlB,EAAGE,MACNiB,EAAQtE,EAASuE,qBACrBD,EAAOhB,OAAQtD,EAASwE,aAAaH,EAAGf,OAAOmB,iBAAiBJ,EAAGf,OAAOpC,OAAOmD,EAAGf,OAAOC,YAC3Fe,EAAOQ,QAAQ9E,EAAS+E,aACxB,IAAI,IAAI3D,EAAE,EAAEA,EAAEiD,EAAGf,OAAOmB,iBAAiBrD,IACrCkD,EAAOhB,OAAO4B,cAAcb,EAAGf,OAAOqB,eAAevD,GAAGA,GAE5DwB,KAAKC,OAAOd,KAAK,CAACkB,OAAOgC,EAAS9D,GAAGkC,MAAMiB,EAAOpB,OAAOC,EAAGD,YAxFxE,CAAAH,IAAA,OAAAC,MAAA,SA4FSS,GACD,IAAIN,EAAGP,KAAKQ,YAAYK,EAAQ,IAC5B0B,EAAIvC,KAAKQ,YAAYK,EAAQ,IAEjC,GAAGN,EAAGE,MAAMC,OAAOmB,kBAAkBU,EAAI9B,MAAMC,OAAOmB,iBAAiB,CAEnE,IAAIH,EAAQtE,EAASuE,qBACrBD,EAAOhB,OAAQtD,EAASwE,aAAarB,EAAGE,MAAMC,OAAOmB,iBAAiBtB,EAAGE,MAAMC,OAAOpC,OAAOiE,EAAI9B,MAAMC,OAAOpC,OAAOiC,EAAGE,MAAMC,OAAOC,YAErI,IAAI,IAAInC,EAAE,EAAEA,EAAE+B,EAAGE,MAAMC,OAAOmB,iBAAiBrD,IAAI,CAC/C,IAAIX,EAAGyB,EAAciB,EAAGE,MAAMC,OAAOqB,eAAevD,GAAG+D,EAAI9B,MAAMC,OAAOqB,eAAevD,IACvFkD,EAAOhB,OAAO4B,cAAczE,EAAEW,GAElCwB,KAAKoC,QAAQ7B,EAAGF,OAAOqB,GACvB1B,KAAKwC,OAAO3B,EAAQ,OA1GhC,CAAAV,IAAA,UAAAC,MAAA,SA8GYS,GAEJ,IADA,IAA2CN,EAAvCkC,EAAIC,OAAOC,kBAAkBzD,EAAI,EAC7BX,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,KACzBgC,EAAGP,KAAKQ,YAAYK,EAAQtC,KACtB+B,OAAOmC,IACTA,EAAIlC,EAAGD,QAERC,EAAGD,OAAOC,EAAGE,MAAMC,OAAOpC,OAAOY,IAChCA,EAAIqB,EAAGD,OAAOC,EAAGE,MAAMC,OAAOpC,QAGtC,IAAIoD,EAAQtE,EAASuE,qBACrBD,EAAOhB,OAAQtD,EAASwE,aAAarB,EAAGE,MAAMC,OAAOmB,iBAAiB3C,EAAIqB,EAAGE,MAAMC,OAAOC,YAE1F,IAAI,IAAIpC,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IAAI,CAC7BgC,EAAGP,KAAKQ,YAAYK,EAAQtC,IAC5B,IAAI,IAAIC,EAAE,EAAEA,EAAE+B,EAAGE,MAAMC,OAAOmB,iBAAiBrD,IAG3C,IAFA,IAAIsD,EAAEJ,EAAOhB,OAAOqB,eAAevD,GAC/BwD,EAAGzB,EAAGE,MAAMC,OAAOqB,eAAevD,GAC9BL,EAAE,EAAEyE,EAAErC,EAAGD,OAAOmC,EAAItE,EAAEoC,EAAGE,MAAMC,OAAOpC,OAAOH,IAAIyE,IACrDd,EAAEc,IAAIZ,EAAG7D,GAIrB6B,KAAKC,OAAOd,KAAK,CAACkB,OAAO,cAAc,IAAIwC,OAzO1C,GAyOuDpC,MAAMiB,EAAOpB,OAAOmC,MAtIpF,CAAAtC,IAAA,aAAAC,MAAA,SA0IeS,EAAQS,GACf,IAAIf,EAAIP,KAAKQ,YAAYK,EAAQ,IAC7BiC,EAAQ1F,EAASuE,qBACrBmB,EAAOpC,OAAQtD,EAASwE,aAAarB,EAAGE,MAAMC,OAAOmB,iBAAiBP,EAAIf,EAAGE,MAAMC,OAAOC,WAAWJ,EAAGE,MAAMC,OAAOC,YAErH,IAAI,IAAIpC,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IAAI,CAC7BgC,EAAGP,KAAKQ,YAAYK,EAAQtC,IAC5B,IAAI,IAAIC,EAAE,EAAEA,EAAE+B,EAAGE,MAAMC,OAAOmB,iBAAiBrD,IAG3C,IAFA,IAAIsD,EAAEgB,EAAOpC,OAAOqB,eAAevD,GAC/BwD,EAAGzB,EAAGE,MAAMC,OAAOqB,eAAevD,GAC9BL,EAAE,EAAEyE,EAAErC,EAAGD,OAAOnC,EAAEoC,EAAGE,MAAMC,OAAOpC,OAAOH,IAAIyE,IACjDd,EAAEc,IAAIZ,EAAG7D,GAKrB,OADA2E,EAAOZ,QAAQ9E,EAAS+E,aACjB,CAACW,EAAQ1F,KA1JxB,CAAA+C,IAAA,YAAAC,MAAA,SA6JcS,EAAQS,GACDtB,KAAK+C,WAAWlC,EAASS,GAC/B,GAAG0B,MAAM,KA/JxB,CAAA7C,IAAA,YAAAC,MAAA,SAkKcC,GACN,IAAI4C,EAAMjD,KAAKQ,YAAYH,GACjB,MAAP4C,KACClG,EAAQK,EAASuE,sBACVjB,OAAOuC,EAAMxC,MAAMC,OAC1B3D,EAAOmF,QAAQ9E,EAAS+E,aACxBpF,EAAOiG,MAAM,MAxKzB,CAAA7C,IAAA,mBAAAC,MAAA,WA4KmB,MAARrD,IACCA,EAAOmG,KAAK,GACZnG,EAAO,QA9KnB,CAAAoD,IAAA,QAAAC,MAAA,SAkLUC,EAAO8C,EAAKC,EAAO9B,EAAI+B,EAAMC,EAAOC,GACtC,IAAIN,EAAMjD,KAAKQ,YAAYH,GAC3BvD,EAAOmG,EAAMxC,MAIb,IAHA,IAAI+C,EAAO3E,KAAK4E,MAAM3G,EAAO4D,OAAOC,WAAWwC,GAC3CO,EAAI,EAAEL,EAED7E,EAAE,EAAEA,EAAE1B,EAAO4D,OAAOmB,iBAAiBrD,IAAI,CAG9C,IAFA,IAAIsD,EAAEhF,EAAO4D,OAAOqB,eAAevD,GAC/BmF,EAAK7B,EAAE8B,MAAMR,EAAOtG,EAAO4D,OAAOC,WAAWW,EAAIxE,EAAO4D,OAAOC,WAAW6C,EAAMH,GAC5E9E,EAAE,EAAEsF,EAAET,EAAOtG,EAAO4D,OAAOC,WAAWpC,EAAE+C,EAAIxE,EAAO4D,OAAOC,WAAWkD,GAAGL,EAAMjF,GAAGiF,EAGrF,IAFA,IAAIM,EAAEhC,EAAE8B,MAAMC,EAAEA,EAAEL,GACdO,EAAIF,EACAG,EAAE,EAAEC,EAAG,EAAED,EAAEX,EAAMW,IAAIC,GAAIP,EAAI,CACjC,IAAI,IAAId,EAAEmB,EAAI5F,EAAE,EAAEA,EAAEqF,EAAMZ,IAAIzE,IAC1BwF,EAAKf,GAAGe,EAAKf,GAAGkB,EAAE3F,GAAG8F,EAEzBF,GAAKP,EAIb,GAAGD,EAEC,IADA,IAAIvB,EAAGjF,EAAO2D,OAAOqB,eAAevD,GAC5ByD,EAAE,EAAEiC,EAAGd,EAAOtG,EAAO4D,OAAOC,WAAWsB,EAAE0B,EAAKrF,OAAO2D,IAAIiC,IAC7DlC,EAAGC,IAAI0B,EAAK1B,GAAGqB,OAGnB,IAAI,IAAIrB,EAAE,EAAEiC,EAAGd,EAAOtG,EAAO4D,OAAOC,WAAWsB,EAAE0B,EAAKrF,OAAO2D,IAAIiC,IAC7DpC,EAAEoC,GAAIP,EAAK1B,GAAGqB,KA7MlC,CAAAnD,IAAA,YAAAC,MAAA,SAmNcS,EAAQsC,EAAKC,EAAO9B,EAAI+B,EAAMC,GACpC,IAAI/C,EAAGP,KAAKQ,YAAYK,EAAQ,IAAIJ,MAChC+C,EAAO3E,KAAK4E,MAAMlD,EAAGG,OAAOC,WAAWwC,IAC3CpG,EAAQK,EAASuE,sBACVjB,OAAQtD,EAASwE,aAAarB,EAAGG,OAAOmB,iBAAiBP,EAAIf,EAAGG,OAAOC,WAAW6C,EAAMH,EAAMD,EAAO7C,EAAGG,OAAOC,WAAWJ,EAAGG,OAAOC,YAC3I,IAAI,IAAIpC,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IACzByB,KAAKmE,MAAMtD,EAAQtC,GAAG4E,EAAKC,EAAO9B,EAAI+B,EAAMC,GAAO,GAEvDvG,EAAOmF,QAAQ9E,EAAS+E,aACxBpF,EAAOiG,MAAM,KA5NrB,CAAA7C,IAAA,aAAAC,MAAA,SA+NeS,EAAQsC,EAAKC,EAAO9B,EAAI+B,EAAMC,GACrC,IAAI,IAAI/E,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IACzByB,KAAKmE,MAAMtD,EAAQtC,GAAG4E,EAAKC,EAAO9B,EAAI+B,EAAMC,GAAO,KAjO/D,CAAAnD,IAAA,kBAAAC,MAAA,SAqOoBC,EAAO8C,EAAKC,EAAO9B,EAAI+B,EAAMC,EAAOC,GAChD,IAAIN,EAAMjD,KAAKQ,YAAYH,GAC3BvD,EAAOmG,EAAMxC,MAKb,IAJA,IAAI+C,EAAO3E,KAAK4E,MAAM3G,EAAO4D,OAAOC,WAAWwC,GAC3CO,EAAI,EAAEL,EAEN/C,EAAO,EACF9B,EAAE,EAAEA,EAAE1B,EAAO4D,OAAOmB,iBAAiBrD,IAAI,CAG9C,IAFA,IAAIsD,EAAEhF,EAAO4D,OAAOqB,eAAevD,GAC/BmF,EAAK7B,EAAE8B,MAAMR,EAAOtG,EAAO4D,OAAOC,WAAWW,EAAIxE,EAAO4D,OAAOC,WAAW6C,EAAMH,GAC5E9E,EAAE,EAAEsF,EAAET,EAAOtG,EAAO4D,OAAOC,WAAWpC,EAAE+C,EAAIxE,EAAO4D,OAAOC,WAAWkD,GAAGL,EAAMjF,GAAGiF,EAGrF,IAFA,IAAIM,EAAEhC,EAAE8B,MAAMC,EAAEA,EAAEL,GACdO,EAAIF,EACAG,EAAE,EAAEC,EAAG,EAAED,EAAEX,EAAMW,IAAIC,GAAIP,EAAI,CACjC,IAAI,IAAId,EAAEmB,EAAI5F,EAAE,EAAEA,EAAEqF,EAAMZ,IAAIzE,IAC1BwF,EAAKf,GAAGe,EAAKf,GAAGkB,EAAE3F,GAAG8F,EAEzBF,GAAKP,EAIb,GAAGD,EAEC,IADA,IAAIvB,EAAGjF,EAAO2D,OAAOqB,eAAevD,GAC5ByD,EAAE,EAAEiC,EAAG5D,EAAO2B,EAAE0B,EAAKrF,OAAO2D,GAAGuB,EAAMU,GAAIV,EAC7C,IAAI,IAAIM,EAAE,EAAEA,EAAEN,EAAMM,IAAI7B,IAAIiC,IACxBlC,EAAGkC,IAAKP,EAAK1B,GAAGqB,OAIxB,IAAI,IAAIrB,EAAE3B,EAAO4D,EAAGd,EAAOtG,EAAO4D,OAAOC,WAAWL,EAAO2B,EAAE0B,EAAKrF,OAAO2D,GAAGuB,EAAMU,GAAIV,EAClF,IAAI,IAAIM,EAAE,EAAEA,EAAEN,EAAMM,IAAI7B,IAAIiC,IACxBpC,EAAEoC,GAAIP,EAAK1B,GAAGqB,EAK1BhD,EAAOkD,KAzQnB,CAAArD,IAAA,oBAAAC,MAAA,SA8QsBS,EAAQsC,EAAKC,EAAO9B,EAAI+B,EAAMC,GAC5C,IAAI/C,EAAGP,KAAKQ,YAAYK,EAAQ,IAAIJ,MAChC+C,EAAO3E,KAAK4E,MAAMlD,EAAGG,OAAOC,WAAWwC,IAC3CpG,EAAQK,EAASuE,sBACVjB,OAAQtD,EAASwE,aAAarB,EAAGG,OAAOmB,iBAAiBP,EAAIf,EAAGG,OAAOC,WAAW6C,EAAMH,EAAMD,EAAO7C,EAAGG,OAAOC,WAAWJ,EAAGG,OAAOC,YAC3I,IAAI,IAAIpC,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IACzByB,KAAKoE,gBAAgBvD,EAAQtC,GAAG4E,EAAKC,EAAO9B,EAAI+B,EAAMC,GAAO,GAGjEvG,EAAOmF,QAAQ9E,EAAS+E,aACxBpF,EAAOiG,MAAM,KAxRrB,CAAA7C,IAAA,qBAAAC,MAAA,SA2RuBS,EAAQsC,EAAKC,EAAO9B,EAAI+B,EAAMC,GAC7C,IAAI,IAAI/E,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IACzByB,KAAKoE,gBAAgBvD,EAAQtC,GAAG4E,EAAKC,EAAO9B,EAAI+B,EAAMC,GAAO,KA7RzE,CAAAnD,IAAA,YAAAC,MAAA,SAiScC,EAAO+C,EAAO9B,EAAI+C,EAAMC,EAAMhB,EAAOC,GAM3C,IALA,IAAIN,EAAMjD,KAAKQ,YAAYH,GAEvBgB,EAAI+B,GADRtG,EAAOmG,EAAMxC,OACSC,OAAOC,WACzBa,EAAGF,EAAIxE,EAAO4D,OAAOC,WACrB4D,GAAYD,EAAMD,IAAQ7C,EAAGH,GACxB7C,EAAE,EAAEA,EAAE1B,EAAO4D,OAAOmB,iBAAiBrD,IAAI,CAE9C,IAAIsD,EAAEhF,EAAO4D,OAAOqB,eAAevD,GACnC,GAAG+E,EAEC,IADA,IAAIvB,EAAGjF,EAAO2D,OAAOqB,eAAevD,GAC3BoE,EAAEvB,EAAIyC,EAAE,EAAEvF,EAAE8F,EAAMzB,EAAEpB,EAAGoB,IAAIkB,IAAIvF,GAAGgG,EACvCvC,EAAG8B,IAAIhC,EAAEc,GAAGrE,EAAE+E,OAGlB,IAAK,IAAIV,EAAEvB,EAAI9C,EAAE8F,EAAMzB,EAAEpB,EAAGoB,IAAIrE,GAAGgG,EAC/BzC,EAAEc,GAAGd,EAAEc,GAAGrE,EAAE+E,KAjThC,CAAAnD,IAAA,gBAAAC,MAAA,SAsTkBS,EAAQuC,EAAO9B,EAAI+C,EAAMC,EAAMhB,GACzC,IAAI/C,EAAGP,KAAKQ,YAAYK,EAAQ,IAAIJ,OACpC1D,EAAQK,EAASuE,sBACVjB,OAAQtD,EAASwE,aAAarB,EAAGG,OAAOmB,iBAAiBP,EAAIf,EAAGG,OAAOC,WAAWyC,EAAO7C,EAAGG,OAAOC,WAAWJ,EAAGG,OAAOC,YAC/H,IAAI,IAAIpC,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IACzByB,KAAKwE,UAAU3D,EAAQtC,GAAG6E,EAAO9B,EAAI+C,EAAMC,EAAMhB,GAAO,GAG5DvG,EAAOmF,QAAQ9E,EAAS+E,aACxBpF,EAAOiG,MAAM,KA/TrB,CAAA7C,IAAA,iBAAAC,MAAA,SAiUmBS,EAAQuC,EAAO9B,EAAI+C,EAAMC,EAAMhB,GAC1C,IAAI,IAAI/E,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IACzByB,KAAKwE,UAAU3D,EAAQtC,GAAG6E,EAAO9B,EAAI+C,EAAMC,EAAMhB,GAAO,KAnUpE,CAAAnD,IAAA,cAAAC,MAAA,SAuUgBC,EAAO+C,EAAO9B,EAAI+C,EAAMC,EAAMhB,EAAOC,GAO7C,IANA,IAAIN,EAAMjD,KAAKQ,YAAYH,GAEvBgB,EAAI+B,GADRtG,EAAOmG,EAAMxC,OACSC,OAAOC,WACzBa,EAAGF,EAAIxE,EAAO4D,OAAOC,WAErB4D,EAAW1F,KAAK4F,IAAIH,EAAMD,IAAQ7C,EAAGH,GAChC7C,EAAE,EAAEA,EAAE1B,EAAO4D,OAAOmB,iBAAiBrD,IAAI,CAC9C,IAAIsD,EAAEhF,EAAO4D,OAAOqB,eAAevD,GACnC,GAAG+E,EAEC,IADA,IAAIvB,EAAGjF,EAAO2D,OAAOqB,eAAevD,GAC3BoE,EAAEvB,EAAIyC,EAAE,EAAEvF,EAAE+F,EAAM1B,EAAEpB,EAAGoB,IAAIkB,IAAIvF,GAAGgG,EACvCvC,EAAG8B,IAAIhC,EAAEc,GAAGrE,EAAE+E,OAGlB,IAAK,IAAIV,EAAEvB,EAAI9C,EAAE+F,EAAM1B,EAAEpB,EAAGoB,IAAIrE,GAAGgG,EAC/BzC,EAAEc,GAAGd,EAAEc,GAAGrE,EAAE+E,KAvVhC,CAAAnD,IAAA,kBAAAC,MAAA,SA4VoBS,EAAQuC,EAAO9B,EAAI+C,EAAMC,EAAMhB,GAC3C,IAAI/C,EAAGP,KAAKQ,YAAYK,EAAQ,IAAIJ,OACpC1D,EAAQK,EAASuE,sBACVjB,OAAQtD,EAASwE,aAAarB,EAAGG,OAAOmB,iBAAiBP,EAAIf,EAAGG,OAAOC,WAAWyC,EAAO7C,EAAGG,OAAOC,WAAWJ,EAAGG,OAAOC,YAC/H,IAAI,IAAIpC,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IACzByB,KAAK0E,YAAY7D,EAAQtC,GAAG6E,EAAO9B,EAAI+C,EAAMC,EAAMhB,GAAO,GAG9DvG,EAAOmF,QAAQ9E,EAAS+E,aACxBpF,EAAOiG,MAAM,KArWrB,CAAA7C,IAAA,mBAAAC,MAAA,SAuWqBS,EAAQuC,EAAO9B,EAAI+C,EAAMC,EAAMhB,GAC5C,IAAI,IAAI/E,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IACzByB,KAAK0E,YAAY7D,EAAQtC,GAAG6E,EAAO9B,EAAI+C,EAAMC,EAAMhB,GAAO,KAzWtE,CAAAnD,IAAA,aAAAC,MAAA,SA6WeC,EAAO+C,EAAO9B,EAAIgC,EAAOqB,EAAKC,EAAIrB,GAMzC,IALA,IAAIN,EAAMjD,KAAKQ,YAAYH,GAEvBgB,EAAI+B,GADRtG,EAAOmG,EAAMxC,OACSC,OAAOC,WACzBa,EAAGF,EAAIxE,EAAO4D,OAAOC,WAEhBnC,EAAE,EAAEA,EAAE1B,EAAO4D,OAAOmB,iBAAiBrD,IAAI,CAC9C,IAAIsD,EAAEhF,EAAO4D,OAAOqB,eAAevD,GAC/BP,EAAEF,MAAM8G,KAAK/C,EAAE8B,MAAMvC,EAAIG,IAEzBsD,GADE5H,EAAG6B,OAAOd,EAAEjB,EAAKkC,IAAIlC,EAAKyH,IAAIxG,KAC7Bf,EAAG6H,SAAS9G,EAAE+G,IAAIxH,KACzBsE,EAAE5E,EAAG+H,SAASH,EAAG5H,EAAGgI,SAAShI,EAAGiI,KAAKL,EAAGM,MAAMlI,EAAGmI,IAAInI,EAAG+H,SAASH,EAAG5H,EAAG+H,SAAShH,EAAE0G,OAClF,IAAIxG,EAAEjB,EAAG6B,OAAO7B,EAAG+H,SAAS/H,EAAG+H,SAASnD,EAAE9E,EAAKkC,IAAIlC,EAAKyH,IAAIxG,KAAK2G,GAAK5H,EAAKkC,IAAIlC,EAAKyH,IAAIxG,KAEpFqH,EAAIpI,EAAGqI,IAAIpH,EAAEjB,EAAG+H,SAAShH,EAAG,EAAE2G,IAElC,GADAU,EAAGpI,EAAG6B,OAAO7B,EAAG+H,SAASK,EAAGtI,EAAKkC,IAAIlC,EAAKyH,IAAIxG,KAAKjB,EAAKkC,IAAIlC,EAAKyH,IAAIa,EAAGE,UAAU5E,QAC/E2C,EAEC,IADA,IAAIvB,EAAGjF,EAAO2D,OAAOqB,eAAevD,GAC3BoE,EAAEvB,EAAIyC,EAAE,EAAElB,EAAEpB,EAAGoB,IAAIkB,IACxB9B,EAAG8B,IAAIwB,EAAGG,IAAI3B,GAAGR,OAKrB,IADA,IAAIrB,EAAEnF,EAAO4D,OAAOqB,eAAevD,GAC1BoE,EAAEvB,EAAIyC,EAAE,EAAElB,EAAEpB,EAAGoB,IAAIkB,IACxB7B,EAAEW,GAAGF,OAAOgD,WAAWJ,EAAGG,IAAI3B,GAAGR,MAtYrD,CAAAnD,IAAA,gBAAAC,MAAA,SA2YkBS,EAAQuC,EAAO9B,EAAIgC,EAAOqB,EAAKC,GACzC,IAAIrE,EAAGP,KAAKQ,YAAYK,EAAQ,IAAIJ,OACpC1D,EAAQK,EAASuE,sBACVjB,OAAQtD,EAASwE,aAAarB,EAAGG,OAAOmB,iBAAiBP,EAAIf,EAAGG,OAAOC,WAAWyC,EAAO7C,EAAGG,OAAOC,WAAWJ,EAAGG,OAAOC,YAC/H,IAAI,IAAIpC,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IACzByB,KAAK2F,WAAW9E,EAAQtC,GAAG6E,EAAO9B,EAAIgC,EAAOqB,EAAKC,GAAI,GAG1D7H,EAAOmF,QAAQ9E,EAAS+E,aACxBpF,EAAOiG,MAAM,KApZrB,CAAA7C,IAAA,kBAAAC,MAAA,SAsZoBS,EAAQuC,EAAO9B,EAAIgC,EAAOqB,EAAKC,GAC3C1D,QAAQC,IAAI,UACZ,IAAI,IAAI5C,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IACzByB,KAAK2F,WAAW9E,EAAQtC,GAAG6E,EAAO9B,EAAIgC,EAAOqB,EAAKC,GAAI,KAzZlE,CAAAzE,IAAA,YAAAC,MAAA,SA6ZcC,EAAO+C,EAAO9B,EAAIgC,EAAOsC,EAAKC,EAAIC,EAAIvC,GAM5C,IALA,IAAIN,EAAMjD,KAAKQ,YAAYH,GAEvBgB,EAAI+B,GADRtG,EAAOmG,EAAMxC,OACSC,OAAOC,WACzBa,EAAGF,EAAIxE,EAAO4D,OAAOC,WAEhBnC,EAAE,EAAEA,EAAE1B,EAAO4D,OAAOmB,iBAAiBrD,IAAI,CAC9C,IAAIsD,EAAEhF,EAAO4D,OAAOqB,eAAevD,GACnC,GAAG+E,EAGC,IAFA,IAAIvB,EAAGjF,EAAO2D,OAAOqB,eAAevD,GAE3BoE,EAAEvB,EAAIyC,EAAE,EAAElB,EAAEpB,EAAGoB,IAAIkB,IACrBjF,KAAK4F,IAAI3C,EAAEc,IAAI,EAAE,EAChBZ,EAAG8B,IAAQ,EAAJgC,EAAMjH,KAAK4F,IAAI3C,EAAEc,IACnB/D,KAAK4F,IAAI3C,EAAEc,KAAK,EAAE,EACpBd,EAAEc,GAAG,EACJZ,EAAG8B,IAAI+B,GAAK,GAAI,EAAE,EAAE/D,EAAEc,KAAK,EAAE,EAAEd,EAAEc,KAAM,EAEvCZ,EAAG8B,IAAI+B,GAAK,GAAI,EAAE,EAAEhH,KAAK4F,IAAI3C,EAAEc,MAAM,EAAE,EAAE/D,KAAK4F,IAAI3C,EAAEc,MAAO,EAE1D/D,KAAK4F,IAAI3C,EAAEc,KAAK,EAAE,IACpBd,EAAEc,GAAG,EACJZ,EAAG8B,IAAI,EAAE8B,EAET5D,EAAG8B,KAAK,EAAE8B,OAMtB,CAAM9I,EAAO4D,OAAOqB,eAAevD,GACnC,IADA,IACSoE,EAAEvB,EAAIuB,EAAEpB,EAAGoB,IACb/D,KAAK4F,IAAI3C,EAAEc,IAAI,EAAE,EAChBd,EAAEc,GAAO,EAAJkD,EAAMjH,KAAK4F,IAAI3C,EAAEc,IACjB/D,KAAK4F,IAAI3C,EAAEc,KAAK,EAAE,EACpBd,EAAEc,GAAG,EACJd,EAAEc,GAAGiD,GAAK,GAAI,EAAE,EAAE/D,EAAEc,KAAK,EAAE,EAAEd,EAAEc,KAAM,EAErCd,EAAEc,IAAIiD,GAAK,GAAI,EAAE,EAAEhH,KAAK4F,IAAI3C,EAAEc,MAAM,EAAE,EAAE/D,KAAK4F,IAAI3C,EAAEc,MAAO,EAEzD/D,KAAK4F,IAAI3C,EAAEc,KAAK,EAAE,IACpBd,EAAEc,GAAG,EACJd,EAAEc,GAAQ,EAALgD,EAEL9D,EAAEc,GAAS,GAALgD,OAzclC,CAAAzF,IAAA,gBAAAC,MAAA,SAgdkBS,EAAQuC,EAAO9B,EAAIgC,EAAOsC,EAAKC,EAAIC,GAC7C,IAAIvF,EAAGP,KAAKQ,YAAYK,EAAQ,IAAIJ,OACpC1D,EAAQK,EAASuE,sBACVjB,OAAQtD,EAASwE,aAAarB,EAAGG,OAAOmB,iBAAiBP,EAAIf,EAAGG,OAAOC,WAAWyC,EAAO7C,EAAGG,OAAOC,WAAWJ,EAAGG,OAAOC,YAC/H,IAAI,IAAIpC,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IACzByB,KAAK+F,UAAUlF,EAAQtC,GAAG6E,EAAO9B,EAAIgC,EAAOsC,EAAKC,EAAIC,GAAI,GAG7D/I,EAAOmF,QAAQ9E,EAAS+E,aACxBpF,EAAOiG,MAAM,KAzdrB,CAAA7C,IAAA,iBAAAC,MAAA,SA4dmBS,EAAQuC,EAAO9B,EAAIgC,EAAOsC,EAAKC,EAAIC,GAC9C,IAAI,IAAIvH,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IACzByB,KAAK+F,UAAUlF,EAAQtC,GAAG6E,EAAO9B,EAAIgC,EAAOsC,EAAKC,EAAIC,GAAI,KA9drE,CAAA3F,IAAA,UAAAC,MAAA,SAkeYC,EAAO+C,EAAO9B,EAAIgC,EAAOH,EAAK6C,EAAKC,EAAI1C,GAC3C,IAAIN,EAAMjD,KAAKQ,YAAYH,GAC3BvD,EAAOmG,EAAMxC,MACb,IAAIY,EAAIxC,KAAK4E,MAAML,EAAOtG,EAAO4D,OAAOC,YACpCa,EAAG3C,KAAK4E,MAAMnC,EAAIxE,EAAO4D,OAAOC,YAChC6C,EAAM3E,KAAK4E,MAAMN,EAAKrG,EAAO4D,OAAOC,YACpCI,EAAM7D,EAAGgJ,OAAO,EAAE1E,EAAGH,GACzBN,EAAM7D,EAAG+H,SAASlH,MAAM8G,KAAK9D,EAAMyE,UAAU5E,MAAM,EAAE/B,KAAKsH,IAAIH,EAAKlJ,EAAO4D,OAAOC,aAGjF,IAFA,IAAIyF,EAAQlJ,EAAGmJ,IAAItF,GAEVvC,EAAE,EAAEA,EAAE1B,EAAO4D,OAAOmB,iBAAiBrD,IAAI,CAC9C,IAAIsD,EAAEhF,EAAO4D,OAAOqB,eAAevD,GACnC,GAAG+E,EAAK,CAEJ,IADA,IAAIvB,EAAGjF,EAAO2D,OAAOqB,eAAevD,GAC5BD,EAAE,EAAEuF,EAAEzC,EAAI9C,EAAEiF,EAAMjF,IAAIuF,IAC1B9B,EAAGzD,IAAIuD,EAAEgC,GAGb,IADA,IAAIwC,OAAO,EAACC,OAAS,EACbC,EAAGnF,EAAImC,EAAM/B,EAAG+B,EAAMgD,EAAGhF,EAAGgF,IAAK/E,IACrC6E,EAAQzH,KAAK4F,IAAI2B,EAAQZ,UAAU5E,KAAKa,IACxC8E,EAAU1H,KAAK4H,KAAKH,EAAQ9C,GAC5BxB,EAAGP,IAAMwE,EAAInE,EAAE0E,GAAKP,EAAKnE,EAAE0E,EAAGD,QAKlC,IADA,IAAID,OAAO,EAACC,OAAS,EACbC,EAAGnF,EAAImC,EAAM/B,EAAG+B,EAAMgD,EAAGhF,EAAGgF,IAAK/E,IACrC6E,EAAQzH,KAAK4F,IAAI2B,EAAQZ,UAAU5E,KAAKa,IACxC8E,EAAU1H,KAAK4H,KAAKH,EAAQ9C,GAC5B1B,EAAE0E,GAAIP,EAAKnE,EAAE0E,GAAKP,EAAKnE,EAAE0E,EAAGD,MA/fhD,CAAApG,IAAA,cAAAC,MAAA,SAsgBgBS,EAAQuC,EAAO9B,EAAIgC,EAAOH,EAAK6C,EAAKC,GAC5C,IAAI1F,EAAGP,KAAKQ,YAAYK,EAAQ,IAAIJ,MACpCS,QAAQC,IAAInB,KAAKQ,YAAYK,EAAQ,IAAIR,SACzCtD,EAAQK,EAASuE,sBACVjB,OAAQtD,EAASwE,aAAarB,EAAGG,OAAOmB,iBAAiBP,EAAIf,EAAGG,OAAOC,WAAWyC,EAAO7C,EAAGG,OAAOC,WAAWJ,EAAGG,OAAOC,YAC/H,IAAI,IAAIpC,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IACzByB,KAAK0G,QAAQ7F,EAAQtC,GAAG6E,EAAO9B,EAAIgC,EAAOH,EAAK6C,EAAKC,GAAI,GAG5DlJ,EAAOmF,QAAQ9E,EAAS+E,aACxBpF,EAAOiG,MAAM,KAhhBrB,CAAA7C,IAAA,eAAAC,MAAA,SAkhBiBS,EAAQuC,EAAO9B,EAAIgC,EAAOH,EAAK6C,EAAKC,GAC7C,IAAI,IAAI1H,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IACzByB,KAAK0G,QAAQ7F,EAAQtC,GAAG6E,EAAO9B,EAAIgC,EAAOH,EAAK6C,EAAKC,GAAI,KAphBpE,CAAA9F,IAAA,gBAAAC,MAAA,SAwhBkBC,EAAO+C,EAAO9B,EAAIgC,EAAOqD,EAASC,EAAcC,EAAYtD,GACtE,IAAIN,EAAMjD,KAAKQ,YAAYH,GAC3BvD,EAAOmG,EAAMxC,MAIb,IAHA,IAAIY,EAAIxC,KAAK4E,MAAML,EAAOtG,EAAO4D,OAAOC,YACpCa,EAAG3C,KAAK4E,MAAMnC,EAAIxE,EAAO4D,OAAOC,YAChCmG,EAAQ,IAAI/I,MAAMyD,EAAGH,GAAKnD,KAAK,GAC3B6I,EAAE,EAAEA,EAAEjK,EAAO4D,OAAOmB,iBAAiBkF,IAEzC,IADA,IAAIjF,EAAEhF,EAAO4D,OAAOqB,eAAegF,GAC3BxI,EAAE,EAAEuF,EAAEzC,EAAI9C,EAAEuI,EAAOxI,OAAOC,IAAIuF,IAClCgD,EAAOvI,IAAIuD,EAAEgC,GAQrB,IALA,IAAIkD,GAAkBJ,EAAgBC,GAAaF,EAAW9H,KAAKsH,GAAI,IACnEc,EAAOpI,KAAK4H,MAAMjF,EAAGH,GAAKsF,GAC1BO,EAAU,EACVC,EAAOP,EAAgB/H,KAAKsH,GAAG,IAC/BhI,EAAE,CAAC,IAAIJ,MAAM,GAAG,IAAIA,MAAM,IACrBQ,EAAE,EAAEA,EAAEoI,EAASpI,IAAI,CACxB,IAAIN,EAAE,CAAC,CAACY,KAAKuI,IAAID,GAAOtI,KAAKwH,IAAIc,IAAQ,EAAE,EAAEtI,KAAKwH,IAAIc,GAAOtI,KAAKuI,IAAID,KAClEE,EAAQP,EAAOlD,MAAMsD,EAAQA,EAAQD,GACrCK,EAAQ,CAACD,EAAOA,GAChBvJ,EAAId,EAAKiI,SAAShH,EAAEqJ,GACxBnJ,EAAE,GAAGA,EAAE,GAAGoJ,OAAOzJ,EAAI,IACrBK,EAAE,GAAGA,EAAE,GAAGoJ,OAAOzJ,EAAI,IACrBoJ,GAASD,EACTE,GAAOH,EAEX,GAAGzD,EAGC,IAFA,IAAIzB,EAAE/E,EAAO2D,OAAOqB,eAAe,GAC/ByF,EAAGzK,EAAO2D,OAAOqB,eAAe,GAC5BxD,EAAE,EAAEA,EAAEJ,EAAE,GAAGG,OAAOC,IACtBuD,EAAEvD,IAAI+E,EAAOnF,EAAE,GAAGI,GAClBiJ,EAAGjJ,IAAI+E,EAAOnF,EAAE,GAAGI,QAKvB,IAFA,IAAIuD,EAAEhF,EAAO4D,OAAOqB,eAAe,GAC/ByF,EAAG1K,EAAO4D,OAAOqB,eAAe,GAC5BxD,EAAE,EAAEuF,EAAEzC,EAAI9C,EAAEJ,EAAE,GAAGG,OAAOC,IAAIuF,IAChChC,EAAEgC,GAAGR,EAAOnF,EAAE,GAAGI,GACjBiJ,EAAG1D,GAAGR,EAAOnF,EAAE,GAAGI,KA/jBlC,CAAA4B,IAAA,mBAAAC,MAAA,SAqkBqBS,EAAQuC,EAAO9B,EAAIgC,EAAOqD,EAASC,EAAcC,GAC9D,IAAItG,EAAGP,KAAKQ,YAAYK,EAAQ,IAAIJ,OACpC1D,EAAQK,EAASuE,sBACVjB,OAAQtD,EAASwE,aAAarB,EAAGG,OAAOmB,iBAAiBP,EAAIf,EAAGG,OAAOC,WAAWyC,EAAO7C,EAAGG,OAAOC,WAAWJ,EAAGG,OAAOC,YAC/H,IAAI,IAAIpC,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IACzByB,KAAKyH,cAAc5G,EAAQtC,GAAG6E,EAAO9B,EAAIgC,EAAOqD,EAASC,EAAcC,GAAY,GAEvF9J,EAAOmF,QAAQ9E,EAAS+E,aACxBpF,EAAOiG,MAAM,KA7kBrB,CAAA7C,IAAA,oBAAAC,MAAA,SAglBsBS,EAAQuC,EAAO9B,EAAIgC,EAAOqD,EAASC,EAAcC,GAC/D,IAAI,IAAItI,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IACzByB,KAAKyH,cAAc5G,EAAQtC,GAAG6E,EAAO9B,EAAIgC,EAAOqD,EAASC,EAAcC,GAAY,KAllB/F,CAAA1G,IAAA,gBAAAC,MAAA,SAslBkBC,EAAO+C,EAAO9B,EAAIgC,EAAOoE,EAAKC,EAAKC,EAAMrE,GACnD,IAAIN,EAAMjD,KAAKQ,YAAYH,GAC3BvD,EAAOmG,EAAMxC,MAMb,IALA,IAAIY,EAAIxC,KAAK4E,MAAML,EAAOtG,EAAO4D,OAAOC,YACpCa,EAAG3C,KAAK4E,MAAMnC,EAAIxE,EAAO4D,OAAOC,YAEhCkH,EAAM,IAAI9J,MAAM,GAEd8J,EAAKvJ,OAAOkD,EAAGH,GAAI,CACrB,IAAI,IAAI9C,EAAEoJ,EAAKpJ,GAAGmJ,EAAKnJ,GAAGqJ,EACtBC,EAAK1I,KAAKZ,GAEd,IAAI,IAAIA,EAAEmJ,EAAKnJ,EAAEoJ,EAAKpJ,GAAGqJ,EACrBC,EAAK1I,KAAKZ,GAGlBsJ,EAAKA,EAAKjE,MAAM,EAAEpC,EAAGH,GAErB,IAAI,IAAI7C,EAAE,EAAEA,EAAE1B,EAAO4D,OAAOmB,iBAAiBrD,IAAI,CAC7C,IAAIsD,EAAEhF,EAAO4D,OAAOqB,eAAevD,GACnC,GAAG+E,EAEC,IADA,IAAIvB,EAAGjF,EAAO2D,OAAOqB,eAAevD,GAC5BD,EAAE,EAAEkD,EAAGJ,EAAII,EAAGD,EAAGjD,IAAIkD,IACzBO,EAAGzD,IAAIuD,EAAEL,GAAIoG,EAAKtJ,GAAG+E,OAGzB,IAAI,IAAI/E,EAAE,EAAEkD,EAAGJ,EAAII,EAAGD,EAAGjD,IAAIkD,IACzBK,EAAEL,GAAIK,EAAEL,GAAIoG,EAAKtJ,GAAG+E,KAjnBxC,CAAAnD,IAAA,oBAAAC,MAAA,SAunBsBS,EAAQuC,EAAO9B,EAAIgC,EAAOwE,EAAQC,EAAQH,GACxD,IAAIrH,EAAGP,KAAKQ,YAAYK,EAAQ,IAAIJ,OACpC1D,EAAQK,EAASuE,sBACVjB,OAAQtD,EAASwE,aAAarB,EAAGG,OAAOmB,iBAAiBP,EAAIf,EAAGG,OAAOC,WAAWyC,EAAO7C,EAAGG,OAAOC,WAAWJ,EAAGG,OAAOC,YAC/H,IAAI,IAAIpC,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IACzByB,KAAKgI,cAAcnH,EAAQtC,GAAG6E,EAAO9B,EAAIgC,EAAOwE,EAAQC,EAAQH,GAAM,GAE1E7K,EAAOmF,QAAQ9E,EAAS+E,aACxBpF,EAAOiG,MAAM,KA/nBrB,CAAA7C,IAAA,qBAAAC,MAAA,SAioBuBS,EAAQuC,EAAO9B,EAAIgC,EAAOwE,EAAQC,EAAQH,GACzD,IAAI,IAAIrJ,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IACzByB,KAAKgI,cAAcnH,EAAQtC,GAAG6E,EAAO9B,EAAIgC,EAAOwE,EAAQC,EAAQH,GAAM,KAnoBlF,CAAAzH,IAAA,aAAAC,MAAA,SAuoBeC,EAAO+C,EAAO9B,EAAIgC,EAAO2E,EAAKhK,EAAEsF,GACvC,IAAIN,EAAMjD,KAAKQ,YAAYH,GAC3BvD,EAAOmG,EAAMxC,MAGb,IAFA,IAAIY,EAAIxC,KAAK4E,MAAML,EAAOtG,EAAO4D,OAAOC,YACpCa,EAAG3C,KAAK4E,MAAMnC,EAAIxE,EAAO4D,OAAOC,YAC5BnC,EAAE,EAAEA,EAAE1B,EAAO4D,OAAOmB,iBAAiBrD,IAAI,CAE7C,IAAIsD,EAAEhF,EAAO4D,OAAOqB,eAAevD,GAC/Bb,EAAEI,MAAM8G,KAAK/C,EAAE8B,MAAMvC,EAAIG,IACzB0G,EAAE9J,EAAO,EAAE,EAAEH,IAAI,EAAEA,IAAI,CAAC,GAAI,EAAEA,EAAGA,EAAEA,GAAGjB,EAAKyH,IAAI9G,IAEnDuK,EAAEtJ,EADFsJ,EAAEhL,EAAG6B,OAAOmJ,EAAEhL,EAAGgC,IAAIgJ,IAAI1C,UAAU5E,KACxBqH,GACX,IAAI9J,EAAGjB,EAAG+H,SAAStH,EAAEuK,GAAG1C,UAAU5E,KAASkD,EAAE9G,EAAKkC,IAAIlC,EAAKyH,IAAI9G,IAAIX,EAAKkC,IAAIlC,EAAKyH,IAAItG,IAGrF,GAFAA,EAAIjB,EAAG+H,SAAS9G,EAAE2F,GAAG0B,UAAU5E,KAE5B2C,EAEC,IADA,IAAIvB,EAAIjF,EAAO2D,OAAOqB,eAAevD,GAC7BD,EAAE,EAAEA,EAAEZ,EAAEW,OAAOC,IACnByD,EAAGzD,GAAG+E,EAAOnF,EAAEI,QAGnB,IAAI,IAAIA,EAAE,EAAEkD,EAAGJ,EAAI9C,EAAEZ,EAAEW,OAAOC,IAAIkD,IAC9BK,EAAEL,GAAI6B,EAAOnF,EAAEI,MA7pBnC,CAAA4B,IAAA,iBAAAC,MAAA,SAkqBmBS,EAAQuC,EAAO9B,EAAIgC,EAAO2E,EAAKhK,GAC1C,IAAIsC,EAAGP,KAAKQ,YAAYK,EAAQ,IAAIJ,OACpC1D,EAAQK,EAASuE,sBACVjB,OAAQtD,EAASwE,aAAarB,EAAGG,OAAOmB,iBAAiBP,EAAIf,EAAGG,OAAOC,WAAWyC,EAAO7C,EAAGG,OAAOC,WAAWJ,EAAGG,OAAOC,YAC/H,IAAI,IAAIpC,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IACzByB,KAAKmI,WAAWtH,EAAQtC,GAAG6E,EAAO9B,EAAIgC,EAAO2E,EAAKhK,GAAE,GAExDlB,EAAOmF,QAAQ9E,EAAS+E,aACxBpF,EAAOiG,MAAM,KA1qBrB,CAAA7C,IAAA,kBAAAC,MAAA,SA4qBoBS,EAAQuC,EAAO9B,EAAIgC,EAAO2E,EAAKhK,GAC3C,IAAI,IAAIM,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IACzByB,KAAKmI,WAAWtH,EAAQtC,GAAG6E,EAAO9B,EAAIgC,EAAO2E,EAAKhK,GAAE,KA9qBhE,CAAAkC,IAAA,SAAAC,MAAA,SAkrBWC,EAAO+C,EAAO9B,EAAIgC,EAAO8E,EAAKC,EAAMC,EAAE/E,GACzC,IAAIN,EAAMjD,KAAKQ,YAAYH,GAC3BvD,EAAOmG,EAAMxC,MACb,IAAIY,EAAIxC,KAAK4E,MAAML,EAAOtG,EAAO4D,OAAOC,YACpCa,EAAG3C,KAAK4E,MAAMnC,EAAIxE,EAAO4D,OAAOC,YAChC9C,EAAGX,EAAG+H,SAAS/H,EAAGqL,OAAOH,GAAM,IACnCvK,EAAGX,EAAGsL,MAAMtL,EAAG+H,SAASpH,EAA2B,IAAzBf,EAAO4D,OAAOC,aAAkB6E,UAAU5E,KAEpE,IAAI,IAAIpC,EAAE,EAAEA,EAAE1B,EAAO4D,OAAOmB,iBAAiBrD,IAAI,CAI7C,IAHA,IACIV,EAAIJ,EADFK,MAAM8G,KAAK/H,EAAO4D,OAAOqB,eAAevD,GAAGoF,MAAMvC,EAAIG,IACzC6G,EAAMxK,EAAE,IACtBG,EAAEF,EAAI,GAAGG,EAAEH,EAAI,GAAGK,EAAEL,EAAI,GACpBS,EAAE,EAAEA,EAAE6J,EAAK7J,IAAI,CACnB,IAAIkK,EAAK/K,EAAQS,EAAEkK,EAAMxK,EAAEU,IACvBmK,EAAKjK,EAAmBgK,EAAK,GAAGA,EAAK,GAAGzK,EAAEC,GAC9CA,EAAEyK,EAAK,GAAG1K,EAAE0K,EAAK,GACjBvK,EAAEsK,EAAK,GAGX,IAAIE,EAAG3L,EAAKkC,IAAIf,GAChB,GAAGoF,EAEC,IADA,IAAIvB,EAAGjF,EAAO2D,OAAOqB,eAAevD,GAC5BD,EAAE,EAAEA,EAAEJ,EAAEG,OAAOC,IACnByD,EAAGzD,GAAGJ,EAAEI,GAAGoK,KAzsB/B,CAAAxI,IAAA,aAAAC,MAAA,SAktBeS,EAAQuC,EAAO9B,EAAIgC,EAAO8E,EAAKC,EAAMC,GAC5C,IAAI/H,EAAGP,KAAKQ,YAAYK,EAAQ,IAAIJ,OACpC1D,EAAQK,EAASuE,sBACVjB,OAAQtD,EAASwE,aAAarB,EAAGG,OAAOmB,iBAAiBP,EAAIf,EAAGG,OAAOC,WAAWyC,EAAO7C,EAAGG,OAAOC,WAAWJ,EAAGG,OAAOC,YAC/H,IAAI,IAAIpC,EAAE,EAAEA,EAAEsC,EAAQvC,OAAOC,IACzByB,KAAK4I,OAAO/H,EAAQtC,GAAG6E,EAAO9B,EAAIgC,EAAO8E,EAAKC,EAAMC,GAAE,GAE1DvL,EAAOmF,QAAQ9E,EAAS+E,aACxBpF,EAAOiG,MAAM,KA1tBrB,CAAA7C,IAAA,0BAAAC,MAAA,SA4tB6ByI,EAAKjI,GAC1B,IAAKkI,EAAQ1L,EAASuE,qBAEtBvE,EAAS2L,gBAAgBnI,EAAM,SAASF,GAEpCoI,EAAMpI,OAASA,EAEfoI,EAAM5G,QAAQ9E,EAAS+E,cAEvB,SAAS6G,GAAI9H,QAAQC,IAAI,iCAAmC6H,EAAEC,OAElEjJ,KAAKC,OAAOd,KAAK,CAACkB,OAAOwI,EAAKpI,MAAMqI,EAAMxI,OAAO,MAvuBzD,CAAAH,IAAA,cAAAC,MAAA,SA2uBgB8I,EAAM5H,GACd,IAAI6H,EAAQnJ,KAAK+C,WAAWmG,EAAM5H,GAEf6H,EAAM,GACNA,EAAM,GAQzB,OADkBhM,EAAMgM,EAAM,GAAGzI,OAAQ,QAtvBjDb,EAAA,2BCoCeuJ,sBAtIX,SAAAA,EAAYC,GAAM,IAAAC,EAAA,OAAAxJ,OAAAC,EAAA,EAAAD,CAAAE,KAAAoJ,IACdE,EAAAxJ,OAAAyJ,EAAA,EAAAzJ,CAAAE,KAAAF,OAAA0J,EAAA,EAAA1J,CAAAsJ,GAAAK,KAAAzJ,KAAMqJ,KACDK,MAAQ,CACTC,KAAMN,EAAMM,KACZC,SAAS,EACTC,SAAU,EACVC,YAAa,MACbC,cAAe,MACfC,gBAAiB,qBAErBV,EAAKW,YAAcC,IAAMC,YACzBb,EAAKc,OAASF,IAAMC,YACpBb,EAAKI,MAAMW,WAAY,EAZTf,oEAebnG,GACEnD,KAAK0J,MAAMG,UAAY7J,KAAKqJ,MAAMiB,UAAUtK,KAAK0J,MAAMG,SAAW,GAClE1G,IAAMnD,KAAK0J,MAAMG,SAAW1G,GAE/B,IAAIgG,EAAQnJ,KAAK0J,MAAMC,KAAK5G,WAAW/C,KAAKqJ,MAAMH,MAAOlJ,KAAKqJ,MAAMiB,SACpEtK,KAAK0J,MAAMZ,MAAQK,EAAM,GACzBnJ,KAAK0J,MAAMtM,SAAW+L,EAAM,GACzBnJ,KAAK0J,MAAMW,YACVrK,KAAKuK,OACLvK,KAAK0J,MAAMW,WAAY,GAE3BrK,KAAK0J,MAAMc,UAAYxK,KAAK0J,MAAMtM,SAASqN,YAAczK,KAAK0J,MAAMG,SACpE7J,KAAK0J,MAAMZ,MAAM9F,MAAM,EAAGhD,KAAK0J,MAAMG,SAAS7J,KAAKqJ,MAAMiB,SACzDtK,KAAK0J,MAAME,SAAU,kCAKhB5J,KAAK0J,MAAME,UACZ5J,KAAK0J,MAAMG,SAAW7J,KAAK0J,MAAMtM,SAASqN,YAAczK,KAAK0J,MAAMc,UACnExK,KAAK0J,MAAMZ,MAAM5F,KAAK,GACtBlD,KAAK0J,MAAME,SAAU,oCAKnB5J,KAAK0J,MAAME,QAIb5J,KAAK0K,QAHL1K,KAAK2K,2CAOD3B,GACRhJ,KAAK0J,MAAMkB,UAAW,EACtB5K,KAAK0J,MAAMmB,OAAS7B,EAAE8B,MACtB9K,KAAK0J,MAAMqB,iBAAmBC,SAAShL,KAAK0J,MAAMI,aAAe,EAAG,mCAGjEd,GACH,IAAIiC,EAAOpB,EACN7J,KAAK0J,MAAMkB,WAEhBK,EAAQjL,KAAKiK,YAAYiB,QAAQC,YACjCtB,EAAW7J,KAAK0J,MAAMqB,kBAAqB/B,EAAE8B,MAAQ9K,KAAK0J,MAAMmB,QAChEhB,EAAWhL,KAAKK,IAAIL,KAAK4D,IAAIwI,EAAOpB,GAAW,GAC/C7J,KAAKoL,SAAS,CAACtB,YAAaD,EAAW,4CAIvC,IAAIoB,EAAa9H,EACZnD,KAAK0J,MAAMkB,WACZK,EAAQjL,KAAKiK,YAAYiB,QAAQC,YAEjChI,EADO6H,SAAShL,KAAK0J,MAAMI,aAAe,EAAG,IAC/BmB,EAAQjL,KAAK0J,MAAMZ,MAAMpI,OAAOU,SAC9CpB,KAAK0J,MAAMkB,UAAW,EACtB5K,KAAKqL,KAAKlI,iCAIbA,GACGnD,KAAK0J,MAAME,SACX5J,KAAK0J,MAAMZ,MAAM5F,KAAK,GACtBlD,KAAKuK,OACLvK,KAAK2K,KAAKxH,KAGVnD,KAAKoL,SAAS,CAACvB,SAAU1G,IACzBnD,KAAKuK,iDAYT,OANAvK,KAAK0J,MAAMG,SACP7J,KAAK0J,MAAME,QAAU5J,KAAK0J,MAAMtM,SAASqN,YAAczK,KAAK0J,MAAMc,UAAYxK,KAAK0J,MAAMG,SACxF7J,KAAK0J,MAAMG,UAAY7J,KAAK0J,MAAMZ,MAAMpI,OAAOU,WAChDpB,KAAK0J,MAAMG,SAAW7J,KAAK0J,MAAMZ,MAAMpI,OAAOU,SAC9CpB,KAAK0K,SAEF1K,KAAK0J,MAAMG,wCAIlB,IAAK7J,KAAK0J,MAAMkB,SAAU,CACtB,IAAIU,EAAYtL,KAAKuL,iBAAmBvL,KAAK0J,MAAMZ,MAAMpI,OAAOU,SAC5D6J,EAAQjL,KAAKiK,YAAYiB,QAAQC,YACjCnL,KAAK0J,MAAME,QACX5J,KAAKoL,SAAS,CAACpB,gBAAiB,uBAEhChK,KAAKoL,SAAS,CAACpB,gBAAiB,sBAEpChK,KAAKoL,SAAS,CAACrB,cAAgBuB,EAAWL,EAAS,OAC9CjL,KAAK4K,UACN5K,KAAKoL,SAAS,CAACtB,YAAcwB,EAAWL,EAAS,OAErDO,sBAAsBxL,KAAKuK,KAAKkB,KAAKzL,yCAIrC,IAAA0L,EAAA1L,KACJ,OACI2L,EAAA1N,EAAA2N,cAAA,OAAKC,UAAU,SACVC,YAAa,SAAC9C,GAAD,OAAO0C,EAAKK,OAAO/C,IAChCgD,UAAW,kBAAMN,EAAKM,cAEvBL,EAAA1N,EAAA2N,cAAA,UAAQC,UAAW7L,KAAK0J,MAAMM,gBAAiBiC,IAAKjM,KAAKoK,OAAQ8B,QAASlM,KAAKmM,OAAOV,KAAKzL,QAC3F2L,EAAA1N,EAAA2N,cAAA,OAAKC,UAAU,cAAeI,IAAKjM,KAAKiK,aACpC0B,EAAA1N,EAAA2N,cAAA,OAAKC,UAAU,WAAWO,MAAO,CAACnB,MAAOjL,KAAK0J,MAAMK,iBACpD4B,EAAA1N,EAAA2N,cAAA,OAAKC,UAAU,UAAUO,MAAO,CAACC,KAAMrM,KAAK0J,MAAMI,aAC7CwC,YAAa,SAACtD,GAAD,OAAO0C,EAAKY,YAAYtD,eA/HpCkB,IAAMqC,YCHjB,SAASC,EAAUC,EAAQrH,GAEtC,IADA,IAAIsH,EAAI7J,OAAO4J,GACRC,EAAEpO,QAAU8G,GAAQ,IAAKsH,EAAI,IAAMA,EAC1C,OAAOA,ECHJ,ICWHC,EAEAC,EAkBAC,ED/BSC,EAAwB,GEEhBC,cAEjB,SAAAA,EAAY1D,GAAQ,OAAAvJ,OAAAC,EAAA,EAAAD,CAAAE,KAAA+M,GAAAjN,OAAAyJ,EAAA,EAAAzJ,CAAAE,KAAAF,OAAA0J,EAAA,EAAA1J,CAAAiN,GAAAtD,KAAAzJ,KACVqJ,kFAGOL,GACbhJ,KAAKqJ,MAAM2D,UAAUhE,EAAE,yCAGlB,IAAAM,EAAAtJ,KACL,OACI2L,EAAA1N,EAAA2N,cAAA,OAAKC,UAAU,wCACVO,MAAO,CAACC,KAAMrM,KAAKqJ,MAAM4D,QAAUjN,KAAKqJ,MAAM4D,QAAS,GACvDX,YAAa,SAACtD,GAAD,OAAOM,EAAK4D,iBAAiBlE,IAC1CmE,GAAG,oBACHtO,KAAK4E,MAAMzD,KAAKqJ,MAAM4D,QAAQ,WAhBF/C,IAAMqC,WCA9Ba,cAEjB,SAAAA,EAAY/D,GAAQ,OAAAvJ,OAAAC,EAAA,EAAAD,CAAAE,KAAAoN,GAAAtN,OAAAyJ,EAAA,EAAAzJ,CAAAE,KAAAF,OAAA0J,EAAA,EAAA1J,CAAAsN,GAAA3D,KAAAzJ,KACVqJ,kFAGOL,GACbhJ,KAAKqJ,MAAM2D,UAAUhE,EAAE,wCAGlB,IAAAM,EAAAtJ,KACL,OACI2L,EAAA1N,EAAA2N,cAAA,OAAKC,UAAU,wCACVO,MAAO,CAACC,KAAMrM,KAAKqJ,MAAM4D,QAAUjN,KAAKqJ,MAAM4D,QAAS,GACvDX,YAAa,SAACtD,GAAD,OAAOM,EAAK4D,iBAAiBlE,IAC1CmE,GAAG,kBACHtO,KAAK4E,MAAMzD,KAAKqJ,MAAM4D,QAAQ,GAAG,WAhBJ/C,IAAMqC,WCK/Bc,cAEjB,SAAAA,EAAYhE,GAAO,IAAAC,EAAAxJ,OAAAC,EAAA,EAAAD,CAAAE,KAAAqN,GACf/D,EAAAxJ,OAAAyJ,EAAA,EAAAzJ,CAAAE,KAAAF,OAAA0J,EAAA,EAAA1J,CAAAuN,GAAA5D,KAAAzJ,KAAMqJ,IACN,IAAIiE,EAAgBjE,EAAM4D,QAAU,EAAI5D,EAAM4D,QAAUH,EAFzC,OAGfxD,EAAKI,MAAQ,CACT6D,YAAaF,EAAcG,eAAeF,GAC1CG,QAASpE,EAAMqE,YACfC,OAAQtE,EAAMuE,WACdC,UAAW,MAPAvE,oFA0BEN,EAAG8E,GACpB,IAAMC,EAAU/E,EAAE+E,QAClB/N,KAAKoL,SAAS,CAACyC,UAAU,CACjBhD,OAAQkD,EACRC,SAAUF,gDAIH9E,GACf,GAAIhJ,KAAK0J,MAAMmE,UAAf,CACA,IAAMI,EAAiBjF,EAAE+E,QACnBG,EAAcD,EAAiBjO,KAAK0J,MAAMmE,UAAUhD,OAG1D,GAAmC,SAAhC7K,KAAK0J,MAAMmE,UAAUG,SAAkB,CACtC,IAAIG,EAAcnO,KAAK0J,MAAM+D,QAC7BU,GAA4BD,EAC5BlO,KAAKoL,SAAS,CACVqC,QAASU,EACTN,UAAW,CACPhD,OAAQoD,EACRD,SAAUhO,KAAK0J,MAAMmE,UAAUG,YAGvChO,KAAKqJ,MAAM+E,aAAaD,QAEvB,GAAoC,QAAhCnO,KAAK0J,MAAMmE,UAAUG,SAAiB,CAC3C,IAAIG,EAAcnO,KAAK0J,MAAMiE,OAC7BQ,GAA4BD,EAC5BlO,KAAKoL,SAAS,CACVuC,OAAQQ,EACRN,UAAW,CACPhD,OAAQoD,EACRD,SAAUhO,KAAK0J,MAAMmE,UAAUG,YAGvChO,KAAKqJ,MAAMgF,aAAaF,kDAK5BnO,KAAKoL,SAAS,CAACyC,UAAU,wCAGpB,IAAAnC,EAAA1L,KACL,OACI2L,EAAA1N,EAAA2N,cAAA,OAAKC,UAAU,gCACXO,MAAO,CAACnB,MJ/EM,GI+ECjL,KAAK0J,MAAM6D,YAAYjP,OJhFxB,GADG,IIkFhB0N,UAAW,kBAAMN,EAAK4C,sBACtBxC,YAAa,SAAC9C,GAAD,OAAO0C,EAAK6C,mBAAmBvF,KAE5ChJ,KAAK0J,MAAM6D,YAAYvI,IAAI,SAACxF,GAAD,OACxBmM,EAAA1N,EAAA2N,cAAA,OAAKC,UAAU,qCAAqC1L,IAAKX,GACrDmM,EAAA1N,EAAA2N,cAAA,QAAMQ,MAAO,CAACoC,OAAQ,MAAShP,GAC/BmM,EAAA1N,EAAA2N,cAAA,OAAKC,UAAU,0CACfF,EAAA1N,EAAA2N,cAAA,OAAKC,UAAU,0CACfF,EAAA1N,EAAA2N,cAAA,OAAKC,UAAU,0CACfF,EAAA1N,EAAA2N,cAAA,OAAKC,UAAU,0CACfF,EAAA1N,EAAA2N,cAAA,OAAKC,UAAU,6CAGvBF,EAAA1N,EAAA2N,cAAA,OAAKC,UAAU,4BACXF,EAAA1N,EAAA2N,cAAC6C,EAAD,CACIxB,QAASjN,KAAK0J,MAAM+D,QACpBT,UAAWhN,KAAK0O,qBAAqBjD,KAAKzL,QAE9C2L,EAAA1N,EAAA2N,cAAC+C,EAAD,CACI1B,QAASjN,KAAK0J,MAAMiE,OACpBX,UAAWhN,KAAK0O,qBAAqBjD,KAAKzL,mDAnFxCiN,GAClB,IAAI2B,EAAO,GACPpP,EAAS,GACTqP,EAASrP,EACb,EACA,CACI,IAAIsP,EAAgBjQ,KAAK4E,MAAMjE,EAAO,IAClCuP,EAAiBvP,EAAwB,GAAdsP,EAC/BF,EAAKzP,KAAL,GAAAoI,OAAaiF,EAAUsC,EAAc,GAArC,KAAAvH,OAA2CiF,EAAUuC,EAAc,KACnEvP,GAAkBqP,QAEhBrP,GAAQyN,GACd,OAAO2B,SAzB4B1E,IAAMqC,WCL5ByC,cAEjB,SAAAA,EAAY3F,GAAOvJ,OAAAC,EAAA,EAAAD,CAAAE,KAAAgP,GAAA,OACflP,OAAAyJ,EAAA,EAAAzJ,CAAAE,KAAAF,OAAA0J,EAAA,EAAA1J,CAAAkP,GAAAvF,KAAAzJ,KAAMqJ,kFAIOL,GACbhJ,KAAKqJ,MAAM2D,UAAUhE,EAAGhJ,KAAKqJ,MAAM4F,SAAUjP,KAAKqJ,MAAMtI,2CAIxDf,KAAKkP,UAAYlP,KAAKkP,WAAY,EAAOlP,KAAKkP,WAAY,EAC1DlP,KAAKqJ,MAAM8F,WAAWnP,KAAKqJ,MAAM+F,QAAQpP,KAAKkP,4CAGzC,IAAAxD,EAAA1L,KAEL,OADAA,KAAKqJ,MAAMgG,MAAMpC,QAAUpO,KAAKyQ,MAAMtP,KAAKqJ,MAAMgG,MAAMpC,SAEnDtB,EAAA1N,EAAA2N,cAAA,OAAK/C,KAAM7I,KAAKqJ,MAAM+F,QAClBvD,UAAU,sCACTO,MAAO,CAACnB,MAAiC,EAA1BjL,KAAKqJ,MAAMgG,MAAMjO,SAC5BiL,KAA8B,EAAxBrM,KAAKqJ,MAAMgG,MAAM7P,OAAmC,EAAxBQ,KAAKqJ,MAAMgG,MAAM7P,OAAU,EAC7D+P,gBAAgBvP,KAAKqJ,MAAMgG,MAAMG,SAErClD,YAAa,SAACtD,GAAD,OAAO0C,EAAKwB,iBAAiBlE,IAC1C7I,IAAKH,KAAKqJ,MAAMoG,QAGjB9D,EAAA1N,EAAA2N,cAAA,SAAO/C,KAAM7I,KAAKqJ,MAAM+F,QAASM,KAAK,WAAWC,SAAU,SAAC3G,GAAD,OAAO0C,EAAKkE,UAAUlE,EAAKrC,MAAMgG,MAAOrG,MAVvG,SAYI2C,EAAA1N,EAAA2N,cAAA,WAZJ,WAaa/M,KAAKyQ,MAAMtP,KAAKqJ,MAAMgG,MAAM7P,QACrCmM,EAAA1N,EAAA2N,cAAA,WAdJ,eAeiB5L,KAAKqJ,MAAMgG,MAAMxG,aAlCHqB,IAAMqC,WCG5BsD,cAEjB,SAAAA,EAAYxG,GAAO,IAAAC,EAAA,OAAAxJ,OAAAC,EAAA,EAAAD,CAAAE,KAAA6P,IACfvG,EAAAxJ,OAAAyJ,EAAA,EAAAzJ,CAAAE,KAAAF,OAAA0J,EAAA,EAAA1J,CAAA+P,GAAApG,KAAAzJ,KAAMqJ,KACDK,MAAQ,CACToG,OAAQzG,EAAMyG,OACd7C,QAAS5D,EAAM4D,QACfS,YAAarE,EAAMqE,YACnBE,WAAYvE,EAAMuE,WAClBmC,OAAQ1G,EAAM0G,OACdlC,UAAW,KACX3E,MAAO,IATII,4HAiBEN,EAAGiG,EAAUe,GAC9B,IAAMjC,EAAU/E,EAAE+E,QAClB/N,KAAKoL,SAAS,CAACyC,UAAU,CACrBoC,aAAchB,EACdiB,oBAAqBF,EACrBnF,OAAQkD,gDAIG/E,GACf,GAAIhJ,KAAK0J,MAAMmE,UAAf,CACA,IAAMI,EAAiBjF,EAAE+E,QACnBG,GAAcD,EAAiBjO,KAAK0J,MAAMmE,UAAUhD,QAAQ,EAG5D9J,EAAQf,KAAK0J,MAAMmE,UAAUqC,oBAC7BjB,EAAWjP,KAAK0J,MAAMmE,UAAUoC,aAClCH,EAAS9P,KAAK0J,MAAMoG,OACrBA,EAAOb,GAAUlO,GAAOvB,OAAS0O,EAAY,IAChD4B,EAAOb,GAAUlO,GAAOvB,OAASsQ,EAAOb,GAAUlO,GAAOvB,OAAS0O,EAClElO,KAAKoL,SAAS,CAAC0E,OAAQA,EAAQjC,UAAW,CAClCoC,aAAchB,EACdiB,oBAAqBnP,EACrB8J,OAAQoD,oDAMhBjO,KAAKoL,SAAS,CAACyC,UAAU,OACzB7N,KAAKqJ,MAAM8G,aAAanQ,KAAK0J,MAAMoG,6CAG1BM,GACTpQ,KAAKoL,SAAS,CAACsC,YAAa0C,yCAGnBA,GACTpQ,KAAKoL,SAAS,CAACwC,WAAYwC,uCAGpBvH,EAAMtD,GACbA,EAAMvF,KAAK0J,MAAMR,MAAM/J,KAAK0J,GAAQ7I,KAAK0J,MAAMR,MAAMjI,OAAQjB,KAAK0J,MAAMR,MAAMmH,QAAQxH,GAAO,GAC7F7I,KAAKoL,SAAS,CAAClC,MAAOlJ,KAAK0J,MAAMR,QAEjC,IAAI,IAAI3K,EAAE,EAAEA,EAAEyB,KAAK0J,MAAMR,MAAM5K,OAAOC,IAAI,CAEtC,IADA,IAAI+R,GAAQ,EACJ9R,EAAE,EAAEA,EAAEwB,KAAK0J,MAAMqG,OAAOzR,OAAOE,IAChCwB,KAAK0J,MAAMqG,OAAOvR,GAAG2O,IAAMnN,KAAK0J,MAAMR,MAAM3K,KAC3C+R,GAAQ,GAGZA,GACAtQ,KAAK0J,MAAMR,MAAMjI,OAAO1C,EAAE,GAGlCyB,KAAKoL,SAASpL,KAAK0J,MAAMR,OACzBlJ,KAAKqJ,MAAM8F,WAAWnP,KAAK0J,MAAMR,wCAG5B,IAAAwC,EAAA1L,KACL,OACI2L,EAAA1N,EAAA2N,cAAA,OAAKC,UAAU,0BACXG,UAAW,kBAAMN,EAAK6E,uBACtB5E,EAAA1N,EAAA2N,cAAC4E,EAAD,CACIvD,QAASjN,KAAK0J,MAAMuD,QACpBS,YAAa1N,KAAK0J,MAAMgE,YACxBE,WAAY5N,KAAK0J,MAAMkE,WACvBQ,aAAcpO,KAAKoO,aAAa3C,KAAKzL,MACrCqO,aAAcrO,KAAKqO,aAAa5C,KAAKzL,QAExCA,KAAK0J,MAAMqG,OAAO/K,IAAI,SAACyL,GAAD,OACnB9E,EAAA1N,EAAA2N,cAAA,OAAKC,UAAU,oCAAoC1L,IAAKsQ,EAAMtD,IAC1DxB,EAAA1N,EAAA2N,cAAA,OAAKC,UAAU,gCACXO,MAAO,CAACnB,MNhGN,GMgGaS,EAAKhC,MAAMuD,QN/FxB,GM+F8D,IAChEnB,YAAa,SAAC9C,GAAD,OAAO0C,EAAKgF,mBAAmB1H,KAE/C0C,EAAKhC,MAAMoG,OAAOW,EAAMtD,KACzBzB,EAAKhC,MAAMoG,OAAOW,EAAMtD,IAAInI,IAAI,SAACqK,EAAOtO,GAAR,OAC5B4K,EAAA1N,EAAA2N,cAAC+E,EAAD,CACIvB,QAASqB,EAAMtD,GACfhN,IAAKY,EACLA,MAAOA,EACPsO,MAAOA,EACPJ,SAAUwB,EAAMtD,GAChBH,UAAWtB,EAAKkF,qBAAqBnF,KAAKC,GAC1CyD,WAAYzD,EAAKyD,WAAW1D,KAAKC,mBAzGrBxB,IAAMqC,WCH7BQ,cAEjB,SAAAA,EAAY1D,GAAO,IAAAC,EAAA,OAAAxJ,OAAAC,EAAA,EAAAD,CAAAE,KAAA+M,IACfzD,EAAAxJ,OAAAyJ,EAAA,EAAAzJ,CAAAE,KAAAF,OAAA0J,EAAA,EAAA1J,CAAAiN,GAAAtD,KAAAzJ,KAAMqJ,KACDK,MAAQ,CAAC+F,OAAQpG,EAAMlJ,IAAK0Q,MAAOxH,EAAMwH,OAF/BvH,0EAMftJ,KAAKoL,SAAS,CAACyF,OAAQ7Q,KAAK0J,MAAMmH,QAClC7Q,KAAKqJ,MAAMyH,SAAS9Q,KAAK0J,MAAMmH,MAAO7Q,KAAKqJ,MAAMoG,yCAIjDzP,KAAK0J,MAAMmH,MAAQ7Q,KAAKqJ,MAAMwH,MAC9B,IAAIE,EAAY/Q,KAAK0J,MAAMmH,MAAQ,cAAgB,eACnD,OACIlF,EAAA1N,EAAA2N,cAAA,MAAIuB,GAAInN,KAAK0J,MAAM+F,OAAQvD,QAASlM,KAAK8Q,SAASrF,KAAKzL,MAAO6L,UAAWkF,WAhBxC7G,IAAMqC,WCoEpCyE,sBA9DX,SAAAA,EAAY3H,GAAO,IAAAC,EAAA,OAAAxJ,OAAAC,EAAA,EAAAD,CAAAE,KAAAgR,IACf1H,EAAAxJ,OAAAyJ,EAAA,EAAAzJ,CAAAE,KAAAF,OAAA0J,EAAA,EAAA1J,CAAAkR,GAAAvH,KAAAzJ,KAAMqJ,KACDK,MAAQ,CAACqG,OAAQ1G,EAAM0G,OAAQD,OAAQzG,EAAMyG,OAAQpC,YAAY,EAClEE,WAAW,GAAIiD,OAAM,GAHVvH,8EAOJ2H,GACXjR,KAAKoL,SAAS,CAAC0E,OAAQmB,IACvBjR,KAAKqJ,MAAM6H,eAAeD,sCAGnB/H,GACPlJ,KAAKqJ,MAAM8F,WAAWjG,oCAGjBlI,EAAMyO,GACXzP,KAAKqJ,MAAM8H,UAAUnQ,EAAMyO,oCAGtB,IAAA/D,EAAA1L,KACL,OAAO2L,EAAA1N,EAAA2N,cAAA,OAAKC,UAAU,mBAClBF,EAAA1N,EAAA2N,cAAA,OAAKC,UAAU,8BACXF,EAAA1N,EAAA2N,cAAA,OAAKC,UAAU,2BACXF,EAAA1N,EAAA2N,cAAA,OAAKC,UAAU,kCAAf,SACAF,EAAA1N,EAAA2N,cAAA,UACK5L,KAAK0J,MAAMqG,OAAO/K,IAAI,SAACyL,GAAD,OACnB9E,EAAA1N,EAAA2N,cAACwF,EAAD,CAAgBjR,IAAKsQ,EAAMtD,GAAIsC,OAAQgB,EAAMtD,GAAI0D,MAAOJ,EAAMI,MAC9CC,SAAUpF,EAAKoF,SAASrF,KAAKC,SAIzDC,EAAA1N,EAAA2N,cAACyF,EAAD,CACIvB,OAAQ9P,KAAK0J,MAAMoG,OACnBC,OAAQ/P,KAAK0J,MAAMqG,OACnB9C,QAAQ,MACRS,YAAa1N,KAAK0J,MAAMgE,YACxBE,WAAY5N,KAAK0J,MAAMkE,WACvBuC,aAAcnQ,KAAKkR,eAAezF,KAAKzL,MACvCmP,WAAYnP,KAAKmP,WAAW1D,KAAKzL,iBAzC9BkK,IAAMqC,oCPIzB+E,EAAQ,IAAIzR,EAEZ0R,EAAc,EAIdrI,EAAQ,GACR6G,EAAS,GAITD,EAAS,GAIb,SAASoB,EAAepB,GACpB,IAAI,IAAIvR,EAAE,EAAEA,EAAEwR,EAAOzR,OAAOC,IACxB+S,EAAME,aAAazB,EAAOxR,GAAG4O,GAAGtO,KAAK4E,MAAMqM,EAAOC,EAAOxR,GAAG4O,IAAI,GAAG3N,SAgB3E,SAASiS,IACL,MAAO,OAVA5S,KAAK4E,MAAuB,IAAjB5E,KAAK0J,SAAiB,KAUT,IAPxB1J,KAAK4E,MAAuB,IAAjB5E,KAAK0J,SAAiB,KAOY,IAJ7C1J,KAAK4E,MAAuB,EAAjB5E,KAAK0J,SAAe,KAImC,IAG7E,SAAS4I,EAAUnQ,EAAMyO,GACrB,GAAGzO,EAAK,CACa,MAAd2L,GAAsBA,GAAc8C,GAAQ6B,EAAMI,mBAErD,IAAI,IAAInT,EAAE,EAAEA,EAAEwR,EAAOzR,OAAOC,IACrBwR,EAAOxR,GAAG4O,IAAMsC,IACfM,EAAOxR,GAAGsS,OAAM,GAEjBd,EAAOxR,GAAG4O,IAAIsC,IACbM,EAAOxR,GAAGsS,OAAM,GAIxBS,EAAMH,UAAU1B,GAChB9C,EAAa8C,MAEZ,CACD6B,EAAMI,mBACN,IAAI,IAAInT,EAAE,EAAEA,EAAEwR,EAAOzR,OAAOC,IACpBwR,EAAOxR,GAAG4O,IAAMR,IAChBoD,EAAOxR,GAAGsS,OAAQ,GAG1BlE,EAAa,KAIbgF,IAqDR,SAASxC,EAAWtG,GAChBK,EAAQL,EACR8I,IAGJ,SAASA,IACLC,IAASD,OACLhG,EAAA1N,EAAA2N,cAAA,OAAKuB,GAAG,kBACJxB,EAAA1N,EAAA2N,cAAA,SAAOC,UAAU,cAAcsB,GAAG,UAAUuC,KAAK,OAAOtD,MAAO,CAACyF,QAAS,QAASC,OAAO,YAAYnC,SAAU,SAAA3G,GAAC,OAtD5H,SAAiBvL,GACb,GAAGA,EAAMsU,OAAOC,OAASvU,EAAMsU,OAAOC,MAAM,GAAI,CAC5C,IAAInJ,EAAOpL,EAAMsU,OAAOC,MAAM,GAAGnJ,KACjCgE,EAAYoF,IAAIC,gBAAgBzU,EAAMsU,OAAOC,MAAM,IACnD,IAAIG,EAAQ,IAAIC,MAAMvF,GAItBsF,EAAME,iBAAiB,iBAAiB,WAEpCtC,EAAO5Q,KAAK,CACRgO,GAAI,UAAUoE,EAAY,GAC1B1I,KAAM,UAAU0I,EAAY,GAC5BV,OAAO,IAGXf,EAAQ,YADRyB,GACiC,CAAC,CAG9B1I,KAAMA,EACNrJ,OAAQ,EACR4B,SAAW+Q,EAAM/Q,SAAW+Q,EAAM/Q,SAAS,EAC3CkR,MAAOH,EAAMI,IACb/C,QAASiC,OAGb7E,EAAO,IAAI4F,gBACNC,KAAK,MAAO5F,GAAW,GAC5BD,EAAK8F,aAAe,cACpB9F,EAAK+F,OAAS,WACV,IAAIC,EAAchG,EAAKiG,SACnBD,GACAtB,EAAMwB,wBAAyB,SAAUvB,EAAcqB,IAG/DhG,EAAKmG,KAAK,MACVpB,MACF,IAiBsHqB,CAAQhK,MAC5H2C,EAAA1N,EAAA2N,cAACqH,EAAD,CAAUlD,OAAQA,EAAQD,OAAQA,EAAQX,WAAYA,EAAY+B,eAAgBA,EAAgBC,UAAWA,IAC7GxF,EAAA1N,EAAA2N,cAACsH,EAAD,CAAavJ,KAAM2H,EAAOpI,MAAOA,EAAOoB,QAAS,OAErD6I,SAASC,eAAe,SAahC/V,OAAOsV,OAAO,WAGVU,EAAE,QAAQC,KAjCd,SAAmBzK,GACf,IACI0K,GADQ,KAAOJ,SAASK,QACVC,MAAM,KAAO5K,EAAO,KACtC,GAAoB,GAAhB0K,EAAMjV,OAAa,OAAOiV,EAAMG,MAAMD,MAAM,KAAKE,QA8BtCC,CAAU,aACzBP,EAAE,WAAWQ,GAAG,QAAQ,WACtBR,EAAE,YAAYS,UAEhBT,EAAE,YAAYQ,GAAG,SAAU,WACN,IAAIE,aASzBV,EAAE,iBAAiBQ,GAAG,eAAgB,SAASG,GAC3CX,EAAE,sBAAsBC,KAAKD,EAAErT,MAAM8N,SAIzCuF,EAAE,mBAAmBQ,GAAG,eAAgB,SAASG,GAC7CX,EAAE,wBAAwBC,KAAKD,EAAErT,MAAM8N,SAG3CuF,EAAE,eAAeQ,GAAG,eAAgB,SAASG,GACzCX,EAAE,oBAAoBC,KAAKD,EAAErT,MAAM8N,SAGvCuF,EAAE,eAAeS,MAAM,WACnBxC,EAAMI,qBAGV2B,EAAE,eAAeS,MAAM,WAEnB,IAAIzS,EAAIqB,OAAOsI,SAASqI,EAAE,qBAAqBC,QAC3ChS,EAAIoB,OAAOsI,SAASqI,EAAE,mBAAmBC,QACzCW,EAAIvR,OAAOgD,WAAW2N,EAAE,sBAAsBC,QAC9CY,EAAKxR,OAAOgD,WAAW2N,EAAE,wBAAwBC,QACjDa,EAAIzR,OAAOgD,WAAW2N,EAAE,oBAAoBC,QAEhDhC,EAAMI,mBACNJ,EAAM8C,UAAUlL,EAAOiL,EAAI9S,EAAIC,EAAI4S,EAAKD,KAG5CZ,EAAE,kBAAkBS,MAAM,WAEtB,IAAIzS,EAAIqB,OAAOsI,SAASqI,EAAE,qBAAqBC,QAC3ChS,EAAIoB,OAAOsI,SAASqI,EAAE,mBAAmBC,QACzCW,EAAIvR,OAAOgD,WAAW2N,EAAE,sBAAsBC,QAC9CY,EAAKxR,OAAOgD,WAAW2N,EAAE,wBAAwBC,QACjDa,EAAIzR,OAAOgD,WAAW2N,EAAE,oBAAoBC,QAGhDhC,EAAM+C,WAAWnL,EAAMiL,EAAI9S,EAAIC,EAAI4S,EAAKD,KAG5CZ,EAAE,iBAAiBS,MAAM,WACrBxC,EAAMI,qBAGV2B,EAAE,iBAAiBS,MAAM,WAErB,IAAIzS,EAAIqB,OAAOsI,SAASqI,EAAE,qBAAqBC,QAC3ChS,EAAIoB,OAAOsI,SAASqI,EAAE,mBAAmBC,QACzCW,EAAIvR,OAAOgD,WAAW2N,EAAE,wBAAwBC,QAChDY,EAAKxR,OAAOgD,WAAW2N,EAAE,0BAA0BC,QACnDa,EAAIzR,OAAOgD,WAAW2N,EAAE,sBAAsBC,QAElDhC,EAAMI,mBACNJ,EAAMgD,kBAAkBpL,EAAMiL,EAAI9S,EAAIC,EAAI4S,EAAKD,GAAI,KAIvDZ,EAAE,oBAAoBS,MAAM,WAExB,IAAIzS,EAAIqB,OAAOsI,SAASqI,EAAE,qBAAqBC,QAC3ChS,EAAIoB,OAAOsI,SAASqI,EAAE,mBAAmBC,QACzCW,EAAIvR,OAAOgD,WAAW2N,EAAE,wBAAwBC,QAChDY,EAAKxR,OAAOgD,WAAW2N,EAAE,0BAA0BC,QACnDa,EAAIzR,OAAOgD,WAAW2N,EAAE,sBAAsBC,QAElDhC,EAAMiD,mBAAmBrL,EAAMiL,EAAI9S,EAAIC,EAAI4S,EAAKD,GAAI,KAIxDZ,EAAE,mBAAmBQ,GAAG,eAAgB,SAASG,GAC7CX,EAAE,wBAAwBC,KAAKD,EAAErT,MAAM8N,SAG3CuF,EAAE,qBAAqBQ,GAAG,eAAgB,SAASG,GAC/CX,EAAE,0BAA0BC,KAAKD,EAAErT,MAAM8N,SAG7CuF,EAAE,iBAAiBQ,GAAG,eAAgB,SAASG,GAC3CX,EAAE,sBAAsBC,KAAKD,EAAErT,MAAM8N,SAGzCuF,EAAE,qBAAqBQ,GAAG,eAAgB,SAASG,GAC/CX,EAAE,0BAA0BC,KAAKD,EAAErT,MAAM8N,SAG7CuF,EAAE,iBAAiBQ,GAAG,eAAgB,SAASG,GAC3CX,EAAE,sBAAsBC,KAAKD,EAAErT,MAAM8N,SAGzCuF,EAAE,iBAAiBQ,GAAG,eAAgB,SAASG,GAC3CX,EAAE,sBAAsBC,KAAKD,EAAErT,MAAM8N,SAGzCuF,EAAE,mBAAmBS,MAAM,WACvBxC,EAAMI,qBAGV2B,EAAE,mBAAmBS,MAAM,WAEvB,IAAIzS,EAAIqB,OAAOsI,SAASqI,EAAE,qBAAqBC,QAC3ChS,EAAIoB,OAAOsI,SAASqI,EAAE,mBAAmBC,QACzCW,EAAIvR,OAAOgD,WAAW2N,EAAE,wBAAwBC,QAChDjP,EAAM3B,OAAOgD,WAAW2N,EAAE,sBAAsBC,QAChDhP,EAAM5B,OAAOgD,WAAW2N,EAAE,sBAAsBC,QAEpDhC,EAAMI,mBACNJ,EAAMkD,cAActL,EAAM7H,EAAIC,EAAI+C,EAAMC,EAAM2P,KAGlDZ,EAAE,sBAAsBS,MAAM,WAE1B,IAAIzS,EAAIqB,OAAOsI,SAASqI,EAAE,qBAAqBC,QAC3ChS,EAAIoB,OAAOsI,SAASqI,EAAE,mBAAmBC,QACzCW,EAAIvR,OAAOgD,WAAW2N,EAAE,wBAAwBC,QAChDjP,EAAM3B,OAAOgD,WAAW2N,EAAE,sBAAsBC,QAChDhP,EAAM5B,OAAOgD,WAAW2N,EAAE,sBAAsBC,QAEpDhC,EAAMmD,eAAevL,EAAM7H,EAAIC,EAAI+C,EAAMC,EAAM2P,KAKnDZ,EAAE,uBAAuBQ,GAAG,eAAgB,SAASG,GACjDX,EAAE,4BAA4BC,KAAKD,EAAErT,MAAM8N,SAG/CuF,EAAE,mBAAmBQ,GAAG,eAAgB,SAASG,GAC7CX,EAAE,wBAAwBC,KAAKD,EAAErT,MAAM8N,SAG3CuF,EAAE,mBAAmBQ,GAAG,eAAgB,SAASG,GAC7CX,EAAE,wBAAwBC,KAAKD,EAAErT,MAAM8N,SAG3CuF,EAAE,qBAAqBS,MAAM,WACzBxC,EAAMI,qBAGV2B,EAAE,qBAAqBS,MAAM,WAEzB,IAAIzS,EAAIqB,OAAOsI,SAASqI,EAAE,qBAAqBC,QAC3ChS,EAAIoB,OAAOsI,SAASqI,EAAE,mBAAmBC,QACzCW,EAAIvR,OAAOgD,WAAW2N,EAAE,0BAA0BC,QAClDjP,EAAM3B,OAAOgD,WAAW2N,EAAE,sBAAsBC,QAChDhP,EAAM5B,OAAOgD,WAAW2N,EAAE,sBAAsBC,QAEpDhC,EAAMI,mBACNJ,EAAMoD,gBAAgBxL,EAAM7H,EAAIC,EAAI+C,EAAMC,EAAM2P,KAGpDZ,EAAE,wBAAwBS,MAAM,WAE5B,IAAIzS,EAAIqB,OAAOsI,SAASqI,EAAE,qBAAqBC,QAC3ChS,EAAIoB,OAAOsI,SAASqI,EAAE,mBAAmBC,QACzCW,EAAIvR,OAAOgD,WAAW2N,EAAE,4BAA4BC,QACpDjP,EAAM3B,OAAOgD,WAAW2N,EAAE,wBAAwBC,QAClDhP,EAAM5B,OAAOgD,WAAW2N,EAAE,wBAAwBC,QAEtDhC,EAAMqD,iBAAiBzL,EAAM7H,EAAIC,EAAI+C,EAAMC,EAAM2P,KAIrDZ,EAAE,sBAAsBQ,GAAG,eAAgB,SAASG,GAChDX,EAAE,2BAA2BC,KAAKD,EAAErT,MAAM8N,SAG9CuF,EAAE,oBAAoBQ,GAAG,eAAgB,SAASG,GAC9CX,EAAE,yBAAyBC,KAAKD,EAAErT,MAAM8N,SAG5CuF,EAAE,mBAAmBQ,GAAG,eAAgB,SAASG,GAC7CX,EAAE,wBAAwBC,KAAKD,EAAErT,MAAM8N,SAG3CuF,EAAE,oBAAoBS,MAAM,WACxBxC,EAAMI,qBAGV2B,EAAE,oBAAoBS,MAAM,WAExB,IAAIzS,EAAIqB,OAAOsI,SAASqI,EAAE,qBAAqBC,QAC3ChS,EAAIoB,OAAOsI,SAASqI,EAAE,mBAAmBC,QACzCW,EAAIvR,OAAOgD,WAAW2N,EAAE,2BAA2BC,QACnD3O,EAAKjC,OAAOgD,WAAW2N,EAAE,yBAAyBC,QAClD1O,EAAIlC,OAAOgD,WAAW2N,EAAE,wBAAwBC,QACpDpS,QAAQC,IAAIE,EAAM,IAAMC,GACxBgQ,EAAMI,mBACNJ,EAAMsD,cAAc1L,EAAM7H,EAAIC,EAAI2S,EAAItP,EAAKC,KAI/CyO,EAAE,uBAAuBS,MAAM,WAC3B,IAAIzS,EAAIqB,OAAOsI,SAASqI,EAAE,qBAAqBC,QAC3ChS,EAAIoB,OAAOsI,SAASqI,EAAE,mBAAmBC,QACzCW,EAAIvR,OAAOgD,WAAW2N,EAAE,2BAA2BC,QACnD3O,EAAKjC,OAAOgD,WAAW2N,EAAE,yBAAyBC,QAClD1O,EAAIlC,OAAOgD,WAAW2N,EAAE,wBAAwBC,QACpDhC,EAAMuD,gBAAgB3L,EAAM7H,EAAIC,EAAI2S,EAAItP,EAAKC,KAGjDyO,EAAE,qBAAqBQ,GAAG,eAAgB,SAASG,GAC/CX,EAAE,0BAA0BC,KAAKD,EAAErT,MAAM8N,SAG7CuF,EAAE,wBAAwBQ,GAAG,eAAgB,SAASG,GAClDX,EAAE,6BAA6BC,KAAKD,EAAErT,MAAM8N,SAGhDuF,EAAE,uBAAuBQ,GAAG,eAAgB,SAASG,GACjDX,EAAE,4BAA4BC,KAAKD,EAAErT,MAAM8N,SAG/CuF,EAAE,uBAAuBQ,GAAG,eAAgB,SAASG,GACjDX,EAAE,4BAA4BC,KAAKD,EAAErT,MAAM8N,SAG/CuF,EAAE,mBAAmBS,MAAM,WACvBxC,EAAMI,qBAGV2B,EAAE,mBAAmBS,MAAM,WAEvB,IAAIzS,EAAIqB,OAAOsI,SAASqI,EAAE,qBAAqBC,QAC3ChS,EAAIoB,OAAOsI,SAASqI,EAAE,mBAAmBC,QACzCW,EAAIvR,OAAOgD,WAAW2N,EAAE,0BAA0BC,QAClD1N,EAAKlD,OAAOgD,WAAW2N,EAAE,6BAA6BC,QACtDzN,EAAInD,OAAOgD,WAAW2N,EAAE,4BAA4BC,QACpDxN,EAAIpD,OAAOgD,WAAW2N,EAAE,4BAA4BC,QAExDhC,EAAMI,mBACNJ,EAAMwD,cAAc5L,EAAM7H,EAAIC,EAAI2S,EAAIrO,EAAKC,EAAIC,KAInDuN,EAAE,sBAAsBS,MAAM,WAC1B,IAAIzS,EAAIqB,OAAOsI,SAASqI,EAAE,qBAAqBC,QAC3ChS,EAAIoB,OAAOsI,SAASqI,EAAE,mBAAmBC,QACzCW,EAAIvR,OAAOgD,WAAW2N,EAAE,0BAA0BC,QAClD1N,EAAKlD,OAAOgD,WAAW2N,EAAE,6BAA6BC,QACtDzN,EAAInD,OAAOgD,WAAW2N,EAAE,4BAA4BC,QACpDxN,EAAIpD,OAAOgD,WAAW2N,EAAE,4BAA4BC,QAExDhC,EAAMyD,eAAe7L,EAAM7H,EAAIC,EAAI2S,EAAIrO,EAAKC,EAAIC,KAGpDuN,EAAE,gBAAgBS,MAAM,YAuP5B,WAEI,GAAiB,GAAd5K,EAAM5K,OAAU,CACf,IAAI+C,EAAIqB,OAAOsI,SAASqI,EAAE,qBAAqBC,QAC3ChS,EAAIoB,OAAOsI,SAASqI,EAAE,mBAAmBC,QAC7ChC,EAAM0D,IAAI9L,EAAM7H,EAAIC,GAEpBwO,EAAO5G,EAAM,IAAM,CAAC,CAChBL,KAAMiH,EAAO5G,EAAM,IAAI,GAAGL,KAC1BrJ,OAAQ8R,EAAM2D,UAAU/L,GACxB9H,SAAUkQ,EAAM4D,UAAUhM,GAC1BoJ,MAAOxC,EAAO5G,EAAM,IAAI,GAAGoJ,MAC3B9C,QAASiC,MAEbE,IAEAwD,IAAK,CACDC,MAAO,QACP9B,KAAM,gBACN+B,KAAM,iBAGNnM,EAAM5K,OAAO,EACjB6W,IAAK,CACDC,MAAO,QACP9B,KAAM,4BACN+B,KAAM,UAIVF,IAAK,CACDC,MAAO,QACP9B,KAAM,uBACN+B,KAAM,UAvRVC,KAEJjC,EAAE,gBAAgBS,MAAM,YA2R5B,WAGI,IADA,IAAIzR,EAAW,GACP9D,EAAE,EAAEA,EAAE2K,EAAM5K,OAAOC,IACvBgT,IACAlP,EAASlD,KAAK,SAASoS,GAG3BD,EAAMiE,UAAUrM,EAAM7G,GAEtB,IAAK,IAAI7D,EAAI,EAAGA,EAAI6D,EAAS/D,OAAQE,IACjC0C,QAAQC,IAAI2O,EAAO5G,EAAM1K,KACzBsR,EAAOzN,EAAS7D,IAAM,CAAC,CACnBqK,KAAM,QAAQiH,EAAO5G,EAAM1K,IAAI,GAAGqK,KAClCrJ,OAAQsQ,EAAO5G,EAAM1K,IAAI,GAAGgB,OAC5B4B,SAAU0O,EAAO5G,EAAM1K,IAAI,GAAG4C,SAC9BkR,MAAOxC,EAAO5G,EAAM1K,IAAI,GAAG8T,MAC3B9C,QAASiC,MAEb1B,EAAO5Q,KAAK,CACRgO,GAAI9K,EAAS7D,GACbqK,KAAMxG,EAAS7D,GACfqS,OAAO,IAGfc,IACAwD,IAAK,CACDC,MAAO,QACP9B,KAAM,oBACN+B,KAAM,YAvTNG,KAEJnC,EAAE,gBAAgBS,MAAM,YAyT5B,WACI,GAAiB,GAAd5K,EAAM5K,OAAU,CAGfgT,EAAMmE,KAAKvM,GACX4G,EAAO5G,EAAM,IAAM,CAAC,CAChBL,KAAMiH,EAAO5G,EAAM,IAAI,GAAGL,KAAK,IAAIiH,EAAO5G,EAAM,IAAI,GAAGL,KACvDrJ,OAAQsQ,EAAO5G,EAAM,IAAI,GAAG1J,OAC5B4B,SAAU0O,EAAO5G,EAAM,IAAI,GAAG9H,SAAS0O,EAAO5G,EAAM,IAAI,GAAG9H,SAC3DkR,MAAOxC,EAAO5G,EAAM,IAAI,GAAGoJ,MAC3B9C,QAASiC,MAEb,IAAI,IAAIlT,EAAE,EAAEA,EAAEwR,EAAOzR,OAAOC,IACxB,GAAGwR,EAAOxR,GAAG4O,IAAMjE,EAAM,GAAG,CACxB6G,EAAO9O,OAAO1C,EAAE,UACTuR,EAAO5G,EAAM,IACpB,MAIRyI,IACAwD,IAAK,CACDC,MAAO,QACP9B,KAAM,gBACN+B,KAAM,iBAGNnM,EAAM5K,OAAO,EACjB6W,IAAK,CACDC,MAAO,QACP9B,KAAM,6BACN+B,KAAM,UAIVF,IAAK,CACDC,MAAO,QACP9B,KAAM,wBACN+B,KAAM,UA9VVK,KAEJrC,EAAE,gBAAgBS,MAAM,YAiW5B,WACI,GAAG5K,EAAM5K,QAAQ,EAAE,CAEfgT,EAAMqE,QAAQzM,GAKd,IAFA,IAAI0M,EAAW,IACXC,GAAU,EACNtX,EAAE,EAAEA,EAAE2K,EAAM5K,OAAOC,IACpBuR,EAAO5G,EAAM3K,IAAI,GAAGiB,OAAOoW,IAC1BA,EAAS9F,EAAO5G,EAAM3K,IAAI,GAAGiB,QAC7BsQ,EAAO5G,EAAM3K,IAAI,GAAG6C,SAAS0O,EAAO5G,EAAM3K,IAAI,GAAGiB,OAAQqW,IACzDA,EAAU/F,EAAO5G,EAAM3K,IAAI,GAAG6C,SAAS0O,EAAO5G,EAAM3K,IAAI,GAAGiB,QAInE,IADA,IAAIsW,EAAe,gBACXvX,EAAE,EAAEA,EAAE2K,EAAM5K,OAAOC,IAAK,CAGxBuX,EADDhG,EAAO5G,EAAM3K,IAAI,GAAGsK,KAAKvK,OADlB,GAESwX,EAAa,IAAIhG,EAAO5G,EAAM3K,IAAI,GAAGsK,KAAKkN,UAAU,EAF7D,IAISD,EAAa,IAAIhG,EAAO5G,EAAM3K,IAAI,GAAGsK,KAG5DiH,EAAO5G,EAAM,IAAM,CAAC,CAChBL,KAAMiN,EACNtW,OAAQoW,EACRxU,SAAUyU,EAAOD,EACjBtD,MAAOxC,EAAO5G,EAAM,IAAI,GAAGoJ,MAC3B9C,QAASiC,MAGb,IAAI,IAAIjT,EAAE,EAAEA,EAAE0K,EAAM5K,OAAOE,IACvB,IAAI,IAAID,EAAE,EAAEA,EAAEwR,EAAOzR,OAAOC,IACxB,GAAGwR,EAAOxR,GAAG4O,IAAMjE,EAAM1K,GAAG,CACxBuR,EAAO9O,OAAO1C,EAAE,UACTuR,EAAO5G,EAAM1K,IACpB,MAIZmT,SAGAwD,IAAK,CACDC,MAAO,QACP9B,KAAM,iCACN+B,KAAM,UA/YVW,KAGJ3C,EAAE,mBAAmBQ,GAAG,eAAgB,SAASG,GACjDX,EAAE,wBAAwBC,KAAKD,EAAErT,MAAM8N,SAGvCuF,EAAE,iBAAiBQ,GAAG,eAAgB,SAASG,GAC/CX,EAAE,sBAAsBC,KAAKD,EAAErT,MAAM8N,SAGrCuF,EAAE,iBAAiBQ,GAAG,eAAgB,SAASG,GAC/CX,EAAE,sBAAsBC,KAAKD,EAAErT,MAAM8N,SAGrCuF,EAAE,gBAAgBQ,GAAG,eAAgB,SAASG,GAC9CX,EAAE,qBAAqBC,KAAKD,EAAErT,MAAM8N,SAGpCuF,EAAE,iBAAiBS,MAAM,WACrBxC,EAAMI,qBAGV2B,EAAE,iBAAiBS,MAAM,WACvB,IAAIzS,EAAIqB,OAAOsI,SAASqI,EAAE,qBAAqBC,QAC3ChS,EAAIoB,OAAOsI,SAASqI,EAAE,mBAAmBC,QACzCW,EAAIvR,OAAOgD,WAAW2N,EAAE,wBAAwBC,QAChDnQ,EAAKT,OAAOgD,WAAW2N,EAAE,sBAAsBC,QAC/CtN,EAAKtD,OAAOgD,WAAW2N,EAAE,sBAAsBC,QAC/CrN,EAAIvD,OAAOgD,WAAW2N,EAAE,qBAAqBC,QACjDhC,EAAMI,mBACNJ,EAAM2E,YAAY/M,EAAM7H,EAAIC,EAAI2S,EAAI9Q,EAAK6C,EAAKC,KAGhDoN,EAAE,oBAAoBS,MAAM,WAC1B,IAAIzS,EAAIqB,OAAOsI,SAASqI,EAAE,qBAAqBC,QAC3ChS,EAAIoB,OAAOsI,SAASqI,EAAE,mBAAmBC,QACzCW,EAAIvR,OAAOgD,WAAW2N,EAAE,wBAAwBC,QAChDnQ,EAAKT,OAAOgD,WAAW2N,EAAE,sBAAsBC,QAC/CtN,EAAKtD,OAAOgD,WAAW2N,EAAE,sBAAsBC,QAC/CrN,EAAIvD,OAAOgD,WAAW2N,EAAE,qBAAqBC,QAEjDhC,EAAM4E,aAAahN,EAAM7H,EAAIC,EAAI2S,EAAI9Q,EAAK6C,EAAKC,KAIjDoN,EAAE,cAAcQ,GAAG,eAAgB,SAASG,GAC5CX,EAAE,mBAAmBC,KAAKD,EAAErT,MAAM8N,SAGlCuF,EAAE,kBAAkBQ,GAAG,eAAgB,SAASG,GAChDX,EAAE,uBAAuBC,KAAKD,EAAErT,MAAM8N,SAGtCuF,EAAE,qBAAqBQ,GAAG,eAAgB,SAASG,GACnDX,EAAE,0BAA0BC,KAAKD,EAAErT,MAAM8N,SAGzCuF,EAAE,mBAAmBQ,GAAG,eAAgB,SAASG,GACjDX,EAAE,wBAAwBC,KAAKD,EAAErT,MAAM8N,SAGvCuF,EAAE,uBAAuBS,MAAM,WAC7BxC,EAAMI,qBAGR2B,EAAE,uBAAuBS,MAAM,WAE7B,IAAIzS,EAAIqB,OAAOsI,SAASqI,EAAE,qBAAqBC,QAC3ChS,EAAIoB,OAAOsI,SAASqI,EAAE,mBAAmBC,QACzCW,EAAIvR,OAAOgD,WAAW2N,EAAE,mBAAmBC,QAC3C6C,EAAWzT,OAAOgD,WAAW2N,EAAE,uBAAuBC,QACtD1M,EAAclE,OAAOgD,WAAW2N,EAAE,0BAA0BC,QAC5DzM,EAAYnE,OAAOgD,WAAW2N,EAAE,wBAAwBC,QAC5DhC,EAAMI,mBACNJ,EAAM8E,iBAAiBlN,EAAM7H,EAAIC,EAAI2S,EAAIkC,EAAWvP,EAAcC,KAIpEwM,EAAE,0BAA0BS,MAAM,WAChC,IAAIzS,EAAIqB,OAAOsI,SAASqI,EAAE,qBAAqBC,QAC3ChS,EAAIoB,OAAOsI,SAASqI,EAAE,mBAAmBC,QACzCW,EAAIvR,OAAOgD,WAAW2N,EAAE,mBAAmBC,QAC3C6C,EAAWzT,OAAOgD,WAAW2N,EAAE,uBAAuBC,QACtD1M,EAAclE,OAAOgD,WAAW2N,EAAE,0BAA0BC,QAC5DzM,EAAYnE,OAAOgD,WAAW2N,EAAE,wBAAwBC,QAE5DhC,EAAM+E,kBAAkBnN,EAAM7H,EAAIC,EAAI2S,EAAIkC,EAAWvP,EAAcC,KAGrEwM,EAAE,cAAcQ,GAAG,eAAgB,SAASG,GAC5CX,EAAE,mBAAmBC,KAAKD,EAAErT,MAAM8N,SAGlCuF,EAAE,YAAYQ,GAAG,eAAgB,SAASG,GAC1CX,EAAE,iBAAiBC,KAAKD,EAAErT,MAAM8N,SAGhCuF,EAAE,YAAYQ,GAAG,eAAgB,SAASG,GAC1CX,EAAE,iBAAiBC,KAAKD,EAAErT,MAAM8N,SAGhCuF,EAAE,aAAaQ,GAAG,eAAgB,SAASG,GAC3CX,EAAE,kBAAkBC,KAAKD,EAAErT,MAAM8N,SAGjCuF,EAAE,YAAYS,MAAM,WAClBxC,EAAMI,qBAGR2B,EAAE,YAAYS,MAAM,WAElB,IAAIzS,EAAIqB,OAAOsI,SAASqI,EAAE,qBAAqBC,QAC3ChS,EAAIoB,OAAOsI,SAASqI,EAAE,mBAAmBC,QACzCW,EAAIvR,OAAOgD,WAAW2N,EAAE,mBAAmBC,QAC3C5L,EAAKhF,OAAOgD,WAAW2N,EAAE,iBAAiBC,QAC1C3L,EAAKjF,OAAOgD,WAAW2N,EAAE,iBAAiBC,QAC1C1L,EAAMlF,OAAOgD,WAAW2N,EAAE,kBAAkBC,QAChDhC,EAAMI,mBACNJ,EAAMgF,kBAAkBpN,EAAM7H,EAAIC,EAAI2S,EAAIvM,EAAKC,EAAKC,KAItDyL,EAAE,eAAeS,MAAM,WACrB,IAAIzS,EAAIqB,OAAOsI,SAASqI,EAAE,qBAAqBC,QAC3ChS,EAAIoB,OAAOsI,SAASqI,EAAE,mBAAmBC,QACzCW,EAAIvR,OAAOgD,WAAW2N,EAAE,mBAAmBC,QAC3C5L,EAAKhF,OAAOgD,WAAW2N,EAAE,iBAAiBC,QAC1C3L,EAAKjF,OAAOgD,WAAW2N,EAAE,iBAAiBC,QAC1C1L,EAAMlF,OAAOgD,WAAW2N,EAAE,kBAAkBC,QAEhDhC,EAAMiF,mBAAmBrN,EAAM7H,EAAIC,EAAI2S,EAAIvM,EAAKC,EAAKC,KAIvDyL,EAAE,sBAAsBQ,GAAG,eAAgB,SAASG,GACpDX,EAAE,2BAA2BC,KAAKD,EAAErT,MAAM8N,SAG1CuF,EAAE,oBAAoBQ,GAAG,eAAgB,SAASG,GAClDX,EAAE,yBAAyBC,KAAKD,EAAErT,MAAM8N,SAGxCuF,EAAE,uBAAuBQ,GAAG,eAAgB,SAASG,GACrDX,EAAE,4BAA4BC,KAAKD,EAAErT,MAAM8N,SAI3CuF,EAAE,oBAAoBS,MAAM,WAC1BxC,EAAMI,qBAGR2B,EAAE,oBAAoBS,MAAM,WAE1B,IAAIzS,EAAIqB,OAAOsI,SAASqI,EAAE,qBAAqBC,QAC3ChS,EAAIoB,OAAOsI,SAASqI,EAAE,mBAAmBC,QACzCW,EAAIvR,OAAOgD,WAAW2N,EAAE,2BAA2BC,QACnDrL,EAAKvF,OAAOgD,WAAW2N,EAAE,yBAAyBC,QAClDkD,EAAI9T,OAAOgD,WAAW2N,EAAE,4BAA4BC,QACxDhC,EAAMI,mBACNJ,EAAMmF,eAAevN,EAAM7H,EAAIC,EAAI2S,EAAIhM,EAAKuO,KAI9CnD,EAAE,uBAAuBS,MAAM,WAC7B,IAAIzS,EAAIqB,OAAOsI,SAASqI,EAAE,qBAAqBC,QAC3ChS,EAAIoB,OAAOsI,SAASqI,EAAE,mBAAmBC,QACzCW,EAAIvR,OAAOgD,WAAW2N,EAAE,2BAA2BC,QACnDrL,EAAKvF,OAAOgD,WAAW2N,EAAE,yBAAyBC,QAClDkD,EAAI9T,OAAOgD,WAAW2N,EAAE,4BAA4BC,QAExDhC,EAAMoF,gBAAgBxN,EAAM7H,EAAIC,EAAI2S,EAAIhM,EAAKuO,KAI/CnD,EAAE,WAAWS,MAAM,YAYvB,WAEI,IADA,IAAI+B,GAAU,EACNtX,EAAE,EAAEA,EAAE2K,EAAM5K,OAAOC,IACnBuR,EAAO5G,EAAM3K,IAAI,GAAG6C,SAAS0O,EAAO5G,EAAM3K,IAAI,GAAGiB,OAAQqW,IACzDA,EAAU/F,EAAO5G,EAAM3K,IAAI,GAAG6C,SAAS0O,EAAO5G,EAAM3K,IAAI,GAAGiB,QAEnE,IAAImX,EAAUrF,EAAMsF,YAAY1N,EAAM2M,GAClCgB,EAAO,IAAIxZ,OAAOyZ,KAAK,CAAE,IAAIC,SAASJ,IAAY,CAClDjH,KAAM,cAGNsH,EAAS7D,SAASvH,cAAc,KACpCuH,SAAS8D,KAAKC,YAAYF,GAC1BA,EAAO5K,MAAQ,gBAEf,IAAI+K,EAAM9Z,OAAO4U,IAAIC,gBAAgB2E,GACrCG,EAAOI,KAAOD,EACdH,EAAOK,SAAW,YAClBL,EAAOlD,QACPzW,OAAO4U,IAAIqF,gBAAgBH,GA/BGI,KAC9BlE,EAAE,WAAWS,MAAM,YAiCvB,WACI,GAAG5K,EAAM5K,QAAQ,EAAE,CACnBgT,EAAM9O,OAAO0G,GACb,IAAK,IAAI1K,EAAI,EAAGA,EAAI0K,EAAM5K,OAAQE,IAAK,CAGnC,IAFA,IAAIuC,OAAK,EACLC,GAAO,EACFzC,EAAI,EAAGA,EAAIwR,EAAOzR,OAAQC,IAC/B,GAAI2K,EAAM1K,KAAOuR,EAAOxR,GAAGsK,KAAM,CAC7B9H,EAAQxC,EACRyC,GAAO,EACP,aAGD8O,EAAO5G,EAAM1K,IACjBwC,GACC+O,EAAO9O,OAAOF,EAAO,GAE7BmI,EAAQ,GACRyI,SAEIwD,IAAK,CACDC,MAAO,QACP9B,KAAM,gCACN+B,KAAM,UAxDgBmC,MAoOlC7F","file":"static/js/main.fc1ef1a1.chunk.js","sourcesContent":["const math = require('mathjs');\nconst nj = require('numjs');\nvar toWav = require('audiobuffer-to-wav')\nlet cont=0;\nlet sound2;\nlet sound3;\nlet sound4;\nlet audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n\n\nfunction sign(input){\n    if(input<0){\n        return -1;\n    }else if(input>0){\n        return 1;\n    }else{\n        return 0;\n    }\n}\n\nfunction allpass(x,g,d){\n    let res=new Array(3);\n    let b= new Array(d+1);\n    let a= new Array(d+1);\n    b[0]=g;b.fill(0,1,d);b[d]=1;\n    a[0]=1;a.fill(0,1,d);a[d]=g;\n    let y=filter(b,a,x);\n    res[0]=y;\n    res[1]=b;\n    res[2]=a;\n    return res;\n}\nfunction convolution(a,b){\n    let y= new Array(a.length+b.length-1);\n    y.fill(0);\n    for(let i=0;i<a.length;i++){\n        for(let j=0;j<b.length;j++){\n            y[i+j]+=b[j]*a[i];\n        }\n    }\n    return y;\n}\nfunction seriescoefficients(b1,a1,b,a){\n    let res= new Array(2);\n    res[0]=convolution(b1,b);\n    res[1]=convolution(a1,a);\n    return res;\n}\nfunction power1(a,b){\n    let y=new Array(a.length);\n    for(let i=0;i<a.length;i++){\n        if(a[i]==0){\n            y[i]=0;\n        }else{\n            y[i]=Math.pow(a[i],b);\n        }\n    }\n    return y;\n}\nfunction filter(b,a,x){\n    //https://stackoverflow.com/questions/8474854/matlab-filter-implementation\n    if(a[0]!= 1.0 ){\n        a=math.divide(a,a[0]);\n        b=math.divide(b,a[0]);\n    }\n    let y= new Array(x.length);\n    let input_size=x.length;\n    let filter_order=Math.max(a.length,b.length);\n    for(let i=(filter_order-a.length);i>0;i--){\n        a.push(0);\n    }\n    for(let i=(filter_order-b.length);i>0;i--){\n        b.push(0);\n    }\n    let zi=new Array(filter_order);\n    zi.fill(0);\n\n    for(let i=0;i<input_size;i++){\n        let order=filter_order-1;\n        while(order>0){\n            if(i>=order){\n                zi[order-1]= b[order]*x[i-order]-a[order]*y[i-order] + zi[order];\n            }\n            order--;\n        }\n        y[i]= b[0]*x[i] + zi[0];\n    }\n\n    return y;\n}\n\nfunction Float32Concat(first, second)\n{\n    let firstLength = first.length,\n        result = new Float32Array(firstLength + second.length);\n\n    result.set(first);\n    result.set(second, firstLength);\n\n    return result;\n}\n\nexport class Llar{\n\n    constructor () {\n        this.sounds = [];\n    }\n\n    searchAudio(nombre){\n        for(let i=0;i<this.sounds.length;i++){\n            if(this.sounds[i].nombre==nombre){\n                return this.sounds[i];\n            }\n        }\n        return null;\n    }\n\n    changeOffset(nombre,offset){\n        let au=this.searchAudio(nombre);\n        au.offset=offset*au.datos.buffer.sampleRate;\n    }\n\n    replace(nombre,data){\n        for(let i=0;i<this.sounds.length;i++){\n            if(this.sounds[i].nombre==nombre){\n                this.sounds[i].datos=data;\n            }\n        }\n    }\n\n    delete(nombres){\n        for(let j=0;j<nombres.lenght;j++) {\n            let index;\n            let bool = false;\n            for(let i=0;i<this.sounds.length;i++){\n                if(this.sounds[i].nombre==nombres[j]){\n                    index=i;\n                    bool=true;\n                    break;\n                }\n            }\n            if(bool){\n                this.sounds.splice(index,1);\n                console.log(nombres[j]);\n            }\n        }\n    }\n    getLength(nombres){\n      let au=this.searchAudio(nombres[0]).datos;\n\n      return (au.buffer.duration)\n    }\n    getOffset(nombres){\n      return this.searchAudio(nombres[0]).offset;\n    }\n    cut(nombres,ini,fin){\n        let au=this.searchAudio(nombres[0]).datos;\n        let inic=ini*au.buffer.sampleRate;\n        let fi=fin*au.buffer.sampleRate;\n        for(let i=0;i<nombres.length;i++){\n            au=this.searchAudio(nombres[i]);\n            let tt=au.datos;\n            let sound8= audioCtx.createBufferSource();\n            sound8.buffer= audioCtx.createBuffer(tt.buffer.numberOfChannels,tt.buffer.length-(fi-inic),tt.buffer.sampleRate);\n            for (let j=0;j<tt.buffer.numberOfChannels;j++){\n                let z=tt.buffer.getChannelData(j);\n                let zz=sound8.buffer.getChannelData(j);\n                for (let r=0,y=0;r<z.length;r++,y++){\n                    if(r==inic){\n                        r+=(fi-inic);\n                    }\n                    zz[y]=z[r];\n                }\n            }\n            sound8.connect(audioCtx.destination);\n\n            this.replace(au.nombre,sound8);\n        }\n    }\n\n    duplicate(nombres,trackIds){\n        for(let i=0;i<nombres.length;i++){\n            let au=this.searchAudio(nombres[i]);\n            let tt=au.datos;\n            let sound8= audioCtx.createBufferSource();\n            sound8.buffer= audioCtx.createBuffer(tt.buffer.numberOfChannels,tt.buffer.length,tt.buffer.sampleRate);\n            sound8.connect(audioCtx.destination);\n            for(let j=0;j<tt.buffer.numberOfChannels;j++){\n                sound8.buffer.copyToChannel(tt.buffer.getChannelData(j),j);\n            }\n            this.sounds.push({nombre:trackIds[i],datos:sound8,offset:au.offset});\n        }\n    }\n\n    join(nombres){\n        let au=this.searchAudio(nombres[0]);\n        let au2=this.searchAudio(nombres[1]);\n\n        if(au.datos.buffer.numberOfChannels==au2.datos.buffer.numberOfChannels){\n\n            let sound8= audioCtx.createBufferSource();\n            sound8.buffer= audioCtx.createBuffer(au.datos.buffer.numberOfChannels,au.datos.buffer.length+au2.datos.buffer.length,au.datos.buffer.sampleRate);\n\n            for(let j=0;j<au.datos.buffer.numberOfChannels;j++){\n                let d= Float32Concat(au.datos.buffer.getChannelData(j),au2.datos.buffer.getChannelData(j));\n                sound8.buffer.copyToChannel(d,j);\n            }\n            this.replace(au.nombre,sound8);\n            this.delete(nombres[1]);\n        }\n    }\n\n    combine(nombres){\n        let min=Number.POSITIVE_INFINITY,max=0;let au;\n        for(let i=0;i<nombres.length;i++){\n            au=this.searchAudio(nombres[i]);\n            if(au.offset<min){\n                min=au.offset;\n            }\n            if(au.offset+au.datos.buffer.length>max){\n                max=au.offset+au.datos.buffer.length;\n            }\n        }\n        let sound8= audioCtx.createBufferSource();\n        sound8.buffer= audioCtx.createBuffer(au.datos.buffer.numberOfChannels,max,au.datos.buffer.sampleRate);\n\n        for(let i=0;i<nombres.length;i++){\n            au=this.searchAudio(nombres[i]);\n            for(let j=0;j<au.datos.buffer.numberOfChannels;j++){\n                let z=sound8.buffer.getChannelData(j);\n                let zz=au.datos.buffer.getChannelData(j);\n                for(let y=0,p=au.offset-min;y<au.datos.buffer.length;y++,p++){\n                    z[p]+=zz[y];\n                }\n            }\n        }\n        this.sounds.push({nombre:\"combinacion\"+new String(cont),datos:sound8,offset:min});\n\n    }\n\n    buildGroup(nombres,fin){\n        let au= this.searchAudio(nombres[0]);\n        let soundF= audioCtx.createBufferSource();\n        soundF.buffer= audioCtx.createBuffer(au.datos.buffer.numberOfChannels,fin*au.datos.buffer.sampleRate,au.datos.buffer.sampleRate);\n\n        for(let i=0;i<nombres.length;i++){\n            au=this.searchAudio(nombres[i]);\n            for(let j=0;j<au.datos.buffer.numberOfChannels;j++){\n                let z=soundF.buffer.getChannelData(j);\n                let zz=au.datos.buffer.getChannelData(j);\n                for(let y=0,p=au.offset;y<au.datos.buffer.length;y++,p++){\n                    z[p]+=zz[y];\n                }\n            }\n        }\n        soundF.connect(audioCtx.destination);\n        return [soundF, audioCtx];\n    }\n\n    playGroup(nombres,fin){\n        let sound8 = this.buildGroup(nombres, fin);\n        sound8[0].start(0)\n    }\n\n    playSound(nombre){\n        let pista=this.searchAudio(nombre);\n        if(pista!=null){\n            sound3= audioCtx.createBufferSource();\n            sound3.buffer=pista.datos.buffer;\n            sound3.connect(audioCtx.destination);\n            sound3.start(0);\n        }\n    }\n    stopCurrentSound(){\n        if(sound3!=null){\n            sound3.stop(0);\n            sound3=null;\n        }\n    }\n\n    delay(nombre,time,inicio,fin,veces,volume,appl){\n        let pista=this.searchAudio(nombre);\n        sound2=pista.datos;\n        let space= Math.floor(sound2.buffer.sampleRate*time);\n        let sub=1/veces;\n\n        for (let j=0;j<sound2.buffer.numberOfChannels;j++){\n            let z=sound2.buffer.getChannelData(j);\n            let mody=z.slice(inicio*sound2.buffer.sampleRate,fin*sound2.buffer.sampleRate+space*veces);\n            for(let i=0,w=inicio*sound2.buffer.sampleRate;i<fin*sound2.buffer.sampleRate;w+=space,i+=space){\n                let t=z.slice(w,w+space);\n                let aux=w;\n                for(let o=0,ii=1;o<veces;o++,ii-=sub){\n                    for(let p=aux,y=0;y<space;p++,y++){\n                        mody[p]=mody[p]+t[y]*ii;\n                    }\n                    aux+=space;\n                }\n\n            }\n            if(appl){\n                let zz=sound3.buffer.getChannelData(j);\n                for(let r=0,rr=inicio*sound2.buffer.sampleRate;r<mody.length;r++,rr++){\n                    zz[r]+=mody[r]*volume;\n                }\n            }else{\n                for(let r=0,rr=inicio*sound2.buffer.sampleRate;r<mody.length;r++,rr++){\n                    z[rr]=mody[r]*volume;\n                }\n            }\n        }\n\n    }\n    showDelay(nombres,time,inicio,fin,veces,volume){\n        let au=this.searchAudio(nombres[0]).datos;\n        let space= Math.floor(au.buffer.sampleRate*time);\n        sound3= audioCtx.createBufferSource();\n        sound3.buffer= audioCtx.createBuffer(au.buffer.numberOfChannels,fin*au.buffer.sampleRate+space*veces-inicio*au.buffer.sampleRate,au.buffer.sampleRate);\n        for(let i=0;i<nombres.length;i++){\n            this.delay(nombres[i],time,inicio,fin,veces,volume,true);\n        }\n        sound3.connect(audioCtx.destination);\n        sound3.start(0);\n    }\n\n    applyDelay(nombres,time,inicio,fin,veces,volume){\n        for(let i=0;i<nombres.length;i++){\n            this.delay(nombres[i],time,inicio,fin,veces,volume,false);\n        }\n    }\n\n    ping_pong_delay(nombre,time,inicio,fin,veces,volume,appl){\n        let pista=this.searchAudio(nombre);\n        sound2=pista.datos;\n        let space= Math.floor(sound2.buffer.sampleRate*time);\n        let sub=1/veces;\n\n        let offset=0;\n        for (let j=0;j<sound2.buffer.numberOfChannels;j++){\n            let z=sound2.buffer.getChannelData(j);\n            let mody=z.slice(inicio*sound2.buffer.sampleRate,fin*sound2.buffer.sampleRate+space*veces);\n            for(let i=0,w=inicio*sound2.buffer.sampleRate;i<fin*sound2.buffer.sampleRate;w+=space,i+=space){\n                let t=z.slice(w,w+space);\n                let aux=w;\n                for(let o=0,ii=1;o<veces;o++,ii-=sub){\n                    for(let p=aux,y=0;y<space;p++,y++){\n                        mody[p]=mody[p]+t[y]*ii;\n                    }\n                    aux+=space;\n                }\n\n            }\n            if(appl){\n                let zz=sound3.buffer.getChannelData(j);\n                for(let r=0,rr=offset;r<mody.length;r+=space,rr+=space){\n                    for(let t=0;t<space;t++,r++,rr++){\n                        zz[rr]+=mody[r]*volume;\n                    }\n                }\n            }else{\n                for(let r=offset,rr=inicio*sound2.buffer.sampleRate+offset;r<mody.length;r+=space,rr+=space){\n                    for(let t=0;t<space;t++,r++,rr++){\n                        z[rr]=mody[r]*volume;\n                    }\n\n                }\n            }\n            offset=space;\n        }\n\n    }\n\n    showPingPongDelay(nombres,time,inicio,fin,veces,volume){\n        let au=this.searchAudio(nombres[0]).datos;\n        let space= Math.floor(au.buffer.sampleRate*time);\n        sound3= audioCtx.createBufferSource();\n        sound3.buffer= audioCtx.createBuffer(au.buffer.numberOfChannels,fin*au.buffer.sampleRate+space*veces-inicio*au.buffer.sampleRate,au.buffer.sampleRate);\n        for(let i=0;i<nombres.length;i++){\n            this.ping_pong_delay(nombres[i],time,inicio,fin,veces,volume,true);\n        }\n\n        sound3.connect(audioCtx.destination);\n        sound3.start(0);\n    }\n\n    applyPingPongDelay(nombres,time,inicio,fin,veces,volume){\n        for(let i=0;i<nombres.length;i++){\n            this.ping_pong_delay(nombres[i],time,inicio,fin,veces,volume,false);\n        }\n    }\n\n    crescendo(nombre,inicio,fin,limin,limsu,volume,appl){\n        let pista=this.searchAudio(nombre);\n        sound2=pista.datos;\n        let ini=inicio*sound2.buffer.sampleRate;\n        let fi=fin*sound2.buffer.sampleRate;\n        let incremento=(limsu-limin)/(fi-ini);\n        for (let j=0;j<sound2.buffer.numberOfChannels;j++){\n\n            let z=sound2.buffer.getChannelData(j);\n            if(appl){\n                let zz=sound3.buffer.getChannelData(j);\n                for (let p=ini,t=0,i=limin;p<fi;p++,t++,i+=incremento){\n                    zz[t]+=z[p]*i*volume;\n                }\n            }else{\n                for (let p=ini,i=limin;p<fi;p++,i+=incremento){\n                    z[p]=z[p]*i*volume;\n                }\n            }\n        }\n    }\n    showCrescendo(nombres,inicio,fin,limin,limsu,volume){\n        let au=this.searchAudio(nombres[0]).datos;\n        sound3= audioCtx.createBufferSource();\n        sound3.buffer= audioCtx.createBuffer(au.buffer.numberOfChannels,fin*au.buffer.sampleRate-inicio*au.buffer.sampleRate,au.buffer.sampleRate);\n        for(let i=0;i<nombres.length;i++){\n            this.crescendo(nombres[i],inicio,fin,limin,limsu,volume,true);\n        }\n\n        sound3.connect(audioCtx.destination);\n        sound3.start(0);\n    }\n    applyCrescendo(nombres,inicio,fin,limin,limsu,volume){\n        for(let i=0;i<nombres.length;i++){\n            this.crescendo(nombres[i],inicio,fin,limin,limsu,volume,false);\n        }\n    }\n\n    decrescendo(nombre,inicio,fin,limin,limsu,volume,appl){\n        let pista=this.searchAudio(nombre);\n        sound2=pista.datos;\n        let ini=inicio*sound2.buffer.sampleRate;\n        let fi=fin*sound2.buffer.sampleRate;\n\n        let incremento=Math.abs(limsu-limin)/(fi-ini);\n        for (let j=0;j<sound2.buffer.numberOfChannels;j++){\n            let z=sound2.buffer.getChannelData(j);\n            if(appl){\n                let zz=sound3.buffer.getChannelData(j);\n                for (let p=ini,t=0,i=limsu;p<fi;p++,t++,i-=incremento){\n                    zz[t]+=z[p]*i*volume;\n                }\n            }else{\n                for (let p=ini,i=limsu;p<fi;p++,i-=incremento){\n                    z[p]=z[p]*i*volume;\n                }\n            }\n        }\n    }\n    showDecrescendo(nombres,inicio,fin,limin,limsu,volume){\n        let au=this.searchAudio(nombres[0]).datos;\n        sound3= audioCtx.createBufferSource();\n        sound3.buffer= audioCtx.createBuffer(au.buffer.numberOfChannels,fin*au.buffer.sampleRate-inicio*au.buffer.sampleRate,au.buffer.sampleRate);\n        for(let i=0;i<nombres.length;i++){\n            this.decrescendo(nombres[i],inicio,fin,limin,limsu,volume,true);\n        }\n\n        sound3.connect(audioCtx.destination);\n        sound3.start(0);\n    }\n    applyDecrescendo(nombres,inicio,fin,limin,limsu,volume){\n        for(let i=0;i<nombres.length;i++){\n            this.decrescendo(nombres[i],inicio,fin,limin,limsu,volume,false);\n        }\n    }\n\n    distortion(nombre,inicio,fin,volume,gain,mix,appl){\n        let pista=this.searchAudio(nombre);\n        sound2=pista.datos;\n        let ini=inicio*sound2.buffer.sampleRate;\n        let fi=fin*sound2.buffer.sampleRate;\n\n        for (let j=0;j<sound2.buffer.numberOfChannels;j++){\n            let z=sound2.buffer.getChannelData(j);\n            let a=Array.from(z.slice(ini,fi));\n            let q=nj.divide(a,math.max(math.abs(a)));\n            let ss=nj.negative(a.map(sign));\n            z=nj.multiply(ss,nj.subtract(nj.ones(ss.size),nj.exp(nj.multiply(ss,nj.multiply(a,gain)))));\n            let y=nj.divide(nj.multiply(nj.multiply(z,math.max(math.abs(a))),mix),math.max(math.abs(a)));\n\n            let yy= nj.add(y,nj.multiply(a,(1-mix)));\n            yy=nj.divide(nj.multiply(yy,math.max(math.abs(a))),math.max(math.abs(yy.selection.data)));\n            if(appl){\n                let zz=sound3.buffer.getChannelData(j);\n                for (let p=ini,t=0;p<fi;p++,t++){\n                    zz[t]+=yy.get(t)*volume;\n\n                }\n            }else{\n                let r=sound2.buffer.getChannelData(j);\n                for (let p=ini,t=0;p<fi;p++,t++){\n                    r[p]=Number.parseFloat(yy.get(t)*volume);\n                }\n            }\n        }\n    }\n    showDistorion(nombres,inicio,fin,volume,gain,mix){\n        let au=this.searchAudio(nombres[0]).datos;\n        sound3= audioCtx.createBufferSource();\n        sound3.buffer= audioCtx.createBuffer(au.buffer.numberOfChannels,fin*au.buffer.sampleRate-inicio*au.buffer.sampleRate,au.buffer.sampleRate);\n        for(let i=0;i<nombres.length;i++){\n            this.distortion(nombres[i],inicio,fin,volume,gain,mix,true);\n        }\n\n        sound3.connect(audioCtx.destination);\n        sound3.start(0);\n    }\n    applyDistortion(nombres,inicio,fin,volume,gain,mix){\n        console.log(\"holito\");\n        for(let i=0;i<nombres.length;i++){\n            this.distortion(nombres[i],inicio,fin,volume,gain,mix,false);\n        }\n    }\n\n    overdrive(nombre,inicio,fin,volume,high,mid,low,appl){\n        let pista=this.searchAudio(nombre);\n        sound2=pista.datos;\n        let ini=inicio*sound2.buffer.sampleRate;\n        let fi=fin*sound2.buffer.sampleRate;\n\n        for (let j=0;j<sound2.buffer.numberOfChannels;j++){\n            let z=sound2.buffer.getChannelData(j);\n            if(appl){\n                let zz=sound3.buffer.getChannelData(j);\n\n                for (let p=ini,t=0;p<fi;p++,t++){\n                    if(Math.abs(z[p])<1/3){\n                        zz[t]+=low*2*Math.abs(z[p]);\n                    }else if(Math.abs(z[p])>=1/3 ){\n                        if(z[p]>0){\n                            zz[t]+=mid*(3-((2-3*z[p])*(2-3*z[p])))/3;\n                        }else{\n                            zz[t]+=mid*(3-((2-3*Math.abs(z[p]))*(2-3*Math.abs(z[p]))))/3;\n                        }\n                    }else if(Math.abs(z[p])>=2/3){\n                        if(z[p]>0){\n                            zz[t]+=1*high;\n                        }else{\n                            zz[t]+=-1*high;\n                        }\n                    }\n\n                }\n            }else{\n                let r=sound2.buffer.getChannelData(j);\n                for (let p=ini;p<fi;p++){\n                    if(Math.abs(z[p])<1/3){\n                        z[p]=low*2*Math.abs(z[p]);\n                    }else if(Math.abs(z[p])>=1/3 ){\n                        if(z[p]>0){\n                            z[p]=mid*(3-((2-3*z[p])*(2-3*z[p])))/3;\n                        }else{\n                            z[p]=-mid*(3-((2-3*Math.abs(z[p]))*(2-3*Math.abs(z[p]))))/3;\n                        }\n                    }else if(Math.abs(z[p])>=2/3){\n                        if(z[p]>0){\n                            z[p]=high*1;\n                        }else{\n                            z[p]=-high*1;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    showOverdrive(nombres,inicio,fin,volume,high,mid,low){\n        let au=this.searchAudio(nombres[0]).datos;\n        sound3= audioCtx.createBufferSource();\n        sound3.buffer= audioCtx.createBuffer(au.buffer.numberOfChannels,fin*au.buffer.sampleRate-inicio*au.buffer.sampleRate,au.buffer.sampleRate);\n        for(let i=0;i<nombres.length;i++){\n            this.overdrive(nombres[i],inicio,fin,volume,high,mid,low,true);\n        }\n\n        sound3.connect(audioCtx.destination);\n        sound3.start(0);\n    }\n\n    applyOverdrive(nombres,inicio,fin,volume,high,mid,low){\n        for(let i=0;i<nombres.length;i++){\n            this.overdrive(nombres[i],inicio,fin,volume,high,mid,low,false);\n        }\n    }\n\n    flanger(nombre,inicio,fin,volume,time,rate,amp,appl){\n        let pista=this.searchAudio(nombre);\n        sound2=pista.datos;\n        let ini=Math.floor(inicio*sound2.buffer.sampleRate);\n        let fi=Math.floor(fin*sound2.buffer.sampleRate);\n        let space=Math.floor(time*sound2.buffer.sampleRate);\n        let index=nj.arange(0,fi-ini);\n        index=nj.multiply(Array.from(index.selection.data),2*Math.PI*(rate/sound2.buffer.sampleRate));\n        let sin_ref=nj.sin(index);\n\n        for (let j=0;j<sound2.buffer.numberOfChannels;j++){\n            let z=sound2.buffer.getChannelData(j);\n            if(appl){\n                let zz=sound3.buffer.getChannelData(j);\n                for(let i=0,t=ini;i<space;i++,t++){\n                    zz[i]+=z[t];\n                }\n                let cur_sin,cur_delay;\n                for(let jj=ini+space,tt=space;jj<fi;jj++,tt++){\n                    cur_sin=Math.abs(sin_ref.selection.data[tt]);\n                    cur_delay=Math.ceil(cur_sin*space);\n                    zz[tt]+=(amp*z[jj])+amp*(z[jj-cur_delay]);\n                }\n            }\n            else{\n                let cur_sin,cur_delay;\n                for(let jj=ini+space,tt=space;jj<fi;jj++,tt++){\n                    cur_sin=Math.abs(sin_ref.selection.data[tt]);\n                    cur_delay=Math.ceil(cur_sin*space);\n                    z[jj]=amp*(z[jj])+amp*(z[jj-cur_delay]);\n                }\n            }\n        }\n\n    }\n\n    showFlanger(nombres,inicio,fin,volume,time,rate,amp){\n        let au=this.searchAudio(nombres[0]).datos;\n        console.log(this.searchAudio(nombres[0]).nombre);\n        sound3= audioCtx.createBufferSource();\n        sound3.buffer= audioCtx.createBuffer(au.buffer.numberOfChannels,fin*au.buffer.sampleRate-inicio*au.buffer.sampleRate,au.buffer.sampleRate);\n        for(let i=0;i<nombres.length;i++){\n            this.flanger(nombres[i],inicio,fin,volume,time,rate,amp,true);\n        }\n\n        sound3.connect(audioCtx.destination);\n        sound3.start(0);\n    }\n    applyFlanger(nombres,inicio,fin,volume,time,rate,amp){\n        for(let i=0;i<nombres.length;i++){\n            this.flanger(nombres[i],inicio,fin,volume,time,rate,amp,false);\n        }\n    }\n\n    stereo_panner(nombre,inicio,fin,volume,segments,initial_angle,final_angle,appl){\n        let pista=this.searchAudio(nombre);\n        sound2=pista.datos;\n        let ini=Math.floor(inicio*sound2.buffer.sampleRate);\n        let fi=Math.floor(fin*sound2.buffer.sampleRate);\n        let signal= new Array(fi-ini).fill(0);\n        for(let l=0;l<sound2.buffer.numberOfChannels;l++){\n            let z=sound2.buffer.getChannelData(l);\n            for(let i=0,t=ini;i<signal.length;i++,t++){\n                signal[i]+=z[t];\n            }\n        }\n        let angle_increment =(initial_angle - final_angle)/segments * Math.PI /180;\n        let lenseg=Math.ceil((fi-ini)/segments);\n        let pointer = 0;\n        let angle =initial_angle * Math.PI/180;\n        let y=[new Array(0),new Array(0)];\n        for (let i=0;i<segments;i++){\n            let a=[[Math.cos(angle),Math.sin(angle)],[-1*Math.sin(angle),Math.cos(angle)]];\n            let stereo= signal.slice(pointer,pointer+lenseg);\n            let stereox=[stereo,stereo];\n            let res=math.multiply(a,stereox);\n            y[0]=y[0].concat(res[0]);\n            y[1]=y[1].concat(res[1]);\n            pointer+=lenseg;\n            angle+=angle_increment;\n        }\n        if(appl){\n            let z=sound3.buffer.getChannelData(0);\n            let z1=sound3.buffer.getChannelData(1);\n            for(let i=0;i<y[0].length;i++){\n                z[i]+=volume*y[0][i];\n                z1[i]+=volume*y[1][i];\n            }\n        }else{\n            let z=sound2.buffer.getChannelData(0);\n            let z1=sound2.buffer.getChannelData(1);\n            for(let i=0,t=ini;i<y[0].length;i++,t++){\n                z[t]=volume*y[0][i];\n                z1[t]=volume*y[1][i];\n            }\n        }\n\n    }\n\n    showStereoPanner(nombres,inicio,fin,volume,segments,initial_angle,final_angle){\n        let au=this.searchAudio(nombres[0]).datos;\n        sound3= audioCtx.createBufferSource();\n        sound3.buffer= audioCtx.createBuffer(au.buffer.numberOfChannels,fin*au.buffer.sampleRate-inicio*au.buffer.sampleRate,au.buffer.sampleRate);\n        for(let i=0;i<nombres.length;i++){\n            this.stereo_panner(nombres[i],inicio,fin,volume,segments,initial_angle,final_angle,true);\n        }\n        sound3.connect(audioCtx.destination);\n        sound3.start(0);\n    }\n\n    applyStereoPanner(nombres,inicio,fin,volume,segments,initial_angle,final_angle){\n        for(let i=0;i<nombres.length;i++){\n            this.stereo_panner(nombres[i],inicio,fin,volume,segments,initial_angle,final_angle,false);\n        }\n    }\n\n    ringModulator(nombre,inicio,fin,volume,minf,maxf,delta,appl){\n        let pista=this.searchAudio(nombre);\n        sound2=pista.datos;\n        let ini=Math.floor(inicio*sound2.buffer.sampleRate);\n        let fi=Math.floor(fin*sound2.buffer.sampleRate);\n\n        let trem= new Array(0);\n        let len=(maxf-minf)/delta;\n        while(trem.length<fi-ini){\n            for(let i=maxf;i>=minf;i-=delta){\n                trem.push(i);\n            }\n            for(let i=minf;i<maxf;i+=delta){\n                trem.push(i);\n            }\n        }\n        trem=trem.slice(0,fi-ini);\n\n        for(let j=0;j<sound2.buffer.numberOfChannels;j++){\n            let z=sound2.buffer.getChannelData(j);\n            if(appl){\n                let zz=sound3.buffer.getChannelData(j);\n                for(let i=0,tt=ini;tt<fi;i++,tt++){\n                    zz[i]+=z[tt]*trem[i]*volume;\n                }\n            }else{\n                for(let i=0,tt=ini;tt<fi;i++,tt++){\n                    z[tt]=z[tt]*trem[i]*volume;\n                }\n            }\n        }\n\n    }\n    showRingModulator(nombres,inicio,fin,volume,minimum,maximum,delta){\n        let au=this.searchAudio(nombres[0]).datos;\n        sound3= audioCtx.createBufferSource();\n        sound3.buffer= audioCtx.createBuffer(au.buffer.numberOfChannels,fin*au.buffer.sampleRate-inicio*au.buffer.sampleRate,au.buffer.sampleRate);\n        for(let i=0;i<nombres.length;i++){\n            this.ringModulator(nombres[i],inicio,fin,volume,minimum,maximum,delta,true);\n        }\n        sound3.connect(audioCtx.destination);\n        sound3.start(0);\n    }\n    applyRingModulator(nombres,inicio,fin,volume,minimum,maximum,delta){\n        for(let i=0;i<nombres.length;i++){\n            this.ringModulator(nombres[i],inicio,fin,volume,minimum,maximum,delta,false);\n        }\n    }\n\n    compressor(nombre,inicio,fin,volume,comp,a,appl){\n        let pista=this.searchAudio(nombre);\n        sound2=pista.datos;\n        let ini=Math.floor(inicio*sound2.buffer.sampleRate);\n        let fi=Math.floor(fin*sound2.buffer.sampleRate);\n        for(let j=0;j<sound2.buffer.numberOfChannels;j++){\n\n            let z=sound2.buffer.getChannelData(j);\n            let x=Array.from(z.slice(ini,fi));\n            let h=filter([(1-a)*(1-a)],[1, -2*a, a*a],math.abs(x));\n            h=nj.divide(h,nj.max(h)).selection.data;\n            h=power1(h,comp);\n            let y= nj.multiply(x,h).selection.data;let t=math.max(math.abs(x))/math.max(math.abs(y));\n            y = nj.multiply(y,t).selection.data;\n\n            if(appl){\n                let zz= sound3.buffer.getChannelData(j);\n                for(let i=0;i<x.length;i++){\n                    zz[i]=volume*y[i];\n                }\n            }else{\n                for(let i=0,tt=ini;i<x.length;i++,tt++){\n                    z[tt]=volume*y[i];\n                }\n            }\n        }\n    }\n    showCompressor(nombres,inicio,fin,volume,comp,a){\n        let au=this.searchAudio(nombres[0]).datos;\n        sound3= audioCtx.createBufferSource();\n        sound3.buffer= audioCtx.createBuffer(au.buffer.numberOfChannels,fin*au.buffer.sampleRate-inicio*au.buffer.sampleRate,au.buffer.sampleRate);\n        for(let i=0;i<nombres.length;i++){\n            this.compressor(nombres[i],inicio,fin,volume,comp,a,true);\n        }\n        sound3.connect(audioCtx.destination);\n        sound3.start(0);\n    }\n    applyCompressor(nombres,inicio,fin,volume,comp,a){\n        for(let i=0;i<nombres.length;i++){\n            this.compressor(nombres[i],inicio,fin,volume,comp,a,false);\n        }\n    }\n\n    reverb(nombre,inicio,fin,volume,nAll,gainA,k,appl){\n        let pista=this.searchAudio(nombre);\n        sound2=pista.datos;\n        let ini=Math.floor(inicio*sound2.buffer.sampleRate);\n        let fi=Math.floor(fin*sound2.buffer.sampleRate);\n        let d= nj.multiply(nj.random(nAll),0.2);\n        d= nj.round(nj.multiply(d,sound2.buffer.sampleRate*0.05)).selection.data;\n\n        for(let j=0;j<sound2.buffer.numberOfChannels;j++){\n            let x=Array.from(sound2.buffer.getChannelData(j).slice(ini,fi));\n            let res=allpass(x,gainA,d[0]);\n            let b=res[1],a=res[2],y=res[0];\n            for(let i=1;i<nAll;i++){\n                let res1=allpass(y,gainA,d[i]);\n                let coef=seriescoefficients(res1[1],res1[2],b,a);\n                a=coef[1];b=coef[0];\n                y=res1[0];\n            }\n\n            let mm=math.max(y);\n            if(appl){\n                let zz=sound3.buffer.getChannelData(j);\n                for(let i=0;i<y.length;i++){\n                    zz[i]=y[i]/mm;\n                }\n\n            }\n\n        }\n\n    }\n\n    showReverb(nombres,inicio,fin,volume,nAll,gainA,k){\n        let au=this.searchAudio(nombres[0]).datos;\n        sound3= audioCtx.createBufferSource();\n        sound3.buffer= audioCtx.createBuffer(au.buffer.numberOfChannels,fin*au.buffer.sampleRate-inicio*au.buffer.sampleRate,au.buffer.sampleRate);\n        for(let i=0;i<nombres.length;i++){\n            this.reverb(nombres[i],inicio,fin,volume,nAll,gainA,k,true);\n        }\n        sound3.connect(audioCtx.destination);\n        sound3.start(0);\n    }\n    processConcatenatedFile( name,data ) {\n        let  sound = audioCtx.createBufferSource();\n\n        audioCtx.decodeAudioData(data, function(buffer) {\n\n            sound.buffer = buffer;\n\n            sound.connect(audioCtx.destination);\n\n        },  function(e){ console.log(\"Error with decoding audio data\" + e.err); });\n\n        this.sounds.push({nombre:name,datos:sound,offset:0});\n\n    }\n\n    exportToWav(names,fin){\n        let duple = this.buildGroup(names,fin);\n\n        let bufferSource = duple[0];\n        let audioContext = duple[1];/*\n        audioContext.decodeAudioData(resp, function (buffer) {\n            // encode AudioBuffer to WAV\n            var wav = toWav(buffer)\n\n            // do something with the WAV ArrayBuffer ...\n        })*/\n        let arrayBuffer = toWav(duple[0].buffer, [])\n        return arrayBuffer;\n    }\n}\n","import React from \"react\";\r\nimport \"./player.css\";\r\n\r\nclass AudioPlayer extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            llar: props.llar,\r\n            playing: false,\r\n            position: 0,\r\n            leftDragDot: \"0px\",\r\n            progressWidth: \"0px\",\r\n            buttonClassName: \"button fa fa-play\"\r\n        };\r\n        this.progressBar = React.createRef();\r\n        this.button = React.createRef();\r\n        this.state.notloaded = true;\r\n    }\r\n\r\n    play(time) {\r\n        if(this.state.position >= this.props.endTime)  this.state.position = 0;\r\n        if(time) this.state.position = time;\r\n\r\n        let duple = this.state.llar.buildGroup(this.props.names, this.props.endTime);\r\n        this.state.sound = duple[0];\r\n        this.state.audioCtx = duple[1];\r\n        if(this.state.notloaded){\r\n            this.draw();\r\n            this.state.notloaded = false;\r\n        }\r\n        this.state.startTime = this.state.audioCtx.currentTime - this.state.position;\r\n        this.state.sound.start(0, this.state.position,this.props.endTime);\r\n        this.state.playing = true;\r\n\r\n    };\r\n\r\n    pause() {\r\n        if ( this.state.playing ) {\r\n            this.state.position = this.state.audioCtx.currentTime - this.state.startTime;\r\n            this.state.sound.stop(0);\r\n            this.state.playing = false;\r\n        }\r\n    };\r\n\r\n    toggle(){\r\n        if ( !this.state.playing ) {\r\n            this.play();\r\n        }\r\n        else {\r\n            this.pause();\r\n        }\r\n    }\r\n\r\n    onMouseDown(e){\r\n        this.state.dragging = true;\r\n        this.state.startX = e.pageX;\r\n        this.state.startLeftDragDot = parseInt(this.state.leftDragDot || 0, 10);\r\n    }\r\n\r\n    onDrag(e) {\r\n        let width, position;\r\n        if (!this.state.dragging) return;\r\n\r\n        width = this.progressBar.current.offsetWidth;\r\n        position = this.state.startLeftDragDot + ( e.pageX - this.state.startX );\r\n        position = Math.max(Math.min(width, position), 0);\r\n        this.setState({leftDragDot: position + \"px\"});\r\n    };\r\n\r\n    onMouseUp() {\r\n        let width, left, time;\r\n        if ( this.state.dragging ) {\r\n            width = this.progressBar.current.offsetWidth;\r\n            left = parseInt(this.state.leftDragDot || 0, 10);\r\n            time = left / width * this.state.sound.buffer.duration;\r\n            this.state.dragging = false;\r\n            this.seek(time);\r\n        }\r\n    };\r\n\r\n    seek(time) {\r\n        if (this.state.playing) {\r\n            this.state.sound.stop(0);\r\n            this.draw();\r\n            this.play(time);\r\n        }\r\n        else {\r\n            this.setState({position: time});\r\n            this.draw();\r\n        }\r\n    };\r\n\r\n\r\n    updatePosition() {\r\n        this.state.position =\r\n            this.state.playing ? this.state.audioCtx.currentTime - this.state.startTime : this.state.position;\r\n        if ( this.state.position >= this.state.sound.buffer.duration ) {\r\n            this.state.position = this.state.sound.buffer.duration;\r\n            this.pause();\r\n        }\r\n        return this.state.position;\r\n    };\r\n\r\n    draw() {\r\n        if (!this.state.dragging) {\r\n            let progress = (this.updatePosition() / this.state.sound.buffer.duration),\r\n                width = this.progressBar.current.offsetWidth;\r\n            if (this.state.playing) {\r\n                this.setState({buttonClassName: \"button fa fa-pause\"});\r\n            } else {\r\n                this.setState({buttonClassName: \"button fa fa-play\"});\r\n            }\r\n            this.setState({progressWidth: (progress * width) + \"px\"});\r\n            if (!this.dragging) {\r\n                this.setState({leftDragDot: (progress * width) + \"px\"});\r\n            }\r\n            requestAnimationFrame(this.draw.bind(this));\r\n        }\r\n    };\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"player\"\r\n                 onMouseMove={(e) => this.onDrag(e)}\r\n                 onMouseUp={() => this.onMouseUp()}\r\n            >\r\n                <button className={this.state.buttonClassName} ref={this.button} onClick={this.toggle.bind(this)}></button>\r\n                <div className=\"progressBar\"  ref={this.progressBar}>\r\n                    <div className=\"progress\" style={{width: this.state.progressWidth}}></div>\r\n                    <div className=\"dragDot\" style={{left: this.state.leftDragDot}}\r\n                         onMouseDown={(e) => this.onMouseDown(e)}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AudioPlayer;","export default function padNumber(number, size) {\n    var s = String(number);\n    while (s.length < (size || 2)) {s = \"0\" + s;}\n    return s;\n}","export const DEFAULT_SECONDS_RULER = 60;\nexport const RULER_EXTRA_PIXEL = 20;\nexport const SECONDS_LENGTH = 10;\nexport const SECONDS_CHUNKS = 10;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {Llar} from './llar.js';\nimport AudioPlayer from \"./player/player.jsx\";\nimport Timeline from \"./timeline/timeline.jsx\";\nimport * as $ from 'jquery';\nimport swal from 'sweetalert';\n\n\nlet envoy = new Llar();\nlet nowPlaying;\nlet trackNumber = 0;\nlet oReq;\n\n\nlet names = [];\nlet layers = [\n\n];\n\nlet frames = {\n\n};\n\nfunction onUpdateFrames(frames) {\n    for(let i=0;i<layers.length;i++){\n        envoy.changeOffset(layers[i].id,Math.floor(frames[layers[i].id][0].second));\n    }\n}\n\nlet sourceAux;\n\nfunction generateColorR(){\n    return Math.floor(Math.random() * (120)+125);\n}\nfunction generateColorG(){\n    return Math.floor(Math.random() * (120)+125);\n}\nfunction generateColorB(){\n    return Math.floor(Math.random() * (0)+125);\n}\n\nfunction generateColorStyle(){\n    return \"rgb(\"+generateColorR()+\",\"+generateColorG()+\",\"+generateColorB()+\")\";\n}\n\nfunction playSound(bool, theKey){\n    if(bool){\n        if(nowPlaying != null && nowPlaying != theKey) envoy.stopCurrentSound();\n\n        for(let i=0;i<layers.length;i++){\n            if(layers[i].id != theKey){\n                layers[i].black=true;\n            }\n            if(layers[i].id==theKey){\n                layers[i].black=false;\n            }\n        }\n\n        envoy.playSound(theKey);\n        nowPlaying = theKey;\n    }\n    else {\n        envoy.stopCurrentSound();\n        for(let i=0;i<layers.length;i++) {\n            if (layers[i].id == nowPlaying) {\n                layers[i].black = true;\n            }\n        }\n        nowPlaying = null;\n    }\n\n    if(nowPlaying!= null){\n        render();\n    }\n    else{\n        render();\n    }\n}\n\nfunction readURL(input) {\n    if(input.target.files && input.target.files[0]) {\n        let name = input.target.files[0].name;\n        sourceAux = URL.createObjectURL(input.target.files[0]);\n        let audio = new Audio(sourceAux);\n\n\n\n        audio.addEventListener('loadedmetadata',function(){\n\n            layers.push({\n                id: \"Track-\"+(trackNumber+1),\n                name: \"Track-\"+(trackNumber+1),\n                black: true,\n            });\n            trackNumber++;\n            frames[(\"Track-\"+trackNumber)] = [{\n                //use ID3 tags for getting names\n                //name: ID3.loadTags(audio.src),\n                name: name,\n                second: 0,\n                duration: (audio.duration - audio.duration%5),\n                track: audio.src,\n                bgcolor: generateColorStyle(),\n            }];\n\n            oReq = new XMLHttpRequest();\n            oReq.open(\"GET\", sourceAux, true);\n            oReq.responseType = \"arraybuffer\";\n            oReq.onload = function() {\n                let arrayBuffer = oReq.response; // Note: not oReq.responseText\n                if (arrayBuffer) {\n                    envoy.processConcatenatedFile((\"Track-\"+(trackNumber)),arrayBuffer);\n                }\n            };\n            oReq.send(null);\n            render();\n        },false);\n    }\n}\n\nfunction getCookie(name) {\n    var value = \"; \" + document.cookie;\n    var parts = value.split(\"; \" + name + \"=\");\n    if (parts.length == 2) return parts.pop().split(\";\").shift();\n}\nfunction groupNames(name){\n    names = name;\n    render();\n}\n\nfunction render(){\n    ReactDOM.render(\n        <div id=\"allPageContent\">\n            <input className=\"inputButton\" id=\"auInput\" type=\"file\" style={{display: 'none'}} accept=\"audio/mp3\" onChange={e => readURL(e)}/>\n            <Timeline layers={layers} frames={frames} groupNames={groupNames} onUpdateFrames={onUpdateFrames} playSound={playSound}/>\n            <AudioPlayer llar={envoy} names={names} endTime={200}/>\n        </div>,\n        document.getElementById(\"root\")\n    );\n}\n\n\n\n// SCRIPT.JS -------------------------------------------------------\n// SCRIPT.JS -------------------------------------------------------\n// SCRIPT.JS -------------------------------------------------------\n// SCRIPT.JS -------------------------------------------------------\n// SCRIPT.JS -------------------------------------------------------\n// SCRIPT.JS -------------------------------------------------------\n\nwindow.onload=function(){\n\n\n    $(\"ocho\").text(getCookie(\"username\"));\n    $(\"#file-0\").on(\"click\",function(){\n      $(\"#auInput\").click();\n    });\n    $(\"#auInput\").on(\"change\", function(){\n        let fileReader = new FileReader();\n        /*fileReader.onload=function(){\n        envoy.processConcatenatedFile(nn,this.result);\n        }\n        /*let nn=this.files[0].name;\n        fileReader.readAsArrayBuffer(this.files[0]);*/\n\n    });\n\n    $(\"#delay-volume\").on(\"input change\", function(slideEvt) {\n        $(\"#delay-span-volume\").text($(this).val());\n\n    });\n\n    $(\"#delay-feedback\").on(\"input change\", function(slideEvt) {\n        $(\"#delay-span-feedback\").text($(this).val());\n    });\n\n    $(\"#delay-time\").on(\"input change\", function(slideEvt) {\n        $(\"#delay-span-time\").text($(this).val());\n    });\n\n    $(\"#stop-delay\").click(function(){\n        envoy.stopCurrentSound();\n\n    });\n    $(\"#play-delay\").click(function(){\n\n        let ini=Number.parseInt($(\"#initial-selector\").text());\n        let fin=Number.parseInt($(\"#final-selector\").text());\n        let vol=Number.parseFloat($(\"#delay-span-volume\").text());\n        let feed=Number.parseFloat($(\"#delay-span-feedback\").text());\n        let tim=Number.parseFloat($(\"#delay-span-time\").text());\n\n        envoy.stopCurrentSound();\n        envoy.showDelay(names, tim,ini,fin,feed,vol);\n\n    });\n    $(\"#delay-aplicar\").click(function(){\n\n        let ini=Number.parseInt($(\"#initial-selector\").text());\n        let fin=Number.parseInt($(\"#final-selector\").text());\n        let vol=Number.parseFloat($(\"#delay-span-volume\").text());\n        let feed=Number.parseFloat($(\"#delay-span-feedback\").text());\n        let tim=Number.parseFloat($(\"#delay-span-time\").text());\n\n\n        envoy.applyDelay(names,tim,ini,fin,feed,vol);\n    });\n\n    $(\"#stop-ppdelay\").click(function(){\n        envoy.stopCurrentSound();\n\n    });\n    $(\"#play-ppdelay\").click(function(){\n\n        let ini=Number.parseInt($(\"#initial-selector\").text());\n        let fin=Number.parseInt($(\"#final-selector\").text());\n        let vol=Number.parseFloat($(\"#ppdelay-span-volume\").text());\n        let feed=Number.parseFloat($(\"#ppdelay-span-feedback\").text());\n        let tim=Number.parseFloat($(\"#ppdelay-span-time\").text());\n\n        envoy.stopCurrentSound();\n        envoy.showPingPongDelay(names,tim,ini,fin,feed,vol,true);\n\n    });\n\n    $(\"#ppdelay-aplicar\").click(function(){\n        //changeVolumen($(\"#delay-volume\").val());\n        let ini=Number.parseInt($(\"#initial-selector\").text());\n        let fin=Number.parseInt($(\"#final-selector\").text());\n        let vol=Number.parseFloat($(\"#ppdelay-span-volume\").text());\n        let feed=Number.parseFloat($(\"#ppdelay-span-feedback\").text());\n        let tim=Number.parseFloat($(\"#ppdelay-span-time\").text());\n\n        envoy.applyPingPongDelay(names,tim,ini,fin,feed,vol,false);\n\n    });\n\n    $(\"#ppdelay-volume\").on(\"input change\", function(slideEvt) {\n        $(\"#ppdelay-span-volume\").text($(this).val());\n    });\n\n    $(\"#ppdelay-feedback\").on(\"input change\", function(slideEvt) {\n        $(\"#ppdelay-span-feedback\").text($(this).val());\n    });\n\n    $(\"#ppdelay-time\").on(\"input change\", function(slideEvt) {\n        $(\"#ppdelay-span-time\").text($(this).val());\n    });\n\n    $(\"#crescendo-volume\").on(\"input change\", function(slideEvt) {\n        $(\"#crescendo-span-volume\").text($(this).val());\n    });\n\n    $(\"#crescendo-li\").on(\"input change\", function(slideEvt) {\n        $(\"#crescendo-span-li\").text($(this).val());\n    });\n\n    $(\"#crescendo-ls\").on(\"input change\", function(slideEvt) {\n        $(\"#crescendo-span-ls\").text($(this).val());\n    });\n\n    $(\"#stop-crescendo\").click(function(){\n        envoy.stopCurrentSound();\n    });\n\n    $(\"#play-crescendo\").click(function(){\n\n        let ini=Number.parseInt($(\"#initial-selector\").text());\n        let fin=Number.parseInt($(\"#final-selector\").text());\n        let vol=Number.parseFloat($(\"#ppdelay-span-volume\").text());\n        let limin=Number.parseFloat($(\"#crescendo-span-li\").text());\n        let limsu=Number.parseFloat($(\"#crescendo-span-ls\").text());\n\n        envoy.stopCurrentSound();\n        envoy.showCrescendo(names,ini,fin,limin,limsu,vol);\n\n    });\n    $(\"#crescendo-aplicar\").click(function(){\n\n        let ini=Number.parseInt($(\"#initial-selector\").text());\n        let fin=Number.parseInt($(\"#final-selector\").text());\n        let vol=Number.parseFloat($(\"#ppdelay-span-volume\").text());\n        let limin=Number.parseFloat($(\"#crescendo-span-li\").text());\n        let limsu=Number.parseFloat($(\"#crescendo-span-ls\").text());\n\n        envoy.applyCrescendo(names,ini,fin,limin,limsu,vol);\n\n    });\n\n\n    $(\"#decrescendo-volume\").on(\"input change\", function(slideEvt) {\n        $(\"#decrescendo-span-volume\").text($(this).val());\n    });\n\n    $(\"#decrescendo-li\").on(\"input change\", function(slideEvt) {\n        $(\"#decrescendo-span-li\").text($(this).val());\n    });\n\n    $(\"#decrescendo-ls\").on(\"input change\", function(slideEvt) {\n        $(\"#decrescendo-span-ls\").text($(this).val());\n    });\n\n    $(\"#stop-decrescendo\").click(function(){\n        envoy.stopCurrentSound();\n    });\n\n    $(\"#play-decrescendo\").click(function(){\n\n        let ini=Number.parseInt($(\"#initial-selector\").text());\n        let fin=Number.parseInt($(\"#final-selector\").text());\n        let vol=Number.parseFloat($(\"#crescendo-span-volume\").text());\n        let limin=Number.parseFloat($(\"#crescendo-span-li\").text());\n        let limsu=Number.parseFloat($(\"#crescendo-span-ls\").text());\n\n        envoy.stopCurrentSound();\n        envoy.showDecrescendo(names,ini,fin,limin,limsu,vol);\n\n    });\n    $(\"#decrescendo-aplicar\").click(function(){\n\n        let ini=Number.parseInt($(\"#initial-selector\").text());\n        let fin=Number.parseInt($(\"#final-selector\").text());\n        let vol=Number.parseFloat($(\"#decrescendo-span-volume\").text());\n        let limin=Number.parseFloat($(\"#decrescendo-span-li\").text());\n        let limsu=Number.parseFloat($(\"#decrescendo-span-ls\").text());\n\n        envoy.applyDecrescendo(names,ini,fin,limin,limsu,vol);\n\n    });\n\n    $(\"#distortion-volume\").on(\"input change\", function(slideEvt) {\n        $(\"#distortion-span-volume\").text($(this).val());\n    });\n\n    $(\"#distortion-gain\").on(\"input change\", function(slideEvt) {\n        $(\"#distortion-span-gain\").text($(this).val());\n    });\n\n    $(\"#distortion-mix\").on(\"input change\", function(slideEvt) {\n        $(\"#distortion-span-mix\").text($(this).val());\n    });\n\n    $(\"#stop-distortion\").click(function(){\n        envoy.stopCurrentSound();\n    });\n\n    $(\"#play-distortion\").click(function(){\n\n        let ini=Number.parseInt($(\"#initial-selector\").text());\n        let fin=Number.parseInt($(\"#final-selector\").text());\n        let vol=Number.parseFloat($(\"#distortion-span-volume\").text());\n        let gain=Number.parseFloat($(\"#distortion-span-gain\").text());\n        let mix=Number.parseFloat($(\"#distortion-span-mix\").text());\n        console.log(ini + \"+\" + fin);\n        envoy.stopCurrentSound();\n        envoy.showDistorion(names,ini,fin,vol,gain,mix);\n\n    });\n\n    $(\"#distortion-aplicar\").click(function(){\n        let ini=Number.parseInt($(\"#initial-selector\").text());\n        let fin=Number.parseInt($(\"#final-selector\").text());\n        let vol=Number.parseFloat($(\"#distortion-span-volume\").text());\n        let gain=Number.parseFloat($(\"#distortion-span-gain\").text());\n        let mix=Number.parseFloat($(\"#distortion-span-mix\").text());\n        envoy.applyDistortion(names,ini,fin,vol,gain,mix);\n    });\n\n    $(\"#overdrive-volume\").on(\"input change\", function(slideEvt) {\n        $(\"#overdrive-span-volume\").text($(this).val());\n    });\n\n    $(\"#overdrive-high-gain\").on(\"input change\", function(slideEvt) {\n        $(\"#overdrive-span-high-gain\").text($(this).val());\n    });\n\n    $(\"#overdrive-mid-gain\").on(\"input change\", function(slideEvt) {\n        $(\"#overdrive-span-mid-gain\").text($(this).val());\n    });\n\n    $(\"#overdrive-low-gain\").on(\"input change\", function(slideEvt) {\n        $(\"#overdrive-span-low-gain\").text($(this).val());\n    });\n\n    $(\"#stop-overdrive\").click(function(){\n        envoy.stopCurrentSound();\n    });\n\n    $(\"#play-overdrive\").click(function(){\n\n        let ini=Number.parseInt($(\"#initial-selector\").text());\n        let fin=Number.parseInt($(\"#final-selector\").text());\n        let vol=Number.parseFloat($(\"#overdrive-span-volume\").text());\n        let high=Number.parseFloat($(\"#overdrive-span-high-gain\").text());\n        let mid=Number.parseFloat($(\"#overdrive-span-mid-gain\").text());\n        let low=Number.parseFloat($(\"#overdrive-span-low-gain\").text());\n\n        envoy.stopCurrentSound();\n        envoy.showOverdrive(names,ini,fin,vol,high,mid,low);\n\n    });\n\n    $(\"#overdrive-aplicar\").click(function(){\n        let ini=Number.parseInt($(\"#initial-selector\").text());\n        let fin=Number.parseInt($(\"#final-selector\").text());\n        let vol=Number.parseFloat($(\"#overdrive-span-volume\").text());\n        let high=Number.parseFloat($(\"#overdrive-span-high-gain\").text());\n        let mid=Number.parseFloat($(\"#overdrive-span-mid-gain\").text());\n        let low=Number.parseFloat($(\"#overdrive-span-low-gain\").text());\n\n        envoy.applyOverdrive(names,ini,fin,vol,high,mid,low);\n    });\n\n    $(\"#operation-1\").click(function(){\n        cutTracks();\n    });\n    $(\"#operation-2\").click(function(){\n        duplicateTracks();\n    });\n    $(\"#operation-3\").click(function(){\n        joinTracks();\n    });\n    $(\"#operation-4\").click(function(){\n        combineTracks();\n    });\n\n    $(\"#flanger-volume\").on(\"input change\", function(slideEvt) {\n    $(\"#flanger-span-volume\").text($(this).val());\n    });\n\n    $(\"#flanger-time\").on(\"input change\", function(slideEvt) {\n    $(\"#flanger-span-time\").text($(this).val());\n    });\n\n    $(\"#flanger-rate\").on(\"input change\", function(slideEvt) {\n    $(\"#flanger-span-rate\").text($(this).val());\n    });\n\n    $(\"#flanger-amp\").on(\"input change\", function(slideEvt) {\n    $(\"#flanger-span-amp\").text($(this).val());\n    });\n\n    $(\"#stop-flanger\").click(function(){\n        envoy.stopCurrentSound();\n    });\n\n    $(\"#play-flanger\").click(function(){\n      let ini=Number.parseInt($(\"#initial-selector\").text());\n      let fin=Number.parseInt($(\"#final-selector\").text());\n      let vol=Number.parseFloat($(\"#flanger-span-volume\").text());\n      let time=Number.parseFloat($(\"#flanger-span-time\").text());\n      let rate=Number.parseFloat($(\"#flanger-span-rate\").text());\n      let amp=Number.parseFloat($(\"#flanger-span-amp\").text());\n      envoy.stopCurrentSound();\n      envoy.showFlanger(names,ini,fin,vol,time,rate,amp);\n    });\n\n    $(\"#flanger-aplicar\").click(function(){\n      let ini=Number.parseInt($(\"#initial-selector\").text());\n      let fin=Number.parseInt($(\"#final-selector\").text());\n      let vol=Number.parseFloat($(\"#flanger-span-volume\").text());\n      let time=Number.parseFloat($(\"#flanger-span-time\").text());\n      let rate=Number.parseFloat($(\"#flanger-span-rate\").text());\n      let amp=Number.parseFloat($(\"#flanger-span-amp\").text());\n\n      envoy.applyFlanger(names,ini,fin,vol,time,rate,amp);\n    });\n\n\n    $(\"#sp-volume\").on(\"input change\", function(slideEvt) {\n    $(\"#sp-span-volume\").text($(this).val());\n    });\n\n    $(\"#sp-n_segments\").on(\"input change\", function(slideEvt) {\n    $(\"#sp-span-n_segments\").text($(this).val());\n    });\n\n    $(\"#sp-initial_angle\").on(\"input change\", function(slideEvt) {\n    $(\"#sp-span-initial_angle\").text($(this).val());\n    });\n\n    $(\"#sp-final_angle\").on(\"input change\", function(slideEvt) {\n    $(\"#sp-span-final_angle\").text($(this).val());\n    });\n\n    $(\"#stop-stereo_panner\").click(function(){\n      envoy.stopCurrentSound();\n    });\n\n    $(\"#play-stereo_panner\").click(function(){\n\n      let ini=Number.parseInt($(\"#initial-selector\").text());\n      let fin=Number.parseInt($(\"#final-selector\").text());\n      let vol=Number.parseFloat($(\"#sp-span-volume\").text());\n      let n_segments=Number.parseFloat($(\"#sp-span-n_segments\").text());\n      let initial_angle=Number.parseFloat($(\"#sp-span-initial_angle\").text());\n      let final_angle=Number.parseFloat($(\"#sp-span-final_angle\").text());\n      envoy.stopCurrentSound();\n      envoy.showStereoPanner(names,ini,fin,vol,n_segments,initial_angle,final_angle);\n\n    });\n\n    $(\"#stereo_panner-aplicar\").click(function(){\n      let ini=Number.parseInt($(\"#initial-selector\").text());\n      let fin=Number.parseInt($(\"#final-selector\").text());\n      let vol=Number.parseFloat($(\"#sp-span-volume\").text());\n      let n_segments=Number.parseFloat($(\"#sp-span-n_segments\").text());\n      let initial_angle=Number.parseFloat($(\"#sp-span-initial_angle\").text());\n      let final_angle=Number.parseFloat($(\"#sp-span-final_angle\").text());\n\n      envoy.applyStereoPanner(names,ini,fin,vol,n_segments,initial_angle,final_angle);\n    });\n\n    $(\"#rm-volume\").on(\"input change\", function(slideEvt) {\n    $(\"#rm-span-volume\").text($(this).val());\n    });\n\n    $(\"#rm-minf\").on(\"input change\", function(slideEvt) {\n    $(\"#rm-span-minf\").text($(this).val());\n    });\n\n    $(\"#rm-maxf\").on(\"input change\", function(slideEvt) {\n    $(\"#rm-span-maxf\").text($(this).val());\n    });\n\n    $(\"#rm-delta\").on(\"input change\", function(slideEvt) {\n    $(\"#rm-span-delta\").text($(this).val());\n    });\n\n    $(\"#stop-rm\").click(function(){\n      envoy.stopCurrentSound();\n    });\n\n    $(\"#play-rm\").click(function(){\n\n      let ini=Number.parseInt($(\"#initial-selector\").text());\n      let fin=Number.parseInt($(\"#final-selector\").text());\n      let vol=Number.parseFloat($(\"#rm-span-volume\").text());\n      let minf=Number.parseFloat($(\"#rm-span-minf\").text());\n      let maxf=Number.parseFloat($(\"#rm-span-maxf\").text());\n      let delta=Number.parseFloat($(\"#rm-span-delta\").text());\n      envoy.stopCurrentSound();\n      envoy.showRingModulator(names,ini,fin,vol,minf,maxf,delta);\n\n    });\n\n    $(\"#rm-aplicar\").click(function(){\n      let ini=Number.parseInt($(\"#initial-selector\").text());\n      let fin=Number.parseInt($(\"#final-selector\").text());\n      let vol=Number.parseFloat($(\"#rm-span-volume\").text());\n      let minf=Number.parseFloat($(\"#rm-span-minf\").text());\n      let maxf=Number.parseFloat($(\"#rm-span-maxf\").text());\n      let delta=Number.parseFloat($(\"#rm-span-delta\").text());\n\n      envoy.applyRingModulator(names,ini,fin,vol,minf,maxf,delta);\n    });\n\n\n    $(\"#compressor-volume\").on(\"input change\", function(slideEvt) {\n    $(\"#compressor-span-volume\").text($(this).val());\n    });\n\n    $(\"#compressor-comp\").on(\"input change\", function(slideEvt) {\n    $(\"#compressor-span-comp\").text($(this).val());\n    });\n\n    $(\"#compressor-simetry\").on(\"input change\", function(slideEvt) {\n    $(\"#compressor-span-simetry\").text($(this).val());\n    });\n\n\n    $(\"#stop-compressor\").click(function(){\n      envoy.stopCurrentSound();\n    });\n\n    $(\"#play-compressor\").click(function(){\n\n      let ini=Number.parseInt($(\"#initial-selector\").text());\n      let fin=Number.parseInt($(\"#final-selector\").text());\n      let vol=Number.parseFloat($(\"#compressor-span-volume\").text());\n      let comp=Number.parseFloat($(\"#compressor-span-comp\").text());\n      let sim=Number.parseFloat($(\"#compressor-span-simetry\").text());\n      envoy.stopCurrentSound();\n      envoy.showCompressor(names,ini,fin,vol,comp,sim);\n\n    });\n\n    $(\"#compressor-aplicar\").click(function(){\n      let ini=Number.parseInt($(\"#initial-selector\").text());\n      let fin=Number.parseInt($(\"#final-selector\").text());\n      let vol=Number.parseFloat($(\"#compressor-span-volume\").text());\n      let comp=Number.parseFloat($(\"#compressor-span-comp\").text());\n      let sim=Number.parseFloat($(\"#compressor-span-simetry\").text());\n\n      envoy.applyCompressor(names,ini,fin,vol,comp,sim);\n\n    });\n\n    $(\"#file-1\").click(function(){exportTracks()});\n    $(\"#file-2\").click(function(){deleteTracks()});\n    // For all major browsers, except IE 8 and earlier\n}\n\n// SCRIPT.JS -------------------------------------------------------\n// SCRIPT.JS -------------------------------------------------------\n// SCRIPT.JS -------------------------------------------------------\n// SCRIPT.JS -------------------------------------------------------\n// SCRIPT.JS -------------------------------------------------------\n// SCRIPT.JS -------------------------------------------------------\n\nfunction exportTracks(){\n    let maxEnd = -1;\n    for(let i=0;i<names.length;i++){\n        if((frames[names[i]][0].duration+frames[names[i]][0].second)>maxEnd)\n            maxEnd = (frames[names[i]][0].duration+frames[names[i]][0].second);\n    }\n    let wavFile = envoy.exportToWav(names,maxEnd);\n    let blob = new window.Blob([ new DataView(wavFile) ], {\n        type: 'audio/wav'\n    });\n\n    let anchor = document.createElement('a');\n    document.body.appendChild(anchor);\n    anchor.style = 'display: none';\n\n    let url = window.URL.createObjectURL(blob);\n    anchor.href = url;\n    anchor.download = 'audio.wav';\n    anchor.click();\n    window.URL.revokeObjectURL(url);\n}\n\nfunction deleteTracks() {\n    if(names.length>=1){\n    envoy.delete(names);\n    for (let j = 0; j < names.length; j++) {\n        let index;\n        let bool = false;\n        for (let i = 0; i < layers.length; i++) {\n            if (names[j] === layers[i].name) {\n                index = i;\n                bool = true;\n                break;\n            }\n        }\n        delete frames[names[j]];\n        if(bool)\n            layers.splice(index, 1);\n    }\n    names = [];\n    render();}\n    else{\n        swal({\n            title: \"Error\",\n            text: \"Seleccione al menos una pista\",\n            icon: \"error\",\n        });\n    }\n}\n\nfunction cutTracks(){\n\n    if(names.length==1){\n        let ini=Number.parseInt($(\"#initial-selector\").text());\n        let fin=Number.parseInt($(\"#final-selector\").text());\n        envoy.cut(names,ini,fin);\n\n        frames[names[0]] = [{\n            name: frames[names[0]][0].name,\n            second: envoy.getOffset(names),\n            duration: envoy.getLength(names),\n            track: frames[names[0]][0].track,\n            bgcolor: generateColorStyle()\n        }];\n        render();\n\n        swal({\n            title: \"Hecho\",\n            text: \"Pista cortada\",\n            icon: \"success\",\n        });\n    }\n    else if(names.length>1){\n        swal({\n            title: \"Error\",\n            text: \"Seleccione solo una pista\",\n            icon: \"error\",\n        });\n    }\n    else{\n        swal({\n            title: \"Error\",\n            text: \"Seleccione una pista\",\n            icon: \"error\",\n        });\n    }\n\n}\n\nfunction duplicateTracks(){\n\n    let trackIds = [];\n    for(let i=0;i<names.length;i++){\n        trackNumber++;\n        trackIds.push(\"Track-\"+trackNumber);\n    }\n\n    envoy.duplicate(names,trackIds);\n\n    for (let j = 0; j < trackIds.length; j++) {\n        console.log(frames[names[j]]);\n        frames[trackIds[j]] = [{\n            name: \"Copy-\"+frames[names[j]][0].name,\n            second: frames[names[j]][0].second,\n            duration: frames[names[j]][0].duration,\n            track: frames[names[j]][0].track,\n            bgcolor: generateColorStyle(),\n        }];\n        layers.push({\n            id: trackIds[j],\n            name: trackIds[j],\n            black: true,\n        });\n    }\n    render();\n    swal({\n        title: \"Hecho\",\n        text: \"Pistas duplicadas\",\n        icon: \"success\",\n    });\n}\n\nfunction joinTracks() {\n    if(names.length==2){\n\n        //TODO: arreglar en LLAR\n        envoy.join(names);\n        frames[names[0]] = [{\n            name: frames[names[0]][0].name+\"+\"+frames[names[1]][0].name,\n            second: frames[names[0]][0].second,\n            duration: frames[names[0]][0].duration+frames[names[1]][0].duration,\n            track: frames[names[0]][0].track,\n            bgcolor: generateColorStyle()\n        }];\n        for(let i=0;i<layers.length;i++){\n            if(layers[i].id == names[1]){\n                layers.splice(i,1);\n                delete frames[names[1]];\n                break;\n            }\n        }\n\n        render();\n        swal({\n            title: \"Hecho\",\n            text: \"Pistas unidas\",\n            icon: \"success\",\n        });\n    }\n    else if(names.length>2){\n        swal({\n            title: \"Error\",\n            text: \"Seleccione solo dos pistas\",\n            icon: \"error\",\n        });\n    }\n    else{\n        swal({\n            title: \"Error\",\n            text: \"Seleccione dos pistas\",\n            icon: \"error\",\n        });\n    }\n}\n\nfunction combineTracks() {\n    if(names.length>=2){\n\n        envoy.combine(names);\n        //       envoy.playSound(\"combinacion0\");\n\n        let minStart = 6000;\n        let maxEnd = -1;\n        for(let i=0;i<names.length;i++){\n            if(frames[names[i]][0].second<minStart)\n                minStart=frames[names[i]][0].second;\n            if((frames[names[i]][0].duration+frames[names[i]][0].second)>maxEnd)\n                maxEnd = (frames[names[i]][0].duration+frames[names[i]][0].second);\n        }\n\n        let composedName = \"Superpuestos:\";\n        for(let i=0;i<names.length;i++) {\n            let cut = 20;\n            if(frames[names[i]][0].name.length>cut)\n                composedName = composedName+\"+\"+frames[names[i]][0].name.substring(0,cut);\n            else\n                composedName = composedName+\"+\"+frames[names[i]][0].name;\n        }\n\n        frames[names[0]] = [{\n            name: composedName,\n            second: minStart,\n            duration: maxEnd-minStart,\n            track: frames[names[0]][0].track,\n            bgcolor: generateColorStyle()\n        }];\n\n        for(let j=1;j<names.length;j++){\n            for(let i=0;i<layers.length;i++) {\n                if(layers[i].id == names[j]){\n                    layers.splice(i,1);\n                    delete frames[names[j]];\n                    break;\n                }\n            }\n        }\n        render();\n    }\n    else{\n        swal({\n            title: \"Error\",\n            text: \"Seleccione al menos dos pistas\",\n            icon: \"error\",\n        });\n    }\n\n}\nrender();\n","import React from 'react'\r\n\r\nexport default class RulerSelectorIn extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    handleMouseClick(e) {\r\n        this.props.dragEvent(e,\"init\");\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"timeline-editor__frames-ruler__iarrow\"\r\n                 style={{left:(this.props.seconds)-(this.props.seconds)%5}}\r\n                 onMouseDown={(e) => this.handleMouseClick(e)}\r\n                 id=\"initial-selector\">\r\n                {Math.floor(this.props.seconds/5)}\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react'\r\n\r\nexport default class RulerSelectorOut extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    handleMouseClick(e) {\r\n        this.props.dragEvent(e,\"out\");\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"timeline-editor__frames-ruler__farrow\"\r\n                 style={{left:(this.props.seconds)-(this.props.seconds)%5}}\r\n                 onMouseDown={(e) => this.handleMouseClick(e)}\r\n                 id=\"final-selector\">\r\n                {Math.floor(this.props.seconds/5)+17}\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\nimport padNumber from './pad-function';\nimport { DEFAULT_SECONDS_RULER, SECONDS_CHUNKS,\n    SECONDS_LENGTH, RULER_EXTRA_PIXEL } from \"./seconds-sizes\";\nimport RulerSelectorIn from \"./timeline-ruler-select-in.jsx\"\nimport RulerSelectorOut from \"./timeline-ruler-select-out.jsx\"\n\nexport default class TimelineRuler extends React.Component {\n\n    constructor(props) {\n        super(props);\n        let secondsLength = props.seconds > 0 ? props.seconds : DEFAULT_SECONDS_RULER;\n        this.state = {\n            secondsList: TimelineRuler.getSecondsList(secondsLength),\n            barInit: props.secondsInit,\n            barOut: props.secondsOut,\n            draggable: null\n        };\n    }\n\n    static getSecondsList(seconds) {\n        let list = [];\n        let second = 20;\n        let addVal = second;\n        do\n        {\n            let currentMinute = Math.floor(second/60);\n            let currentSecond = (second - (currentMinute*60));\n            list.push(`${padNumber(currentMinute,2)}:${padNumber(currentSecond,2)}`);\n            second = second + addVal;\n        }\n        while(second<=seconds);\n        return list;\n    }\n\n    handleRulerDragStart(e, val) {\n        const clientX = e.clientX;\n        this.setState({draggable:{\n                startX: clientX,\n                identify: val\n            }});\n    }\n\n    handleRulerDraggin(e) {\n        if(!this.state.draggable) return;\n        const currentClientX = e.clientX;\n        const moveMouseX = (currentClientX - this.state.draggable.startX);\n        //TODO: move elements by 5\n       // if ((Math.abs(moveMouseX)%5)!==0) return;\n        if(this.state.draggable.identify===\"init\"){\n            let initialSecs = this.state.barInit;\n            initialSecs = initialSecs + moveMouseX;\n            this.setState({\n                barInit: initialSecs,\n                draggable: {\n                    startX: currentClientX,\n                    identify: this.state.draggable.identify\n                }\n            });\n            this.props.updateRulerI(initialSecs);\n        }\n        else if (this.state.draggable.identify===\"out\"){\n            let initialSecs = this.state.barOut;\n            initialSecs = initialSecs + moveMouseX;\n            this.setState({\n                barOut: initialSecs,\n                draggable: {\n                    startX: currentClientX,\n                    identify: this.state.draggable.identify\n                }\n            });\n            this.props.updateRulerO(initialSecs);\n        }\n    }\n\n    handleRulerDragEnd() {\n        this.setState({draggable:null});\n    }\n    \n    render() {\n        return (\n            <div className=\"timeline-editor__frames-ruler\"\n                style={{width:(this.state.secondsList.length*SECONDS_CHUNKS*SECONDS_LENGTH)+RULER_EXTRA_PIXEL}}\n                 onMouseUp={() => this.handleRulerDragEnd()}\n                 onMouseMove={(e) => this.handleRulerDraggin(e)}\n            >\n                {this.state.secondsList.map((second)=>\n                    <div className=\"timeline-editor__frames-ruler-s10s\" key={second}>\n                        <span style={{zIndex:(1000)}}>{second}</span>\n                        <div className=\"timeline-editor__frames-ruler__second\"/>\n                        <div className=\"timeline-editor__frames-ruler__second\"/>\n                        <div className=\"timeline-editor__frames-ruler__second\"/>\n                        <div className=\"timeline-editor__frames-ruler__second\"/>\n                        <div className=\"timeline-editor__frames-ruler__second\"/>\n                    </div>\n                )}\n                <div className=\"ruler-selector-container\" >\n                    <RulerSelectorIn\n                        seconds={this.state.barInit}\n                        dragEvent={this.handleRulerDragStart.bind(this)}\n                    />\n                    <RulerSelectorOut\n                        seconds={this.state.barOut}\n                        dragEvent={this.handleRulerDragStart.bind(this)}\n                    />\n                </div>\n            </div>\n        );\n    }\n}","import React from 'react'\n\nexport default class TimelineFrame extends React.Component {\n\n    constructor(props) {\n        super(props);\n        let isChecked = false;\n    }\n\n    handleMouseClick(e) {\n        this.props.dragEvent(e, this.props.layerKey, this.props.index);\n    }\n\n    addToPlay(){\n        this.isChecked ? this.isChecked = false: this.isChecked = true;\n        this.props.groupNames(this.props.frameId,this.isChecked);\n    }\n\n    render() {\n        this.props.frame.seconds = Math.trunc(this.props.frame.seconds);\n        return (\n            <div name={this.props.frameId}\n                className=\"timeline-editor__frames-layer__item\"\n                 style={{width:(this.props.frame.duration*5),\n                     left:(this.props.frame.second*5)-(this.props.frame.second*5)%5,\n                     backgroundColor:this.props.frame.bgcolor,\n                 }}\n                 onMouseDown={(e) => this.handleMouseClick(e)}\n                 key={this.props.theKey}\n            >\n\n                <input name={this.props.frameId} type=\"checkbox\" onChange={(e) => this.addToPlay(this.props.frame, e)}/>\n                Select\n                <br/>\n                Second: {Math.trunc(this.props.frame.second)}\n                <br/>\n                Track name: {this.props.frame.name}\n            </div>\n        );\n    }\n}","import React from 'react';\nimport TimelineRuler from \"./timeline-ruler.jsx\";\nimport TimelineFrame from \"./timeline-frame.jsx\";\nimport {SECONDS_CHUNKS, SECONDS_LENGTH} from \"./seconds-sizes\";\n\nexport default class TimelineFrames extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            frames: props.frames,\n            seconds: props.seconds,\n            secondsInit: props.secondsInit,\n            secondsOut: props.secondsOut,\n            layers: props.layers,\n            draggable: null,\n            names: []\n        };\n    }\n\n    updateFrames(){\n\n    }\n\n    handleFrameDragStart(e, layerKey, frameIndex) {\n        const clientX = e.clientX;\n        this.setState({draggable:{\n            currentLayer: layerKey,\n            currentElementIndex: frameIndex,\n            startX: clientX\n        }});\n    }\n\n    handleFrameDraggin(e) {\n        if(!this.state.draggable) return;\n        const currentClientX = e.clientX;\n        const moveMouseX = (currentClientX - this.state.draggable.startX)/5;\n        //TODO: move elements by second\n        //if ((Math.abs(moveMouseX)%1)!==0) return;\n        const index = this.state.draggable.currentElementIndex;\n        const layerKey = this.state.draggable.currentLayer;\n        let frames = this.state.frames;\n        if(frames[layerKey][index].second + moveMouseX <0) return;\n        frames[layerKey][index].second = frames[layerKey][index].second + moveMouseX;\n        this.setState({frames: frames, draggable: {\n                currentLayer: layerKey,\n                currentElementIndex: index,\n                startX: currentClientX,\n            }});\n    }\n\n\n    handleFrameDragEnd() {\n        this.setState({draggable:null});\n        this.props.updateFrames(this.state.frames);\n    }\n\n    updateRulerI(newBar) {\n        this.setState({secondsInit: newBar});\n    }\n\n    updateRulerO(newBar) {\n        this.setState({secondsOut: newBar});\n    }\n\n    groupNames(name, add){\n        add ? this.state.names.push(name) : this.state.names.splice( this.state.names.indexOf(name), 1 );\n        this.setState({names: this.state.names});\n\n        for(let i=0;i<this.state.names.length;i++){\n            let exist = false;\n            for(let j=0;j<this.state.layers.length;j++){\n                if(this.state.layers[j].id == this.state.names[i]){\n                    exist = true;\n                }\n            }\n            if(!exist){\n                this.state.names.splice(i,1);\n            }\n        }\n        this.setState(this.state.names);\n        this.props.groupNames(this.state.names);\n    }\n\n    render() {\n        return (\n            <div className=\"timeline-editor__frames\"\n                onMouseUp={() => this.handleFrameDragEnd()}>\n                <TimelineRuler\n                    seconds={this.state.seconds}\n                    secondsInit={this.state.secondsInit}\n                    secondsOut={this.state.secondsOut}\n                    updateRulerI={this.updateRulerI.bind(this)}\n                    updateRulerO={this.updateRulerO.bind(this)}\n                />\n                {this.state.layers.map((layer) =>\n                    <div className=\"timeline-editor__frames-container\" key={layer.id}>\n                        <div className=\"timeline-editor__frames-layer\"\n                            style={{width: this.state.seconds*SECONDS_LENGTH*SECONDS_CHUNKS/20}}\n                            onMouseMove={(e) => this.handleFrameDraggin(e)}\n                        >\n                        {this.state.frames[layer.id] &&\n                        this.state.frames[layer.id].map((frame, index) =>\n                            <TimelineFrame\n                                frameId={layer.id}\n                                key={index}\n                                index={index}\n                                frame={frame}\n                                layerKey={layer.id}\n                                dragEvent={this.handleFrameDragStart.bind(this)}\n                                groupNames={this.groupNames.bind(this)}\n                            />\n                        )}\n                        </div>\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n","import React from 'react'\r\n\r\nexport default class RulerSelectorIn extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {theKey: props.key, black: props.black};\r\n    }\r\n\r\n    playStop(){\r\n        this.setState({black: !this.state.black});\r\n        this.props.playStop(this.state.black, this.props.theKey);\r\n    }\r\n\r\n    render() {\r\n        this.state.black = this.props.black;\r\n        let btn_class = this.state.black ? \"button-play\" : \"button-pause\";\r\n        return (\r\n            <li id={this.state.theKey} onClick={this.playStop.bind(this)} className={btn_class}>\r\n            </li>\r\n        );\r\n    }\r\n}","import React from \"react\";\nimport TimelineFrames from \"./timeline-frames.jsx\";\nimport TimelineHeader from \"./timeline-layer-header.jsx\";\nimport PropTypes from \"prop-types\";\nimport \"./timeline.css\";\n\nclass Timeline extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {layers: props.layers, frames: props.frames, secondsInit:0,\n            secondsOut:15, black:true,\n        };\n    }\n\n    onUpdateFrames(framesUpdated) {\n        this.setState({frames: framesUpdated});\n        this.props.onUpdateFrames(framesUpdated);\n    }\n\n    groupNames(names) {\n        this.props.groupNames(names);\n    }\n\n    playStop(bool, theKey) {\n        this.props.playSound(bool, theKey);\n    }\n\n    render() {\n        return <div className=\"timeline-editor\">\n            <div className=\"timeline-editor__container\">\n                <div className=\"timeline-editor__layers\">\n                    <div className=\"timeline-editor__layers-header\">Capas</div>\n                    <ul>\n                        {this.state.layers.map((layer) =>\n                            <TimelineHeader key={layer.id} theKey={layer.id} black={layer.black}\n                                            playStop={this.playStop.bind(this)}/>\n                        )}\n                    </ul>\n                </div>\n                <TimelineFrames\n                    frames={this.state.frames}\n                    layers={this.state.layers}\n                    seconds=\"600\"\n                    secondsInit={this.state.secondsInit}\n                    secondsOut={this.state.secondsOut}\n                    updateFrames={this.onUpdateFrames.bind(this)}\n                    groupNames={this.groupNames.bind(this)}\n                />\n            </div>\n        </div>\n    }\n}\n\nTimeline.propTypes = {\n    layers: PropTypes.arrayOf(PropTypes.shape({\n        id: PropTypes.string,\n        name: PropTypes.string,\n        black: PropTypes.boolean\n    })),\n    frames: PropTypes.objectOf(PropTypes.arrayOf(\n        PropTypes.shape({\n            name: PropTypes.string,\n            second: PropTypes.number,\n            duration: PropTypes.number,\n            bgcolor: PropTypes.string,\n        })\n    ))\n}\n\nexport default Timeline;\n"],"sourceRoot":""}