(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{190:function(e,t,a){e.exports=a(657)},195:function(e,t,a){},654:function(e,t,a){},655:function(e,t,a){},657:function(e,t,a){"use strict";a.r(t);var r,n,s=a(4),o=a.n(s),i=a(189),l=a.n(i),u=(a(195),a(14)),f=a(15),c=a(196),p=a(624),h=a(653),d=new(window.AudioContext||window.webkitAudioContext);function m(e){return e<0?-1:e>0?1:0}function b(e,t,a){var r=new Array(3),n=new Array(a+1),s=new Array(a+1);n[0]=t,n.fill(0,1,a),n[a]=1,s[0]=1,s.fill(0,1,a),s[a]=t;var o=x(n,s,e);return r[0]=o,r[1]=n,r[2]=s,r}function v(e,t){var a=new Array(e.length+t.length-1);a.fill(0);for(var r=0;r<e.length;r++)for(var n=0;n<t.length;n++)a[r+n]+=t[n]*e[r];return a}function g(e,t,a,r){var n=new Array(2);return n[0]=v(e,a),n[1]=v(t,r),n}function y(e,t){for(var a=new Array(e.length),r=0;r<e.length;r++)0==e[r]?a[r]=0:a[r]=Math.pow(e[r],t);return a}function x(e,t,a){1!=t[0]&&(t=c.divide(t,t[0]),e=c.divide(e,t[0]));for(var r=new Array(a.length),n=a.length,s=Math.max(t.length,e.length),o=s-t.length;o>0;o--)t.push(0);for(var i=s-e.length;i>0;i--)e.push(0);var l=new Array(s);l.fill(0);for(var u=0;u<n;u++){for(var f=s-1;f>0;)u>=f&&(l[f-1]=e[f]*a[u-f]-t[f]*r[u-f]+l[f]),f--;r[u]=e[0]*a[u]+l[0]}return r}function k(e,t){var a=e.length,r=new Float32Array(a+t.length);return r.set(e),r.set(t,a),r}var N=function(){function e(){Object(u.a)(this,e),this.sounds=[]}return Object(f.a)(e,[{key:"searchAudio",value:function(e){for(var t=0;t<this.sounds.length;t++)if(this.sounds[t].nombre==e)return this.sounds[t];return null}},{key:"changeOffset",value:function(e,t){var a=this.searchAudio(e);a.offset=t*a.datos.buffer.sampleRate}},{key:"replace",value:function(e,t){for(var a=0;a<this.sounds.length;a++)this.sounds[a].nombre==e&&(this.sounds[a].datos=t)}},{key:"delete",value:function(e){for(var t=0;t<e.lenght;t++){for(var a=void 0,r=!1,n=0;n<this.sounds.length;n++)if(this.sounds[n].nombre==e[t]){a=n,r=!0;break}r&&(this.sounds.splice(a,1),console.log(e[t]))}}},{key:"getLength",value:function(e){return this.searchAudio(e[0]).datos.buffer.duration}},{key:"getOffset",value:function(e){return this.searchAudio(e[0]).offset}},{key:"cut",value:function(e,t,a){for(var r=this.searchAudio(e[0]).datos,n=t*r.buffer.sampleRate,s=a*r.buffer.sampleRate,o=0;o<e.length;o++){var i=(r=this.searchAudio(e[o])).datos,l=d.createBufferSource();l.buffer=d.createBuffer(i.buffer.numberOfChannels,i.buffer.length-(s-n),i.buffer.sampleRate);for(var u=0;u<i.buffer.numberOfChannels;u++)for(var f=i.buffer.getChannelData(u),c=l.buffer.getChannelData(u),p=0,h=0;p<f.length;p++,h++)p==n&&(p+=s-n),c[h]=f[p];l.connect(d.destination),this.replace(r.nombre,l)}}},{key:"duplicate",value:function(e,t){for(var a=0;a<e.length;a++){var r=this.searchAudio(e[a]),n=r.datos,s=d.createBufferSource();s.buffer=d.createBuffer(n.buffer.numberOfChannels,n.buffer.length,n.buffer.sampleRate),s.connect(d.destination);for(var o=0;o<n.buffer.numberOfChannels;o++)s.buffer.copyToChannel(n.buffer.getChannelData(o),o);this.sounds.push({nombre:t[a],datos:s,offset:r.offset})}}},{key:"join",value:function(e){var t=this.searchAudio(e[0]),a=this.searchAudio(e[1]);if(t.datos.buffer.numberOfChannels==a.datos.buffer.numberOfChannels){var r=d.createBufferSource();r.buffer=d.createBuffer(t.datos.buffer.numberOfChannels,t.datos.buffer.length+a.datos.buffer.length,t.datos.buffer.sampleRate);for(var n=0;n<t.datos.buffer.numberOfChannels;n++){var s=k(t.datos.buffer.getChannelData(n),a.datos.buffer.getChannelData(n));r.buffer.copyToChannel(s,n)}this.replace(t.nombre,r),this.delete(e[1])}}},{key:"combine",value:function(e){for(var t,a=Number.POSITIVE_INFINITY,r=0,n=0;n<e.length;n++)(t=this.searchAudio(e[n])).offset<a&&(a=t.offset),t.offset+t.datos.buffer.length>r&&(r=t.offset+t.datos.buffer.length);var s=d.createBufferSource();s.buffer=d.createBuffer(t.datos.buffer.numberOfChannels,r,t.datos.buffer.sampleRate);for(var o=0;o<e.length;o++){t=this.searchAudio(e[o]);for(var i=0;i<t.datos.buffer.numberOfChannels;i++)for(var l=s.buffer.getChannelData(i),u=t.datos.buffer.getChannelData(i),f=0,c=t.offset-a;f<t.datos.buffer.length;f++,c++)l[c]+=u[f]}this.sounds.push({nombre:"combinacion"+new String(0),datos:s,offset:a})}},{key:"buildGroup",value:function(e,t){var a=this.searchAudio(e[0]),r=d.createBufferSource();r.buffer=d.createBuffer(a.datos.buffer.numberOfChannels,t*a.datos.buffer.sampleRate,a.datos.buffer.sampleRate);for(var n=0;n<e.length;n++){a=this.searchAudio(e[n]);for(var s=0;s<a.datos.buffer.numberOfChannels;s++)for(var o=r.buffer.getChannelData(s),i=a.datos.buffer.getChannelData(s),l=0,u=a.offset;l<a.datos.buffer.length;l++,u++)o[u]+=i[l]}return r.connect(d.destination),[r,d]}},{key:"playGroup",value:function(e,t){this.buildGroup(e,t)[0].start(0)}},{key:"playSound",value:function(e){var t=this.searchAudio(e);null!=t&&((n=d.createBufferSource()).buffer=t.datos.buffer,n.connect(d.destination),n.start(0))}},{key:"stopCurrentSound",value:function(){null!=n&&(n.stop(0),n=null)}},{key:"delay",value:function(e,t,a,s,o,i,l){var u=this.searchAudio(e);r=u.datos;for(var f=Math.floor(r.buffer.sampleRate*t),c=1/o,p=0;p<r.buffer.numberOfChannels;p++){for(var h=r.buffer.getChannelData(p),d=h.slice(a*r.buffer.sampleRate,s*r.buffer.sampleRate+f*o),m=0,b=a*r.buffer.sampleRate;m<s*r.buffer.sampleRate;b+=f,m+=f)for(var v=h.slice(b,b+f),g=b,y=0,x=1;y<o;y++,x-=c){for(var k=g,N=0;N<f;k++,N++)d[k]=d[k]+v[N]*x;g+=f}if(l)for(var C=n.buffer.getChannelData(p),R=0,O=a*r.buffer.sampleRate;R<d.length;R++,O++)C[R]+=d[R]*i;else for(var S=0,D=a*r.buffer.sampleRate;S<d.length;S++,D++)h[D]=d[S]*i}}},{key:"showDelay",value:function(e,t,a,r,s,o){var i=this.searchAudio(e[0]).datos,l=Math.floor(i.buffer.sampleRate*t);(n=d.createBufferSource()).buffer=d.createBuffer(i.buffer.numberOfChannels,r*i.buffer.sampleRate+l*s-a*i.buffer.sampleRate,i.buffer.sampleRate);for(var u=0;u<e.length;u++)this.delay(e[u],t,a,r,s,o,!0);n.connect(d.destination),n.start(0)}},{key:"applyDelay",value:function(e,t,a,r,n,s){for(var o=0;o<e.length;o++)this.delay(e[o],t,a,r,n,s,!1)}},{key:"ping_pong_delay",value:function(e,t,a,s,o,i,l){var u=this.searchAudio(e);r=u.datos;for(var f=Math.floor(r.buffer.sampleRate*t),c=1/o,p=0,h=0;h<r.buffer.numberOfChannels;h++){for(var d=r.buffer.getChannelData(h),m=d.slice(a*r.buffer.sampleRate,s*r.buffer.sampleRate+f*o),b=0,v=a*r.buffer.sampleRate;b<s*r.buffer.sampleRate;v+=f,b+=f)for(var g=d.slice(v,v+f),y=v,x=0,k=1;x<o;x++,k-=c){for(var N=y,C=0;C<f;N++,C++)m[N]=m[N]+g[C]*k;y+=f}if(l)for(var R=n.buffer.getChannelData(h),O=0,S=p;O<m.length;O+=f,S+=f)for(var D=0;D<f;D++,O++,S++)R[S]+=m[O]*i;else for(var F=p,w=a*r.buffer.sampleRate+p;F<m.length;F+=f,w+=f)for(var M=0;M<f;M++,F++,w++)d[w]=m[F]*i;p=f}}},{key:"showPingPongDelay",value:function(e,t,a,r,s,o){var i=this.searchAudio(e[0]).datos,l=Math.floor(i.buffer.sampleRate*t);(n=d.createBufferSource()).buffer=d.createBuffer(i.buffer.numberOfChannels,r*i.buffer.sampleRate+l*s-a*i.buffer.sampleRate,i.buffer.sampleRate);for(var u=0;u<e.length;u++)this.ping_pong_delay(e[u],t,a,r,s,o,!0);n.connect(d.destination),n.start(0)}},{key:"applyPingPongDelay",value:function(e,t,a,r,n,s){for(var o=0;o<e.length;o++)this.ping_pong_delay(e[o],t,a,r,n,s,!1)}},{key:"crescendo",value:function(e,t,a,s,o,i,l){for(var u=this.searchAudio(e),f=t*(r=u.datos).buffer.sampleRate,c=a*r.buffer.sampleRate,p=(o-s)/(c-f),h=0;h<r.buffer.numberOfChannels;h++){var d=r.buffer.getChannelData(h);if(l)for(var m=n.buffer.getChannelData(h),b=f,v=0,g=s;b<c;b++,v++,g+=p)m[v]+=d[b]*g*i;else for(var y=f,x=s;y<c;y++,x+=p)d[y]=d[y]*x*i}}},{key:"showCrescendo",value:function(e,t,a,r,s,o){var i=this.searchAudio(e[0]).datos;(n=d.createBufferSource()).buffer=d.createBuffer(i.buffer.numberOfChannels,a*i.buffer.sampleRate-t*i.buffer.sampleRate,i.buffer.sampleRate);for(var l=0;l<e.length;l++)this.crescendo(e[l],t,a,r,s,o,!0);n.connect(d.destination),n.start(0)}},{key:"applyCrescendo",value:function(e,t,a,r,n,s){for(var o=0;o<e.length;o++)this.crescendo(e[o],t,a,r,n,s,!1)}},{key:"decrescendo",value:function(e,t,a,s,o,i,l){for(var u=this.searchAudio(e),f=t*(r=u.datos).buffer.sampleRate,c=a*r.buffer.sampleRate,p=Math.abs(o-s)/(c-f),h=0;h<r.buffer.numberOfChannels;h++){var d=r.buffer.getChannelData(h);if(l)for(var m=n.buffer.getChannelData(h),b=f,v=0,g=o;b<c;b++,v++,g-=p)m[v]+=d[b]*g*i;else for(var y=f,x=o;y<c;y++,x-=p)d[y]=d[y]*x*i}}},{key:"showDecrescendo",value:function(e,t,a,r,s,o){var i=this.searchAudio(e[0]).datos;(n=d.createBufferSource()).buffer=d.createBuffer(i.buffer.numberOfChannels,a*i.buffer.sampleRate-t*i.buffer.sampleRate,i.buffer.sampleRate);for(var l=0;l<e.length;l++)this.decrescendo(e[l],t,a,r,s,o,!0);n.connect(d.destination),n.start(0)}},{key:"applyDecrescendo",value:function(e,t,a,r,n,s){for(var o=0;o<e.length;o++)this.decrescendo(e[o],t,a,r,n,s,!1)}},{key:"distortion",value:function(e,t,a,s,o,i,l){for(var u=this.searchAudio(e),f=t*(r=u.datos).buffer.sampleRate,h=a*r.buffer.sampleRate,d=0;d<r.buffer.numberOfChannels;d++){var b=r.buffer.getChannelData(d),v=Array.from(b.slice(f,h)),g=(p.divide(v,c.max(c.abs(v))),p.negative(v.map(m)));b=p.multiply(g,p.subtract(p.ones(g.size),p.exp(p.multiply(g,p.multiply(v,o)))));var y=p.divide(p.multiply(p.multiply(b,c.max(c.abs(v))),i),c.max(c.abs(v))),x=p.add(y,p.multiply(v,1-i));if(x=p.divide(p.multiply(x,c.max(c.abs(v))),c.max(c.abs(x.selection.data))),l)for(var k=n.buffer.getChannelData(d),N=f,C=0;N<h;N++,C++)k[C]+=x.get(C)*s;else for(var R=r.buffer.getChannelData(d),O=f,S=0;O<h;O++,S++)R[O]=Number.parseFloat(x.get(S)*s)}}},{key:"showDistorion",value:function(e,t,a,r,s,o){var i=this.searchAudio(e[0]).datos;(n=d.createBufferSource()).buffer=d.createBuffer(i.buffer.numberOfChannels,a*i.buffer.sampleRate-t*i.buffer.sampleRate,i.buffer.sampleRate);for(var l=0;l<e.length;l++)this.distortion(e[l],t,a,r,s,o,!0);n.connect(d.destination),n.start(0)}},{key:"applyDistortion",value:function(e,t,a,r,n,s){console.log("holito");for(var o=0;o<e.length;o++)this.distortion(e[o],t,a,r,n,s,!1)}},{key:"overdrive",value:function(e,t,a,s,o,i,l,u){for(var f=this.searchAudio(e),c=t*(r=f.datos).buffer.sampleRate,p=a*r.buffer.sampleRate,h=0;h<r.buffer.numberOfChannels;h++){var d=r.buffer.getChannelData(h);if(u)for(var m=n.buffer.getChannelData(h),b=c,v=0;b<p;b++,v++)Math.abs(d[b])<1/3?m[v]+=2*l*Math.abs(d[b]):Math.abs(d[b])>=1/3?d[b]>0?m[v]+=i*(3-(2-3*d[b])*(2-3*d[b]))/3:m[v]+=i*(3-(2-3*Math.abs(d[b]))*(2-3*Math.abs(d[b])))/3:Math.abs(d[b])>=2/3&&(d[b]>0?m[v]+=1*o:m[v]+=-1*o);else{r.buffer.getChannelData(h);for(var g=c;g<p;g++)Math.abs(d[g])<1/3?d[g]=2*l*Math.abs(d[g]):Math.abs(d[g])>=1/3?d[g]>0?d[g]=i*(3-(2-3*d[g])*(2-3*d[g]))/3:d[g]=-i*(3-(2-3*Math.abs(d[g]))*(2-3*Math.abs(d[g])))/3:Math.abs(d[g])>=2/3&&(d[g]>0?d[g]=1*o:d[g]=1*-o)}}}},{key:"showOverdrive",value:function(e,t,a,r,s,o,i){var l=this.searchAudio(e[0]).datos;(n=d.createBufferSource()).buffer=d.createBuffer(l.buffer.numberOfChannels,a*l.buffer.sampleRate-t*l.buffer.sampleRate,l.buffer.sampleRate);for(var u=0;u<e.length;u++)this.overdrive(e[u],t,a,r,s,o,i,!0);n.connect(d.destination),n.start(0)}},{key:"applyOverdrive",value:function(e,t,a,r,n,s,o){for(var i=0;i<e.length;i++)this.overdrive(e[i],t,a,r,n,s,o,!1)}},{key:"flanger",value:function(e,t,a,s,o,i,l,u){var f=this.searchAudio(e);r=f.datos;var c=Math.floor(t*r.buffer.sampleRate),h=Math.floor(a*r.buffer.sampleRate),d=Math.floor(o*r.buffer.sampleRate),m=p.arange(0,h-c);m=p.multiply(Array.from(m.selection.data),2*Math.PI*(i/r.buffer.sampleRate));for(var b=p.sin(m),v=0;v<r.buffer.numberOfChannels;v++){var g=r.buffer.getChannelData(v);if(u){for(var y=n.buffer.getChannelData(v),x=0,k=c;x<d;x++,k++)y[x]+=g[k];for(var N=void 0,C=void 0,R=c+d,O=d;R<h;R++,O++)N=Math.abs(b.selection.data[O]),C=Math.ceil(N*d),y[O]+=l*g[R]+l*g[R-C]}else for(var S=void 0,D=void 0,F=c+d,w=d;F<h;F++,w++)S=Math.abs(b.selection.data[w]),D=Math.ceil(S*d),g[F]=l*g[F]+l*g[F-D]}}},{key:"showFlanger",value:function(e,t,a,r,s,o,i){var l=this.searchAudio(e[0]).datos;console.log(this.searchAudio(e[0]).nombre),(n=d.createBufferSource()).buffer=d.createBuffer(l.buffer.numberOfChannels,a*l.buffer.sampleRate-t*l.buffer.sampleRate,l.buffer.sampleRate);for(var u=0;u<e.length;u++)this.flanger(e[u],t,a,r,s,o,i,!0);n.connect(d.destination),n.start(0)}},{key:"applyFlanger",value:function(e,t,a,r,n,s,o){for(var i=0;i<e.length;i++)this.flanger(e[i],t,a,r,n,s,o,!1)}},{key:"stereo_panner",value:function(e,t,a,s,o,i,l,u){var f=this.searchAudio(e);r=f.datos;for(var p=Math.floor(t*r.buffer.sampleRate),h=Math.floor(a*r.buffer.sampleRate),d=new Array(h-p).fill(0),m=0;m<r.buffer.numberOfChannels;m++)for(var b=r.buffer.getChannelData(m),v=0,g=p;v<d.length;v++,g++)d[v]+=b[g];for(var y=(i-l)/o*Math.PI/180,x=Math.ceil((h-p)/o),k=0,N=i*Math.PI/180,C=[new Array(0),new Array(0)],R=0;R<o;R++){var O=[[Math.cos(N),Math.sin(N)],[-1*Math.sin(N),Math.cos(N)]],S=d.slice(k,k+x),D=[S,S],F=c.multiply(O,D);C[0]=C[0].concat(F[0]),C[1]=C[1].concat(F[1]),k+=x,N+=y}if(u)for(var w=n.buffer.getChannelData(0),M=n.buffer.getChannelData(1),I=0;I<C[0].length;I++)w[I]+=s*C[0][I],M[I]+=s*C[1][I];else for(var _=r.buffer.getChannelData(0),E=r.buffer.getChannelData(1),A=0,j=p;A<C[0].length;A++,j++)_[j]=s*C[0][A],E[j]=s*C[1][A]}},{key:"showStereoPanner",value:function(e,t,a,r,s,o,i){var l=this.searchAudio(e[0]).datos;(n=d.createBufferSource()).buffer=d.createBuffer(l.buffer.numberOfChannels,a*l.buffer.sampleRate-t*l.buffer.sampleRate,l.buffer.sampleRate);for(var u=0;u<e.length;u++)this.stereo_panner(e[u],t,a,r,s,o,i,!0);n.connect(d.destination),n.start(0)}},{key:"applyStereoPanner",value:function(e,t,a,r,n,s,o){for(var i=0;i<e.length;i++)this.stereo_panner(e[i],t,a,r,n,s,o,!1)}},{key:"ringModulator",value:function(e,t,a,s,o,i,l,u){var f=this.searchAudio(e);r=f.datos;for(var c=Math.floor(t*r.buffer.sampleRate),p=Math.floor(a*r.buffer.sampleRate),h=new Array(0);h.length<p-c;){for(var d=i;d>=o;d-=l)h.push(d);for(var m=o;m<i;m+=l)h.push(m)}h=h.slice(0,p-c);for(var b=0;b<r.buffer.numberOfChannels;b++){var v=r.buffer.getChannelData(b);if(u)for(var g=n.buffer.getChannelData(b),y=0,x=c;x<p;y++,x++)g[y]+=v[x]*h[y]*s;else for(var k=0,N=c;N<p;k++,N++)v[N]=v[N]*h[k]*s}}},{key:"showRingModulator",value:function(e,t,a,r,s,o,i){var l=this.searchAudio(e[0]).datos;(n=d.createBufferSource()).buffer=d.createBuffer(l.buffer.numberOfChannels,a*l.buffer.sampleRate-t*l.buffer.sampleRate,l.buffer.sampleRate);for(var u=0;u<e.length;u++)this.ringModulator(e[u],t,a,r,s,o,i,!0);n.connect(d.destination),n.start(0)}},{key:"applyRingModulator",value:function(e,t,a,r,n,s,o){for(var i=0;i<e.length;i++)this.ringModulator(e[i],t,a,r,n,s,o,!1)}},{key:"compressor",value:function(e,t,a,s,o,i,l){var u=this.searchAudio(e);r=u.datos;for(var f=Math.floor(t*r.buffer.sampleRate),h=Math.floor(a*r.buffer.sampleRate),d=0;d<r.buffer.numberOfChannels;d++){var m=r.buffer.getChannelData(d),b=Array.from(m.slice(f,h)),v=x([(1-i)*(1-i)],[1,-2*i,i*i],c.abs(b));v=y(v=p.divide(v,p.max(v)).selection.data,o);var g=p.multiply(b,v).selection.data,k=c.max(c.abs(b))/c.max(c.abs(g));if(g=p.multiply(g,k).selection.data,l)for(var N=n.buffer.getChannelData(d),C=0;C<b.length;C++)N[C]=s*g[C];else for(var R=0,O=f;R<b.length;R++,O++)m[O]=s*g[R]}}},{key:"showCompressor",value:function(e,t,a,r,s,o){var i=this.searchAudio(e[0]).datos;(n=d.createBufferSource()).buffer=d.createBuffer(i.buffer.numberOfChannels,a*i.buffer.sampleRate-t*i.buffer.sampleRate,i.buffer.sampleRate);for(var l=0;l<e.length;l++)this.compressor(e[l],t,a,r,s,o,!0);n.connect(d.destination),n.start(0)}},{key:"applyCompressor",value:function(e,t,a,r,n,s){for(var o=0;o<e.length;o++)this.compressor(e[o],t,a,r,n,s,!1)}},{key:"reverb",value:function(e,t,a,s,o,i,l,u){var f=this.searchAudio(e);r=f.datos;var h=Math.floor(t*r.buffer.sampleRate),d=Math.floor(a*r.buffer.sampleRate),m=p.multiply(p.random(o),.2);m=p.round(p.multiply(m,.05*r.buffer.sampleRate)).selection.data;for(var v=0;v<r.buffer.numberOfChannels;v++){for(var y=b(Array.from(r.buffer.getChannelData(v).slice(h,d)),i,m[0]),x=y[1],k=y[2],N=y[0],C=1;C<o;C++){var R=b(N,i,m[C]),O=g(R[1],R[2],x,k);k=O[1],x=O[0],N=R[0]}var S=c.max(N);if(u)for(var D=n.buffer.getChannelData(v),F=0;F<N.length;F++)D[F]=N[F]/S}}},{key:"showReverb",value:function(e,t,a,r,s,o,i){var l=this.searchAudio(e[0]).datos;(n=d.createBufferSource()).buffer=d.createBuffer(l.buffer.numberOfChannels,a*l.buffer.sampleRate-t*l.buffer.sampleRate,l.buffer.sampleRate);for(var u=0;u<e.length;u++)this.reverb(e[u],t,a,r,s,o,i,!0);n.connect(d.destination),n.start(0)}},{key:"processConcatenatedFile",value:function(e,t){var a=d.createBufferSource();d.decodeAudioData(t,function(e){a.buffer=e,a.connect(d.destination)},function(e){console.log("Error with decoding audio data"+e.err)}),this.sounds.push({nombre:e,datos:a,offset:0})}},{key:"exportToWav",value:function(e,t){var a=this.buildGroup(e,t);a[0],a[1];return h(a[0].buffer,[])}}]),e}(),C=a(22),R=a(21),O=a(23),S=(a(654),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(C.a)(this,Object(R.a)(t).call(this,e))).state={llar:e.llar,playing:!1,position:0,leftDragDot:"0px",progressWidth:"0px",buttonClassName:"button fa fa-play"},a.progressBar=o.a.createRef(),a.button=o.a.createRef(),a.state.notloaded=!0,a}return Object(O.a)(t,e),Object(f.a)(t,[{key:"play",value:function(e){this.state.position>=this.props.endTime&&(this.state.position=0),e&&(this.state.position=e);var t=this.state.llar.buildGroup(this.props.names,this.props.endTime);this.state.sound=t[0],this.state.audioCtx=t[1],this.state.notloaded&&(this.draw(),this.state.notloaded=!1),this.state.startTime=this.state.audioCtx.currentTime-this.state.position,this.state.sound.start(0,this.state.position,this.props.endTime),this.state.playing=!0}},{key:"pause",value:function(){this.state.playing&&(this.state.position=this.state.audioCtx.currentTime-this.state.startTime,this.state.sound.stop(0),this.state.playing=!1)}},{key:"toggle",value:function(){this.state.playing?this.pause():this.play()}},{key:"onMouseDown",value:function(e){this.state.dragging=!0,this.state.startX=e.pageX,this.state.startLeftDragDot=parseInt(this.state.leftDragDot||0,10)}},{key:"onDrag",value:function(e){var t,a;this.state.dragging&&(t=this.progressBar.current.offsetWidth,a=this.state.startLeftDragDot+(e.pageX-this.state.startX),a=Math.max(Math.min(t,a),0),this.setState({leftDragDot:a+"px"}))}},{key:"onMouseUp",value:function(){var e,t;this.state.dragging&&(e=this.progressBar.current.offsetWidth,t=parseInt(this.state.leftDragDot||0,10)/e*this.state.sound.buffer.duration,this.state.dragging=!1,this.seek(t))}},{key:"seek",value:function(e){this.state.playing?(this.state.sound.stop(0),this.draw(),this.play(e)):(this.setState({position:e}),this.draw())}},{key:"updatePosition",value:function(){return this.state.position=this.state.playing?this.state.audioCtx.currentTime-this.state.startTime:this.state.position,this.state.position>=this.state.sound.buffer.duration&&(this.state.position=this.state.sound.buffer.duration,this.pause()),this.state.position}},{key:"draw",value:function(){if(!this.state.dragging){var e=this.updatePosition()/this.state.sound.buffer.duration,t=this.progressBar.current.offsetWidth;this.state.playing?this.setState({buttonClassName:"button fa fa-pause"}):this.setState({buttonClassName:"button fa fa-play"}),this.setState({progressWidth:e*t+"px"}),this.dragging||this.setState({leftDragDot:e*t+"px"}),requestAnimationFrame(this.draw.bind(this))}}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"player",onMouseMove:function(t){return e.onDrag(t)},onMouseUp:function(){return e.onMouseUp()}},o.a.createElement("button",{className:this.state.buttonClassName,ref:this.button,onClick:this.toggle.bind(this)}),o.a.createElement("div",{className:"progressBar",ref:this.progressBar},o.a.createElement("div",{className:"progress",style:{width:this.state.progressWidth}}),o.a.createElement("div",{className:"dragDot",style:{left:this.state.leftDragDot},onMouseDown:function(t){return e.onMouseDown(t)}})))}}]),t}(o.a.Component));function D(e,t){for(var a=String(e);a.length<(t||2);)a="0"+a;return a}var F,w,M,I=60,_=function(e){function t(e){return Object(u.a)(this,t),Object(C.a)(this,Object(R.a)(t).call(this,e))}return Object(O.a)(t,e),Object(f.a)(t,[{key:"handleMouseClick",value:function(e){this.props.dragEvent(e,"init")}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"timeline-editor__frames-ruler__iarrow",style:{left:this.props.seconds-this.props.seconds%5},onMouseDown:function(t){return e.handleMouseClick(t)},id:"initial-selector"},Math.floor(this.props.seconds/5))}}]),t}(o.a.Component),E=function(e){function t(e){return Object(u.a)(this,t),Object(C.a)(this,Object(R.a)(t).call(this,e))}return Object(O.a)(t,e),Object(f.a)(t,[{key:"handleMouseClick",value:function(e){this.props.dragEvent(e,"out")}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"timeline-editor__frames-ruler__farrow",style:{left:this.props.seconds-this.props.seconds%5},onMouseDown:function(t){return e.handleMouseClick(t)},id:"final-selector"},Math.floor(this.props.seconds/5)+17)}}]),t}(o.a.Component),A=function(e){function t(e){var a;Object(u.a)(this,t),a=Object(C.a)(this,Object(R.a)(t).call(this,e));var r=e.seconds>0?e.seconds:I;return a.state={secondsList:t.getSecondsList(r),barInit:e.secondsInit,barOut:e.secondsOut,draggable:null},a}return Object(O.a)(t,e),Object(f.a)(t,[{key:"handleRulerDragStart",value:function(e,t){var a=e.clientX;this.setState({draggable:{startX:a,identify:t}})}},{key:"handleRulerDraggin",value:function(e){if(this.state.draggable){var t=e.clientX,a=t-this.state.draggable.startX;if("init"===this.state.draggable.identify){var r=this.state.barInit;r+=a,this.setState({barInit:r,draggable:{startX:t,identify:this.state.draggable.identify}}),this.props.updateRulerI(r)}else if("out"===this.state.draggable.identify){var n=this.state.barOut;n+=a,this.setState({barOut:n,draggable:{startX:t,identify:this.state.draggable.identify}}),this.props.updateRulerO(n)}}}},{key:"handleRulerDragEnd",value:function(){this.setState({draggable:null})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"timeline-editor__frames-ruler",style:{width:10*this.state.secondsList.length*10+20},onMouseUp:function(){return e.handleRulerDragEnd()},onMouseMove:function(t){return e.handleRulerDraggin(t)}},this.state.secondsList.map(function(e){return o.a.createElement("div",{className:"timeline-editor__frames-ruler-s10s",key:e},o.a.createElement("span",{style:{zIndex:1e3}},e),o.a.createElement("div",{className:"timeline-editor__frames-ruler__second"}),o.a.createElement("div",{className:"timeline-editor__frames-ruler__second"}),o.a.createElement("div",{className:"timeline-editor__frames-ruler__second"}),o.a.createElement("div",{className:"timeline-editor__frames-ruler__second"}),o.a.createElement("div",{className:"timeline-editor__frames-ruler__second"}))}),o.a.createElement("div",{className:"ruler-selector-container"},o.a.createElement(_,{seconds:this.state.barInit,dragEvent:this.handleRulerDragStart.bind(this)}),o.a.createElement(E,{seconds:this.state.barOut,dragEvent:this.handleRulerDragStart.bind(this)})))}}],[{key:"getSecondsList",value:function(e){var t=[],a=20,r=a;do{var n=Math.floor(a/60),s=a-60*n;t.push("".concat(D(n,2),":").concat(D(s,2))),a+=r}while(a<=e);return t}}]),t}(o.a.Component),j=function(e){function t(e){Object(u.a)(this,t);return Object(C.a)(this,Object(R.a)(t).call(this,e))}return Object(O.a)(t,e),Object(f.a)(t,[{key:"handleMouseClick",value:function(e){this.props.dragEvent(e,this.props.layerKey,this.props.index)}},{key:"addToPlay",value:function(){this.isChecked?this.isChecked=!1:this.isChecked=!0,this.props.groupNames(this.props.frameId,this.isChecked)}},{key:"render",value:function(){var e=this;return this.props.frame.seconds=Math.trunc(this.props.frame.seconds),o.a.createElement("div",{name:this.props.frameId,className:"timeline-editor__frames-layer__item",style:{width:5*this.props.frame.duration,left:5*this.props.frame.second-5*this.props.frame.second%5,backgroundColor:this.props.frame.bgcolor},onMouseDown:function(t){return e.handleMouseClick(t)},key:this.props.theKey},o.a.createElement("input",{name:this.props.frameId,type:"checkbox",onChange:function(t){return e.addToPlay(e.props.frame,t)}}),"Select",o.a.createElement("br",null),"Second: ",Math.trunc(this.props.frame.second),o.a.createElement("br",null),"Track name: ",this.props.frame.name)}}]),t}(o.a.Component),B=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(C.a)(this,Object(R.a)(t).call(this,e))).state={frames:e.frames,seconds:e.seconds,secondsInit:e.secondsInit,secondsOut:e.secondsOut,layers:e.layers,draggable:null,names:[]},a}return Object(O.a)(t,e),Object(f.a)(t,[{key:"updateFrames",value:function(){}},{key:"handleFrameDragStart",value:function(e,t,a){var r=e.clientX;this.setState({draggable:{currentLayer:t,currentElementIndex:a,startX:r}})}},{key:"handleFrameDraggin",value:function(e){if(this.state.draggable){var t=e.clientX,a=(t-this.state.draggable.startX)/5,r=this.state.draggable.currentElementIndex,n=this.state.draggable.currentLayer,s=this.state.frames;s[n][r].second+a<0||(s[n][r].second=s[n][r].second+a,this.setState({frames:s,draggable:{currentLayer:n,currentElementIndex:r,startX:t}}))}}},{key:"handleFrameDragEnd",value:function(){this.setState({draggable:null}),this.props.updateFrames(this.state.frames)}},{key:"updateRulerI",value:function(e){this.setState({secondsInit:e})}},{key:"updateRulerO",value:function(e){this.setState({secondsOut:e})}},{key:"groupNames",value:function(e,t){t?this.state.names.push(e):this.state.names.splice(this.state.names.indexOf(e),1),this.setState({names:this.state.names});for(var a=0;a<this.state.names.length;a++){for(var r=!1,n=0;n<this.state.layers.length;n++)this.state.layers[n].id==this.state.names[a]&&(r=!0);r||this.state.names.splice(a,1)}this.setState(this.state.names),this.props.groupNames(this.state.names)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"timeline-editor__frames",onMouseUp:function(){return e.handleFrameDragEnd()}},o.a.createElement(A,{seconds:this.state.seconds,secondsInit:this.state.secondsInit,secondsOut:this.state.secondsOut,updateRulerI:this.updateRulerI.bind(this),updateRulerO:this.updateRulerO.bind(this)}),this.state.layers.map(function(t){return o.a.createElement("div",{className:"timeline-editor__frames-container",key:t.id},o.a.createElement("div",{className:"timeline-editor__frames-layer",style:{width:10*e.state.seconds*10/20},onMouseMove:function(t){return e.handleFrameDraggin(t)}},e.state.frames[t.id]&&e.state.frames[t.id].map(function(a,r){return o.a.createElement(j,{frameId:t.id,key:r,index:r,frame:a,layerKey:t.id,dragEvent:e.handleFrameDragStart.bind(e),groupNames:e.groupNames.bind(e)})})))}))}}]),t}(o.a.Component),T=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(C.a)(this,Object(R.a)(t).call(this,e))).state={theKey:e.key,black:e.black},a}return Object(O.a)(t,e),Object(f.a)(t,[{key:"playStop",value:function(){this.setState({black:!this.state.black}),this.props.playStop(this.state.black,this.props.theKey)}},{key:"render",value:function(){this.state.black=this.props.black;var e=this.state.black?"button-play":"button-pause";return o.a.createElement("li",{id:this.state.theKey,onClick:this.playStop.bind(this),className:e})}}]),t}(o.a.Component),P=(a(655),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(C.a)(this,Object(R.a)(t).call(this,e))).state={layers:e.layers,frames:e.frames,secondsInit:0,secondsOut:15,black:!0},a}return Object(O.a)(t,e),Object(f.a)(t,[{key:"onUpdateFrames",value:function(e){this.setState({frames:e}),this.props.onUpdateFrames(e)}},{key:"groupNames",value:function(e){this.props.groupNames(e)}},{key:"playStop",value:function(e,t){this.props.playSound(e,t)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"timeline-editor"},o.a.createElement("div",{className:"timeline-editor__container"},o.a.createElement("div",{className:"timeline-editor__layers"},o.a.createElement("div",{className:"timeline-editor__layers-header"},"Capas"),o.a.createElement("ul",null,this.state.layers.map(function(t){return o.a.createElement(T,{key:t.id,theKey:t.id,black:t.black,playStop:e.playStop.bind(e)})}))),o.a.createElement(B,{frames:this.state.frames,layers:this.state.layers,seconds:"600",secondsInit:this.state.secondsInit,secondsOut:this.state.secondsOut,updateFrames:this.onUpdateFrames.bind(this),groupNames:this.groupNames.bind(this)})))}}]),t}(o.a.Component)),L=a(0),X=a(39),U=a.n(X),W=new N,K=0,G=[],H=[],q={};function z(e){for(var t=0;t<H.length;t++)W.changeOffset(H[t].id,Math.floor(e[H[t].id][0].second))}function J(){return"rgb("+Math.floor(120*Math.random()+125)+","+Math.floor(120*Math.random()+125)+","+Math.floor(0*Math.random()+125)+")"}function V(e,t){if(e){null!=F&&F!=t&&W.stopCurrentSound();for(var a=0;a<H.length;a++)H[a].id!=t&&(H[a].black=!0),H[a].id==t&&(H[a].black=!1);W.playSound(t),F=t}else{W.stopCurrentSound();for(var r=0;r<H.length;r++)H[r].id==F&&(H[r].black=!0);F=null}Q()}function Y(e){G=e,Q()}function Q(){l.a.render(o.a.createElement("div",{id:"allPageContent"},o.a.createElement("input",{className:"inputButton",id:"auInput",type:"file",style:{display:"none"},accept:"audio/mp3",onChange:function(e){return function(e){if(e.target.files&&e.target.files[0]){var t=e.target.files[0].name;M=URL.createObjectURL(e.target.files[0]);var a=new Audio(M);a.addEventListener("loadedmetadata",function(){H.push({id:"Track-"+(K+1),name:"Track-"+(K+1),black:!0}),q["Track-"+ ++K]=[{name:t,second:0,duration:a.duration-a.duration%5,track:a.src,bgcolor:J()}],(w=new XMLHttpRequest).open("GET",M,!0),w.responseType="arraybuffer",w.onload=function(){var e=w.response;e&&W.processConcatenatedFile("Track-"+K,e)},w.send(null),Q()},!1)}}(e)}}),o.a.createElement(P,{layers:H,frames:q,groupNames:Y,onUpdateFrames:z,playSound:V}),o.a.createElement(S,{llar:W,names:G,endTime:200})),document.getElementById("root"))}window.onload=function(){L("ocho").text(function(e){var t=("; "+document.cookie).split("; "+e+"=");if(2==t.length)return t.pop().split(";").shift()}("username")),L("#file-0").on("click",function(){L("#auInput").click()}),L("#auInput").on("change",function(){new FileReader}),L("#delay-volume").on("input change",function(e){L("#delay-span-volume").text(L(this).val())}),L("#delay-feedback").on("input change",function(e){L("#delay-span-feedback").text(L(this).val())}),L("#delay-time").on("input change",function(e){L("#delay-span-time").text(L(this).val())}),L("#stop-delay").click(function(){W.stopCurrentSound()}),L("#play-delay").click(function(){var e=Number.parseInt(L("#initial-selector").text()),t=Number.parseInt(L("#final-selector").text()),a=Number.parseFloat(L("#delay-span-volume").text()),r=Number.parseFloat(L("#delay-span-feedback").text()),n=Number.parseFloat(L("#delay-span-time").text());W.stopCurrentSound(),W.showDelay(G,n,e,t,r,a)}),L("#delay-aplicar").click(function(){var e=Number.parseInt(L("#initial-selector").text()),t=Number.parseInt(L("#final-selector").text()),a=Number.parseFloat(L("#delay-span-volume").text()),r=Number.parseFloat(L("#delay-span-feedback").text()),n=Number.parseFloat(L("#delay-span-time").text());W.applyDelay(G,n,e,t,r,a)}),L("#stop-ppdelay").click(function(){W.stopCurrentSound()}),L("#play-ppdelay").click(function(){var e=Number.parseInt(L("#initial-selector").text()),t=Number.parseInt(L("#final-selector").text()),a=Number.parseFloat(L("#ppdelay-span-volume").text()),r=Number.parseFloat(L("#ppdelay-span-feedback").text()),n=Number.parseFloat(L("#ppdelay-span-time").text());W.stopCurrentSound(),W.showPingPongDelay(G,n,e,t,r,a,!0)}),L("#ppdelay-aplicar").click(function(){var e=Number.parseInt(L("#initial-selector").text()),t=Number.parseInt(L("#final-selector").text()),a=Number.parseFloat(L("#ppdelay-span-volume").text()),r=Number.parseFloat(L("#ppdelay-span-feedback").text()),n=Number.parseFloat(L("#ppdelay-span-time").text());W.applyPingPongDelay(G,n,e,t,r,a,!1)}),L("#ppdelay-volume").on("input change",function(e){L("#ppdelay-span-volume").text(L(this).val())}),L("#ppdelay-feedback").on("input change",function(e){L("#ppdelay-span-feedback").text(L(this).val())}),L("#ppdelay-time").on("input change",function(e){L("#ppdelay-span-time").text(L(this).val())}),L("#crescendo-volume").on("input change",function(e){L("#crescendo-span-volume").text(L(this).val())}),L("#crescendo-li").on("input change",function(e){L("#crescendo-span-li").text(L(this).val())}),L("#crescendo-ls").on("input change",function(e){L("#crescendo-span-ls").text(L(this).val())}),L("#stop-crescendo").click(function(){W.stopCurrentSound()}),L("#play-crescendo").click(function(){var e=Number.parseInt(L("#initial-selector").text()),t=Number.parseInt(L("#final-selector").text()),a=Number.parseFloat(L("#ppdelay-span-volume").text()),r=Number.parseFloat(L("#crescendo-span-li").text()),n=Number.parseFloat(L("#crescendo-span-ls").text());W.stopCurrentSound(),W.showCrescendo(G,e,t,r,n,a)}),L("#crescendo-aplicar").click(function(){var e=Number.parseInt(L("#initial-selector").text()),t=Number.parseInt(L("#final-selector").text()),a=Number.parseFloat(L("#ppdelay-span-volume").text()),r=Number.parseFloat(L("#crescendo-span-li").text()),n=Number.parseFloat(L("#crescendo-span-ls").text());W.applyCrescendo(G,e,t,r,n,a)}),L("#decrescendo-volume").on("input change",function(e){L("#decrescendo-span-volume").text(L(this).val())}),L("#decrescendo-li").on("input change",function(e){L("#decrescendo-span-li").text(L(this).val())}),L("#decrescendo-ls").on("input change",function(e){L("#decrescendo-span-ls").text(L(this).val())}),L("#stop-decrescendo").click(function(){W.stopCurrentSound()}),L("#play-decrescendo").click(function(){var e=Number.parseInt(L("#initial-selector").text()),t=Number.parseInt(L("#final-selector").text()),a=Number.parseFloat(L("#crescendo-span-volume").text()),r=Number.parseFloat(L("#crescendo-span-li").text()),n=Number.parseFloat(L("#crescendo-span-ls").text());W.stopCurrentSound(),W.showDecrescendo(G,e,t,r,n,a)}),L("#decrescendo-aplicar").click(function(){var e=Number.parseInt(L("#initial-selector").text()),t=Number.parseInt(L("#final-selector").text()),a=Number.parseFloat(L("#decrescendo-span-volume").text()),r=Number.parseFloat(L("#decrescendo-span-li").text()),n=Number.parseFloat(L("#decrescendo-span-ls").text());W.applyDecrescendo(G,e,t,r,n,a)}),L("#distortion-volume").on("input change",function(e){L("#distortion-span-volume").text(L(this).val())}),L("#distortion-gain").on("input change",function(e){L("#distortion-span-gain").text(L(this).val())}),L("#distortion-mix").on("input change",function(e){L("#distortion-span-mix").text(L(this).val())}),L("#stop-distortion").click(function(){W.stopCurrentSound()}),L("#play-distortion").click(function(){var e=Number.parseInt(L("#initial-selector").text()),t=Number.parseInt(L("#final-selector").text()),a=Number.parseFloat(L("#distortion-span-volume").text()),r=Number.parseFloat(L("#distortion-span-gain").text()),n=Number.parseFloat(L("#distortion-span-mix").text());console.log(e+"+"+t),W.stopCurrentSound(),W.showDistorion(G,e,t,a,r,n)}),L("#distortion-aplicar").click(function(){var e=Number.parseInt(L("#initial-selector").text()),t=Number.parseInt(L("#final-selector").text()),a=Number.parseFloat(L("#distortion-span-volume").text()),r=Number.parseFloat(L("#distortion-span-gain").text()),n=Number.parseFloat(L("#distortion-span-mix").text());W.applyDistortion(G,e,t,a,r,n)}),L("#overdrive-volume").on("input change",function(e){L("#overdrive-span-volume").text(L(this).val())}),L("#overdrive-high-gain").on("input change",function(e){L("#overdrive-span-high-gain").text(L(this).val())}),L("#overdrive-mid-gain").on("input change",function(e){L("#overdrive-span-mid-gain").text(L(this).val())}),L("#overdrive-low-gain").on("input change",function(e){L("#overdrive-span-low-gain").text(L(this).val())}),L("#stop-overdrive").click(function(){W.stopCurrentSound()}),L("#play-overdrive").click(function(){var e=Number.parseInt(L("#initial-selector").text()),t=Number.parseInt(L("#final-selector").text()),a=Number.parseFloat(L("#overdrive-span-volume").text()),r=Number.parseFloat(L("#overdrive-span-high-gain").text()),n=Number.parseFloat(L("#overdrive-span-mid-gain").text()),s=Number.parseFloat(L("#overdrive-span-low-gain").text());W.stopCurrentSound(),W.showOverdrive(G,e,t,a,r,n,s)}),L("#overdrive-aplicar").click(function(){var e=Number.parseInt(L("#initial-selector").text()),t=Number.parseInt(L("#final-selector").text()),a=Number.parseFloat(L("#overdrive-span-volume").text()),r=Number.parseFloat(L("#overdrive-span-high-gain").text()),n=Number.parseFloat(L("#overdrive-span-mid-gain").text()),s=Number.parseFloat(L("#overdrive-span-low-gain").text());W.applyOverdrive(G,e,t,a,r,n,s)}),L("#operation-1").click(function(){!function(){if(1==G.length){var e=Number.parseInt(L("#initial-selector").text()),t=Number.parseInt(L("#final-selector").text());W.cut(G,e,t),q[G[0]]=[{name:q[G[0]][0].name,second:W.getOffset(G),duration:W.getLength(G),track:q[G[0]][0].track,bgcolor:J()}],Q(),U()({title:"Hecho",text:"Pista cortada",icon:"success"})}else G.length>1?U()({title:"Error",text:"Seleccione solo una pista",icon:"error"}):U()({title:"Error",text:"Seleccione una pista",icon:"error"})}()}),L("#operation-2").click(function(){!function(){for(var e=[],t=0;t<G.length;t++)K++,e.push("Track-"+K);W.duplicate(G,e);for(var a=0;a<e.length;a++)console.log(q[G[a]]),q[e[a]]=[{name:"Copy-"+q[G[a]][0].name,second:q[G[a]][0].second,duration:q[G[a]][0].duration,track:q[G[a]][0].track,bgcolor:J()}],H.push({id:e[a],name:e[a],black:!0});Q(),U()({title:"Hecho",text:"Pistas duplicadas",icon:"success"})}()}),L("#operation-3").click(function(){!function(){if(2==G.length){W.join(G),q[G[0]]=[{name:q[G[0]][0].name+"+"+q[G[1]][0].name,second:q[G[0]][0].second,duration:q[G[0]][0].duration+q[G[1]][0].duration,track:q[G[0]][0].track,bgcolor:J()}];for(var e=0;e<H.length;e++)if(H[e].id==G[1]){H.splice(e,1),delete q[G[1]];break}Q(),U()({title:"Hecho",text:"Pistas unidas",icon:"success"})}else G.length>2?U()({title:"Error",text:"Seleccione solo dos pistas",icon:"error"}):U()({title:"Error",text:"Seleccione dos pistas",icon:"error"})}()}),L("#operation-4").click(function(){!function(){if(G.length>=2){W.combine(G);for(var e=6e3,t=-1,a=0;a<G.length;a++)q[G[a]][0].second<e&&(e=q[G[a]][0].second),q[G[a]][0].duration+q[G[a]][0].second>t&&(t=q[G[a]][0].duration+q[G[a]][0].second);for(var r="Superpuestos:",n=0;n<G.length;n++){r=q[G[n]][0].name.length>20?r+"+"+q[G[n]][0].name.substring(0,20):r+"+"+q[G[n]][0].name}q[G[0]]=[{name:r,second:e,duration:t-e,track:q[G[0]][0].track,bgcolor:J()}];for(var s=1;s<G.length;s++)for(var o=0;o<H.length;o++)if(H[o].id==G[s]){H.splice(o,1),delete q[G[s]];break}Q()}else U()({title:"Error",text:"Seleccione al menos dos pistas",icon:"error"})}()}),L("#flanger-volume").on("input change",function(e){L("#flanger-span-volume").text(L(this).val())}),L("#flanger-time").on("input change",function(e){L("#flanger-span-time").text(L(this).val())}),L("#flanger-rate").on("input change",function(e){L("#flanger-span-rate").text(L(this).val())}),L("#flanger-amp").on("input change",function(e){L("#flanger-span-amp").text(L(this).val())}),L("#stop-flanger").click(function(){W.stopCurrentSound()}),L("#play-flanger").click(function(){var e=Number.parseInt(L("#initial-selector").text()),t=Number.parseInt(L("#final-selector").text()),a=Number.parseFloat(L("#flanger-span-volume").text()),r=Number.parseFloat(L("#flanger-span-time").text()),n=Number.parseFloat(L("#flanger-span-rate").text()),s=Number.parseFloat(L("#flanger-span-amp").text());W.stopCurrentSound(),W.showFlanger(G,e,t,a,r,n,s)}),L("#flanger-aplicar").click(function(){var e=Number.parseInt(L("#initial-selector").text()),t=Number.parseInt(L("#final-selector").text()),a=Number.parseFloat(L("#flanger-span-volume").text()),r=Number.parseFloat(L("#flanger-span-time").text()),n=Number.parseFloat(L("#flanger-span-rate").text()),s=Number.parseFloat(L("#flanger-span-amp").text());W.applyFlanger(G,e,t,a,r,n,s)}),L("#sp-volume").on("input change",function(e){L("#sp-span-volume").text(L(this).val())}),L("#sp-n_segments").on("input change",function(e){L("#sp-span-n_segments").text(L(this).val())}),L("#sp-initial_angle").on("input change",function(e){L("#sp-span-initial_angle").text(L(this).val())}),L("#sp-final_angle").on("input change",function(e){L("#sp-span-final_angle").text(L(this).val())}),L("#stop-stereo_panner").click(function(){W.stopCurrentSound()}),L("#play-stereo_panner").click(function(){var e=Number.parseInt(L("#initial-selector").text()),t=Number.parseInt(L("#final-selector").text()),a=Number.parseFloat(L("#sp-span-volume").text()),r=Number.parseFloat(L("#sp-span-n_segments").text()),n=Number.parseFloat(L("#sp-span-initial_angle").text()),s=Number.parseFloat(L("#sp-span-final_angle").text());W.stopCurrentSound(),W.showStereoPanner(G,e,t,a,r,n,s)}),L("#stereo_panner-aplicar").click(function(){var e=Number.parseInt(L("#initial-selector").text()),t=Number.parseInt(L("#final-selector").text()),a=Number.parseFloat(L("#sp-span-volume").text()),r=Number.parseFloat(L("#sp-span-n_segments").text()),n=Number.parseFloat(L("#sp-span-initial_angle").text()),s=Number.parseFloat(L("#sp-span-final_angle").text());W.applyStereoPanner(G,e,t,a,r,n,s)}),L("#rm-volume").on("input change",function(e){L("#rm-span-volume").text(L(this).val())}),L("#rm-minf").on("input change",function(e){L("#rm-span-minf").text(L(this).val())}),L("#rm-maxf").on("input change",function(e){L("#rm-span-maxf").text(L(this).val())}),L("#rm-delta").on("input change",function(e){L("#rm-span-delta").text(L(this).val())}),L("#stop-rm").click(function(){W.stopCurrentSound()}),L("#play-rm").click(function(){var e=Number.parseInt(L("#initial-selector").text()),t=Number.parseInt(L("#final-selector").text()),a=Number.parseFloat(L("#rm-span-volume").text()),r=Number.parseFloat(L("#rm-span-minf").text()),n=Number.parseFloat(L("#rm-span-maxf").text()),s=Number.parseFloat(L("#rm-span-delta").text());W.stopCurrentSound(),W.showRingModulator(G,e,t,a,r,n,s)}),L("#rm-aplicar").click(function(){var e=Number.parseInt(L("#initial-selector").text()),t=Number.parseInt(L("#final-selector").text()),a=Number.parseFloat(L("#rm-span-volume").text()),r=Number.parseFloat(L("#rm-span-minf").text()),n=Number.parseFloat(L("#rm-span-maxf").text()),s=Number.parseFloat(L("#rm-span-delta").text());W.applyRingModulator(G,e,t,a,r,n,s)}),L("#compressor-volume").on("input change",function(e){L("#compressor-span-volume").text(L(this).val())}),L("#compressor-comp").on("input change",function(e){L("#compressor-span-comp").text(L(this).val())}),L("#compressor-simetry").on("input change",function(e){L("#compressor-span-simetry").text(L(this).val())}),L("#stop-compressor").click(function(){W.stopCurrentSound()}),L("#play-compressor").click(function(){var e=Number.parseInt(L("#initial-selector").text()),t=Number.parseInt(L("#final-selector").text()),a=Number.parseFloat(L("#compressor-span-volume").text()),r=Number.parseFloat(L("#compressor-span-comp").text()),n=Number.parseFloat(L("#compressor-span-simetry").text());W.stopCurrentSound(),W.showCompressor(G,e,t,a,r,n)}),L("#compressor-aplicar").click(function(){var e=Number.parseInt(L("#initial-selector").text()),t=Number.parseInt(L("#final-selector").text()),a=Number.parseFloat(L("#compressor-span-volume").text()),r=Number.parseFloat(L("#compressor-span-comp").text()),n=Number.parseFloat(L("#compressor-span-simetry").text());W.applyCompressor(G,e,t,a,r,n)}),L("#file-1").click(function(){!function(){for(var e=-1,t=0;t<G.length;t++)q[G[t]][0].duration+q[G[t]][0].second>e&&(e=q[G[t]][0].duration+q[G[t]][0].second);var a=W.exportToWav(G,e),r=new window.Blob([new DataView(a)],{type:"audio/wav"}),n=document.createElement("a");document.body.appendChild(n),n.style="display: none";var s=window.URL.createObjectURL(r);n.href=s,n.download="audio.wav",n.click(),window.URL.revokeObjectURL(s)}()}),L("#file-2").click(function(){!function(){if(G.length>=1){W.delete(G);for(var e=0;e<G.length;e++){for(var t=void 0,a=!1,r=0;r<H.length;r++)if(G[e]===H[r].name){t=r,a=!0;break}delete q[G[e]],a&&H.splice(t,1)}G=[],Q()}else U()({title:"Error",text:"Seleccione al menos una pista",icon:"error"})}()})},Q()}},[[190,1,2]]]);
//# sourceMappingURL=main.fc1ef1a1.chunk.js.map